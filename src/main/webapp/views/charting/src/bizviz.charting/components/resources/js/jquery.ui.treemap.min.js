/*! BDB Charting Library V10.0.0 (2025-08-14 11:37:12) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
var TreemapUtils=TreemapUtils||{};TreemapUtils.KeySpline=function(e){var r=e.mX1||0,t=e.mY1||0,a=e.mX2||1,o=e.mY2||1;function s(e,t){return 1-3*t+3*e}function l(e,t){return 3*t-6*e}function d(e,t,o){return((s(t,o)*e+l(t,o))*e+3*t)*e}this.get=function(e){return r==t&&a==o?e:d(function(e){for(var t=e,o=0;o<4;++o){var i=function(e,t,o){return 3*s(t,o)*e*e+2*l(t,o)*e+3*t}(t,r,a);if(0==i)return t;var n=d(t,r,a)-e;t-=n/i}return t}(e),t,o)}},TreemapUtils.Easing={ease:{mX1:.25,mY1:.1,mX2:.25,mY2:1},linear:{mX1:0,mY1:0,mX2:1,mY2:1},"ease-in":{mX1:.42,mY1:0,mX2:1,mY2:1},"ease-out":{mX1:0,mY1:0,mX2:.58,mY2:1},"ease-in-out":{mX1:.42,mY1:0,mX2:.58,mY2:1}},TreemapUtils.sumArray=function(){function t(e,t){return e+t}return function(e){return e.reduce(t)}}(),TreemapUtils.deepCopy=function(e){if("[object Array]"===Object.prototype.toString.call(e))for(var t=[],o=0,i=e.length;o<i;o++)t[o]=arguments.callee(e[o]);else{if("object"!=typeof e)return e;t={};for(o in e)t[o]=arguments.callee(e[o])}return t},TreemapUtils.changeColor=function(e,t,o){e=(e=e.replace(/^\s*|\s*$/,"")).replace(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i,"#$1$1$2$2$3$3");var t=Math.round(256*t)*(o?-1:1),i=e.match(new RegExp("^rgba?\\(\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?:\\s*,\\s*(0|1|0?\\.\\d+))?\\s*\\)$","i")),n=i&&null!==i[4]?i[4]:null,e=i?[i[1],i[2],i[3]]:e.replace(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i,function(e,t,o,i){return parseInt(t,16)+","+parseInt(o,16)+","+parseInt(i,16)}).split(/,/);return i?"rgb"+(null!==n?"a":"")+"("+Math[o?"max":"min"](parseInt(e[0],10)+t,o?0:255)+", "+Math[o?"max":"min"](parseInt(e[1],10)+t,o?0:255)+", "+Math[o?"max":"min"](parseInt(e[2],10)+t,o?0:255)+(null!==n?", "+n:"")+")":["#",Math[o?"max":"min"](parseInt(e[0],10)+t,o?0:255).toString(16).lpad("0",2),Math[o?"max":"min"](parseInt(e[1],10)+t,o?0:255).toString(16).lpad("0",2),Math[o?"max":"min"](parseInt(e[2],10)+t,o?0:255).toString(16).lpad("0",2)].join("")},TreemapUtils.lighterColor=function(e,t){return TreemapUtils.changeColor(e,t,!1)},TreemapUtils.darkerColor=function(e,t){return TreemapUtils.changeColor(e,t,!0)},TreemapUtils.rgb2hex=function(e){return"#"+(e[2]|e[1]<<8|e[0]<<16).toString(16).lpad("0",6)},TreemapUtils.avgRgb=function(e){return Math.floor(TreemapUtils.sumArray(e)/3)},TreemapUtils.hex2rgb=function(e){return e.replace(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i,function(e,t,o,i){return parseInt(t,16)+","+parseInt(o,16)+","+parseInt(i,16)}).split(/,/)},TreemapUtils.squarify=function(t,e){function o(e){do{i=o=t=l=s=a=r=void 0;var t,o,i,n=function(e){var t=[];if(t.push(e.shift()),0!==e.length)for(var o=t.slice(),i=h.getWidth();o.push(e[0]),d(t,i)>d(o,i)&&(t=o.slice(),e.shift(),0<e.length););return t}(e),r=h.getX(),a=h.getY(),s=r+h.getW(),l=a+h.getH();if(h.getW()<h.getH()){for(l<=a+(t=Math.ceil(TreemapUtils.sumArray(n)/h.getW()))&&(t=l-a),o=0;o<n.length;o++)(s<r+(i=Math.ceil(n[o]/t))||o+1===n.length)&&(i=s-r),c.push([r,a,i,t]),r+=i;h.setY(a+t)}else{for(s<=r+(t=Math.ceil(TreemapUtils.sumArray(n)/h.getH()))&&(t=s-r),o=0;o<n.length;o++)(l<a+(i=Math.ceil(n[o]/t))||o+1===n.length)&&(i=l-a),c.push([r,a,t,i]),a+=i;h.setX(r+t)}}while(0<e.length)}var i,d=function(e,t){var o=Math.max.apply(null,e),i=Math.min.apply(null,e),e=TreemapUtils.sumArray(e),e=e*e,t=t*t;return Math.max(t*o/e,e/(t*i))},c=[];if(t[2]<=0||t[3]<=0)for(i=0;i<e.length;i++)c.push(t.slice());else{var n=e.map(function(e){return e*(t[2]*t[3])}),h=new function(t){this.setX=function(e){t[2]-=e-t[0],t[0]=e},this.setY=function(e){t[3]-=e-t[1],t[1]=e},this.getX=function(){return t[0]},this.getY=function(){return t[1]},this.getW=function(){return t[2]},this.getH=function(){return t[3]},this.getWidth=function(){return Math.min(t[2],t[3])}}(t.slice());o(n)}return c},function(o){o.widget("ui.treemap",{options:{dimensions:[600,400],colorStops:[{val:0,color:"#08f"},{val:.5,color:"#03f"},{val:1,color:"#005"}],leafNodeBodyStrokeLineWidth:1,colorResolution:1024,naColor:"#000",innerNodeHeaderHeightPx:12,innerNodeHeaderLabeller:function(e,t,o,i){e.rect(t[0],t[1],t[2],t[3]),e.clip(),e.fillStyle="#555",e.font="0.625em Verdana, Geneva, sans-serif",e.fillText(i,t[0],t[1]+10)},innerNodeHeaderGradient:function(e,t,o){e=e.createLinearGradient(t[0],t[1],t[0],t[1]+t[3]);return e.addColorStop(0,"#fff"),e.addColorStop(.5,"#fff"),e.addColorStop(.9,"#fff"),e.addColorStop(1,"#fff"),e},leafNodeBodyLabeller:function(e,t,o,i){e.rect(t[0],t[1],t[2],t[3]),e.clip(),TreemapUtils.avgRgb(o)<=200?e.fillStyle="#fff":e.fillStyle="#888",e.font="0.625em Verdana, Geneva, sans-serif",e.fillText(i,t[0],t[1]+10)},leafNodeBodyGradient:function(e,t,o){var i=.1*Math.min(t[2],t[3]),n=Math.max(t[2],t[3]),r=t[0]+.5*t[2],t=t[1]+.5*t[3],e=e.createRadialGradient(r,t,i,r,t,n);return e.addColorStop(0,TreemapUtils.lighterColor(TreemapUtils.rgb2hex(o),.2)),e.addColorStop(1,TreemapUtils.darkerColor(TreemapUtils.rgb2hex(o),.2)),e},leafNodeBodyStroke:function(){return"#FFFFFF"},layoutMethod:TreemapUtils.squarify,sizeOption:0,colorOption:0,nodeBorderWidth:0,labelsEnabled:!1,animationEnabled:!1,animationDurationMs:1e3,animationEasing:{},postProcessCurve:{},nodeData:{}},_create:function(){this.stats={}},_init:function(){this.stats={},this._refreshCanvas(),this._refreshColorGradient(),this._refreshColor(),this._adjustPixelRatio(),this._refreshLayout(),this._renderNodes(),this._renderNodeLabels()},_setOption:function(e,t){switch(o.Widget.prototype._setOption.apply(this,arguments),e){case"dimensions":this._refreshCanvas(),this._refreshLayout(),this._renderNodes(),this._renderNodeLabels();break;case"layoutMethod":this._refreshLayout(),this._renderNodes(),this._renderNodeLabels();break;case"labelsEnabled":case"leafNodeBodyGradient":case"leafNodeBodyStroke":this._renderNodes(),this._renderNodeLabels();break;case"colorStops":this._refreshColorGradient(),this._refreshColor(),this._renderNodes(),this._renderNodeLabels();break;case"colorOption":this._refreshColor(),this._renderNodes(),this._renderNodeLabels();break;case"sizeOption":case"postProcessCurve":this._refreshLayout(),this._animateOptionChange();break;case"nodeData":this._refreshColor(),this._refreshLayout(),this._renderNodes(),this._renderNodeLabels()}},_animateOptionChange:function(){var i,n,r,e;1==this.options.animationEnabled?(e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},window.requestAnimationFrame=e,this._animationActive=!0,i=new TreemapUtils.KeySpline(this.options.animationEasing),n=Date.now(),r=this,requestAnimationFrame(function e(t){var o=Date.now()-n;o<r.options.animationDurationMs?(r._animateNodes(i.get(o/r.options.animationDurationMs)),requestAnimationFrame(e)):(r._animationActive=!1,r._renderNodes(),r._renderNodeLabels())})):(this._renderNodes(),this._renderNodeLabels())},_animateNodes:function(n){var r=function(e){for(var t,o,i=0;i<e.length;i++)if(!1===e[i].hasOwnProperty("children")){if(void 0!==e[i].prevGeometry)for(t=e[i].prevGeometry.body.slice(),o=0;o<4;o++)t[o]+=(e[i].geometry.body[o]-e[i].prevGeometry.body[o])*n;else t=e[i].geometry.body;s.save(),s.fillStyle=a.options.leafNodeBodyGradient.call(a,s,t,e[i].computedColor),s.fillRect(t[0],t[1],t[2],t[3]),s.restore()}else r(e[i].children)},a=this,e=a.element.find("canvas")[0],s=e.getContext("2d");s.clearRect(0,0,e.width,e.height),r([a.options.nodeData])},_renderNodes:function(){var a,s,e,l,t;void 0!==this._animationActive&&!0===this._animationActive||(a=function(e){for(var t,o,i,n,r=0;r<e.length;r++){if(!1===s._isRootNode(e[r])){if(t=e[r].geometry.body,o=e[r].geometry.header,i=t.slice(),t[2]<=0||t[3]<=0)continue;for(l.save(),e[r].hasOwnProperty("children")&&null!==o?(l.fillStyle=s.options.innerNodeHeaderGradient.call(s,l,o,e[r].computedColor),l.fillRect(o[0],o[1],o[2],o[3]),e[r].hasOwnProperty("children")&&0===s.options.nodeBorderWidth&&(l.strokeStyle=s.options.leafNodeBodyStroke.call(s,l,t,e[r].computedColor),l.lineWidth=s.options.leafNodeBodyStrokeLineWidth,l.beginPath(),l.rect(o[0],o[1],o[2],o[3]),l.closePath(),l.stroke()),i[0]=o[0],i[1]=o[1],i[3]=o[3]+t[3]):(l.fillStyle=s.options.leafNodeBodyGradient.call(s,l,t,e[r].computedColor),l.fillRect(t[0],t[1],t[2],t[3]),l.strokeStyle=s.options.leafNodeBodyStroke.call(s,l,t,e[r].computedColor),l.lineWidth=s.options.leafNodeBodyStrokeLineWidth,l.rect(t[0],t[1],t[2],t[3]),l.stroke()),l.restore(),n=0;n<i[3];n++)s._addRunlength(i[0],i[0]+i[2],i[1]+n,e[r].id)}e[r].hasOwnProperty("children")&&a(e[r].children)}},s=this,e=new Date,t=s.element.find("canvas")[0],(l=t.getContext("2d")).clearRect(0,0,t.width,t.height),s._clearScanLines(),a([s.options.nodeData]),t=new Date,s.stats.renderLayoutMsec=t-e)},_renderNodeLabels:function(){var n,r,e,a,t;void 0!==this._animationActive&&!0===this._animationActive||!0===this.options.labelsEnabled&&(n=function(e){for(var t,o,i=0;i<e.length;i++){if(!1===r._isRootNode(e[i])){if(t=e[i].geometry.body,o=e[i].geometry.header,t[2]<=0||t[3]<=0){!1===e[i].hasOwnProperty("children")&&(r.stats.leafNodeCnt+=1);continue}a.save(),a.beginPath(),e[i].hasOwnProperty("children")?null!==o&&r.options.innerNodeHeaderLabeller.call(r,a,o,e[i].computedColor,e[i].name):(r.options.leafNodeBodyLabeller.call(r,a,t,e[i].computedColor,e[i].name,e[i].AdditionalDataLabel),r.stats.leafNodeCnt+=1,r.stats.renderedLeafNodeCnt+=1),a.restore()}e[i].hasOwnProperty("children")&&n(e[i].children)}},(r=this).stats.leafNodeCnt=0,r.stats.renderedLeafNodeCnt=0,e=new Date,a=r.element.find("canvas")[0].getContext("2d"),n([r.options.nodeData]),t=new Date,r.stats.renderLabelsMsec=t-e)},_refreshCanvas:function(){var e=this.element.find("canvas"),c=(e&&e.remove(),(e=document.createElement("canvas")).setAttribute("width",this.options.dimensions[0]),e.setAttribute("height",this.options.dimensions[1]),this);this.element.append(e).mousemove(function(e){if(void 0===c._animationActive||!0!==c._animationActive){var t,o,i,n=c.element.offset(),r=parseInt(n.left,10),n=parseInt(n.top,10),a=c.options.dimensions[0],s=c.options.dimensions[1];if(e.pageX<r+a&&e.pageY<n+s){for(t=c._coordsToId(parseInt(e.pageX-r),parseInt(e.pageY-n)),o=[],i=0;i<t.length;i++)o.push(c._getNode([t[i]]));c._trigger("mousemove",e,{nodes:o,ids:t})}}}).click(function(e){if(c.options.desktopView&&(void 0===c._animationActive||!0!==c._animationActive)){var t,o,i,n=c.element.offset(),r=parseInt(n.left,10),n=parseInt(n.top,10),a=c.options.dimensions[0],s=c.options.dimensions[1];if(e.pageX<r+a&&e.pageY<n+s){for(t=c._coordsToId(parseInt(e.pageX-r),parseInt(e.pageY-n)),o=[],i=0;i<t.length;i++)o.push(c._getNode([t[i]]));c._trigger("click",e,{nodes:o,ids:t})}}}).bind("touchstart",function(e){if(!c.options.desktopView&&(void 0===c._animationActive||!0!==c._animationActive))if(null==c.options.singleClickTimer)c.options.singleClickTimer=setTimeout(function(){c.options.singleClickTimer=null},c.options.doubletapTimeout);else{var t,o,i,n=c.element.offset(),r=parseInt(n.left,10),n=parseInt(n.top,10),a=c.options.dimensions[0],s=c.options.dimensions[1],l=e.originalEvent.touches[0].pageY,d=e.originalEvent.touches[0].pageX;if(clearTimeout(c.options.singleClickTimer),c.options.singleClickTimer=null,d<r+a&&l<n+s){for(t=c._coordsToId(parseInt(d-r),parseInt(l-n)),o=[],i=0;i<t.length;i++)o.push(c._getNode([t[i]]));c._trigger("touchstart",e,{nodes:o,ids:t})}}})},_refreshColorGradient:function(){var e,t,o=document.createElement("canvas"),i=this.options.colorStops;for(o.setAttribute("width",this.options.colorResolution),o.setAttribute("height",1),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(o),e=(o=o.getContext("2d")).createLinearGradient(0,0,this.options.colorResolution,0),t=0;t<i.length;t+=1)e.addColorStop(i[t].val,i[t].color);o.fillStyle=e,o.fillRect(0,0,this.options.colorResolution,1),this.options.colorGradientMap=o.getImageData(0,0,this.options.colorResolution,1)},_refreshColor:function(){var i=this;!function e(t){for(var o=0;o<t.length;o++)void 0!==t[o].color&&(t[o].colorVal=t[o].color[i.options.colorOption],t[o].computedColor=i._getRgbColor(t[o].colorVal)),t[o].hasOwnProperty("children")&&e(t[o].children)}([i.options.nodeData])},_adjustPixelRatio:function(){try{var e,t,o=this.element.find("canvas")[0],i=o.getContext("2d");devicePixelRatio=window.devicePixelRatio||1,backingStoreRatio=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1,ratio=devicePixelRatio/backingStoreRatio,(auto="undefined"==typeof auto?!0:auto)&&devicePixelRatio!==backingStoreRatio&&(e=o.width,t=o.height,o.width=e*ratio,o.height=t*ratio,o.style.width=e+"px",o.style.height=t+"px",i.scale(ratio,ratio))}catch(e){}},_refreshLayout:function(){var h=this,e=new Date,p=new TreemapUtils.KeySpline(this.options.postProcessCurve),t=[0,0,h.options.dimensions[0],h.options.dimensions[1]],t=(h._clearNodeList(),!function e(t,o){var i,n,r,a,s=[];for(o.sort(function(e,t){return e.size[h.options.sizeOption]>t.size[h.options.sizeOption]?-1:e.size[h.options.sizeOption]<t.size[h.options.sizeOption]?1:0}),a=0;a<o.length;a++)!0===h._isRootNode(o[a])?s[a]=1:s[a]=o[a].size[h.options.sizeOption];var l=s;if(0!==Object.getOwnPropertyNames(h.options.postProcessCurve).length){for(var d=0;d<l.length;d++)l[d]=p.get(l[d]);var c=TreemapUtils.sumArray(l);for(d=0;d<l.length;d++)l[d]=l[d]/c}for(r=h.options.layoutMethod([t[0],t[1],t[2],t[3]],s),a=0;a<o.length;a++)o[a].geometry&&(o[a].prevGeometry=TreemapUtils.deepCopy(o[a].geometry)),o[a].geometry={body:r[a],header:null},h._addNode2NodeList(o[a]);for(a=0;a<o.length;a++)o[a].hasOwnProperty("children")&&(i=o[a].geometry.body,n=o[a].geometry.header,!1===h._isRootNode(o[a])&&0<i[3]-h.options.innerNodeHeaderHeightPx&&((n=o[a].geometry.header=i.slice())[3]=h.options.innerNodeHeaderHeightPx,i[1]+=h.options.innerNodeHeaderHeightPx,i[3]-=h.options.innerNodeHeaderHeightPx),!1===h._isRootNode(o[a])&&0<i[2]-h.options.nodeBorderWidth&&0<i[3]-h.options.nodeBorderWidth&&(h.options.dimensions[0]>i[0]+i[2]&&(i[2]-=h.options.nodeBorderWidth,null!==n)&&(n[2]-=h.options.nodeBorderWidth),h.options.dimensions[1]>i[1]+i[3])&&(i[3]-=h.options.nodeBorderWidth),e(i,o[a].children))}(t,[h.options.nodeData]),new Date);h.stats.computeLayoutMsec=t-e},_getRgbColor:function(e){var t;return null===e?TreemapUtils.hex2rgb(this.options.naColor):[(t=this.options.colorGradientMap.data)[e=4*Math.floor(e*(t.length/4-1))],t[1+e],t[2+e]]},_clearScanLines:function(){this.scanLines&&(this.scanLines.length=0,this.scanLines=[])},_addRunlength:function(e,t,o,i){void 0===this.scanLines&&(this.scanLines=[]);o=parseInt(o,10);this.scanLines[o]||(this.scanLines[o]=[]),this.scanLines[o].push([e,t,i])},_coordsToId:function(e,t){var o,i,n,r,a,s;if(void 0===this.scanLines)return[];if(r=[],o=this.scanLines[t])for(s=o.length-1;0<=s;s--)i=(a=o[s])[0],n=a[1],a=a[2],i<=e&&e<n&&r.push(a);return r},_clearNodeList:function(){this.nodeList&&(this.nodeList={})},_addNode2NodeList:function(e){void 0===this.nodeList&&(this.nodeList={}),this.nodeList[e.id]||(this.nodeList[e.id]=e)},_getNode:function(e){return this.nodeList[e]},_isRootNode:function(e){return this.options.nodeData===e},destroy:function(){this.element.find("canvas").remove(),o(window).unbind("resize"),o.Widget.prototype.destroy.call(this)}})}(jQuery),String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},String.prototype.ltrim=function(){return this.replace(/^\s+/,"")},String.prototype.rtrim=function(){return this.replace(/\s+$/,"")},String.prototype.lpad=function(e,t){for(var o=this;o.length<t;)o=e+o;return o},String.prototype.rpad=function(e,t){for(var o=this;o.length<t;)o+=e;return o};
//# sourceMappingURL=jquery.ui.treemap.min.js.map