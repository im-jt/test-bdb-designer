/*! BDB Charting Library V10.0.0 (2025-08-14 11:37:12) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
"use strict";!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.vis=e():t.vis=e()}(this,function(){return o=[function(t,e,i){var o=i(1);o.extend(e,i(7)),o.extend(e,i(26)),o.extend(e,i(62))},function(t,h,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=e(2),i=e(6),s=(h.isNumber=function(t){return t instanceof Number||"number"==typeof t},h.recursiveDOMDelete=function(t){if(t)for(;!0===t.hasChildNodes();)h.recursiveDOMDelete(t.firstChild),t.removeChild(t.firstChild)},h.giveRange=function(t,e,i,o){return e==t?.5:Math.max(0,(o-t)*(1/(e-t)))},h.isString=function(t){return t instanceof String||"string"==typeof t},h.isDate=function(t){if(t instanceof Date)return!0;if(h.isString(t)){if(s.exec(t))return!0;if(!isNaN(Date.parse(t)))return!0}return!1},h.randomUUID=function(){return i.v4()},h.assignAllKeys=function(t,e){for(var i in t)t.hasOwnProperty(i)&&"object"!==n(t[i])&&(t[i]=e)},h.fillIfDefined=function(t,e){var i,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2];for(i in t)void 0!==e[i]&&("object"!==n(e[i])?void 0!==e[i]&&null!==e[i]||void 0===t[i]||!0!==o?t[i]=e[i]:delete t[i]:"object"===n(t[i])&&h.fillIfDefined(t[i],e[i],o))},h.protoExtend=function(t,e){for(var i=1;i<arguments.length;i++){var o,n=arguments[i];for(o in n)t[o]=n[o]}return t},h.extend=function(t,e){for(var i=1;i<arguments.length;i++){var o,n=arguments[i];for(o in n)n.hasOwnProperty(o)&&(t[o]=n[o])}return t},h.selectiveExtend=function(t,e,i){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(var o=2;o<arguments.length;o++)for(var n=arguments[o],s=0;s<t.length;s++){var r=t[s];n.hasOwnProperty(r)&&(e[r]=n[r])}return e},h.selectiveDeepExtend=function(t,e,i){var o=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(var n=2;n<arguments.length;n++)for(var s=arguments[n],r=0;r<t.length;r++){var a=t[r];if(s.hasOwnProperty(a))if(i[a]&&i[a].constructor===Object)void 0===e[a]&&(e[a]={}),e[a].constructor===Object?h.deepExtend(e[a],i[a],!1,o):null===i[a]&&void 0!==e[a]&&!0===o?delete e[a]:e[a]=i[a];else{if(Array.isArray(i[a]))throw new TypeError("Arrays are not supported by deepExtend");null===i[a]&&void 0!==e[a]&&!0===o?delete e[a]:e[a]=i[a]}}return e},h.selectiveNotDeepExtend=function(t,e,i){var o,n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(o in i)if(i.hasOwnProperty(o)&&-1==t.indexOf(o))if(i[o]&&i[o].constructor===Object)void 0===e[o]&&(e[o]={}),e[o].constructor===Object?h.deepExtend(e[o],i[o]):null===i[o]&&void 0!==e[o]&&!0===n?delete e[o]:e[o]=i[o];else if(Array.isArray(i[o])){e[o]=[];for(var s=0;s<i[o].length;s++)e[o].push(i[o][s])}else null===i[o]&&void 0!==e[o]&&!0===n?delete e[o]:e[o]=i[o];return e},h.deepExtend=function(t,e,i,o){for(var n in e)if(e.hasOwnProperty(n)||!0===i)if(e[n]&&e[n].constructor===Object)void 0===t[n]&&(t[n]={}),t[n].constructor===Object?h.deepExtend(t[n],e[n],i):null===e[n]&&void 0!==t[n]&&!0===o?delete t[n]:t[n]=e[n];else if(Array.isArray(e[n])){t[n]=[];for(var s=0;s<e[n].length;s++)t[n].push(e[n][s])}else null===e[n]&&void 0!==t[n]&&!0===o?delete t[n]:t[n]=e[n];return t},h.equalArray=function(t,e){if(t.length!=e.length)return!1;for(var i=0,o=t.length;i<o;i++)if(t[i]!=e[i])return!1;return!0},h.convert=function(t,e){var i;if(void 0!==t){if(null===t)return null;if(!e)return t;if("string"!=typeof e&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return isNaN(Date.parse(t))?Number(t.valueOf()):o(t).valueOf();case"string":case"String":return String(t);case"Date":if(h.isNumber(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(o.isMoment(t))return new Date(t.valueOf());if(h.isString(t))return(i=s.exec(t))?new Date(Number(i[1])):o(new Date(t)).toDate();throw new Error("Cannot convert object of type "+h.getType(t)+" to type Date");case"Moment":if(h.isNumber(t))return o(t);if(t instanceof Date)return o(t.valueOf());if(o.isMoment(t))return o(t);if(h.isString(t))return i=s.exec(t),o(i?Number(i[1]):t);throw new Error("Cannot convert object of type "+h.getType(t)+" to type Date");case"ISODate":if(h.isNumber(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(o.isMoment(t))return t.toDate().toISOString();if(h.isString(t))return(i=s.exec(t))?new Date(Number(i[1])).toISOString():o(t).format();throw new Error("Cannot convert object of type "+h.getType(t)+" to type ISODate");case"ASPDate":if(h.isNumber(t))return"/Date("+t+")/";if(t instanceof Date)return"/Date("+t.valueOf()+")/";if(h.isString(t))return"/Date("+((i=s.exec(t))?new Date(Number(i[1])):new Date(t)).valueOf()+")/";throw new Error("Cannot convert object of type "+h.getType(t)+" to type ASPDate");default:throw new Error('Unknown type "'+e+'"')}}},/^\/?Date\((\-?\d+)/i);h.getType=function(t){var e=void 0===t?"undefined":n(t);return"object"==e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":"number"==e?"Number":"boolean"==e?"Boolean":"string"==e?"String":void 0===e?"undefined":e},h.copyAndExtendArray=function(t,e){for(var i=[],o=0;o<t.length;o++)i.push(t[o]);return i.push(e),i},h.copyArray=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e},h.getAbsoluteLeft=function(t){return t.getBoundingClientRect().left},h.getAbsoluteRight=function(t){return t.getBoundingClientRect().right},h.getAbsoluteTop=function(t){return t.getBoundingClientRect().top},h.addClassName=function(t,e){var i=t.className.split(" ");-1==i.indexOf(e)&&(i.push(e),t.className=i.join(" "))},h.removeClassName=function(t,e){var i=t.className.split(" "),e=i.indexOf(e);-1!=e&&(i.splice(e,1),t.className=i.join(" "))},h.forEach=function(t,e){var i,o;if(Array.isArray(t))for(i=0,o=t.length;i<o;i++)e(t[i],i,t);else for(i in t)t.hasOwnProperty(i)&&e(t[i],i,t)},h.toArray=function(t){var e,i=[];for(e in t)t.hasOwnProperty(e)&&i.push(t[e]);return i},h.updateProperty=function(t,e,i){return t[e]!==i&&(t[e]=i,!0)},h.throttle=function(t){var e=!1;return function(){e||(e=!0,requestAnimationFrame(function(){e=!1,t()}))}},h.addEventListener=function(t,e,i,o){t.addEventListener?(void 0===o&&(o=!1),"mousewheel"===e&&0<=navigator.userAgent.indexOf("Firefox")&&(e="DOMMouseScroll"),t.addEventListener(e,i,o)):t.attachEvent("on"+e,i)},h.removeEventListener=function(t,e,i,o){t.removeEventListener?(void 0===o&&(o=!1),"mousewheel"===e&&0<=navigator.userAgent.indexOf("Firefox")&&(e="DOMMouseScroll"),t.removeEventListener(e,i,o)):t.detachEvent("on"+e,i)},h.preventDefault=function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1},h.getTarget=function(t){var e;return(t=t||window.event).target?e=t.target:t.srcElement&&(e=t.srcElement),e=null!=e.nodeType&&3==e.nodeType?e.parentNode:e},h.hasParent=function(t,e){for(var i=t;i;){if(i===e)return!0;i=i.parentNode}return!1},h.option={},h.option.asBoolean=function(t,e){return null!=(t="function"==typeof t?t():t)?0!=t:e||null},h.option.asNumber=function(t,e){return null!=(t="function"==typeof t?t():t)?Number(t)||e||null:e||null},h.option.asString=function(t,e){return null!=(t="function"==typeof t?t():t)?String(t):e||null},h.option.asSize=function(t,e){return"function"==typeof t&&(t=t()),h.isString(t)?t:h.isNumber(t)?t+"px":e||null},h.option.asElement=function(t,e){return(t="function"==typeof t?t():t)||e||null},h.hexToRGB=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,o){return e+e+i+i+o+o});t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},h.overrideOpacity=function(t,e){var i;return-1!=t.indexOf("rgba")?t:-1!=t.indexOf("rgb")?"rgba("+(i=t.substr(t.indexOf("(")+1).replace(")","").split(","))[0]+","+i[1]+","+i[2]+","+e+")":null==(i=h.hexToRGB(t))?t:"rgba("+i.r+","+i.g+","+i.b+","+e+")"},h.RGBToHex=function(t,e,i){return"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},h.parseColor=function(t){var e,i;return!0===h.isString(t)?(!0===h.isValidRGB(t)&&(e=t.substr(4).substr(0,t.length-5).split(",").map(function(t){return parseInt(t)}),t=h.RGBToHex(e[0],e[1],e[2])),i=!0===h.isValidHex(t)?(i={h:(e=h.hexToHSV(t)).h,s:.8*e.s,v:Math.min(1,1.02*e.v)},e={h:e.h,s:Math.min(1,1.25*e.s),v:.8*e.v},{background:t,border:e=h.HSVToHex(e.h,e.s,e.v),highlight:{background:i=h.HSVToHex(i.h,i.s,i.v),border:e},hover:{background:i,border:e}}):{background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}):((i={}).background=t.background||void 0,i.border=t.border||void 0,h.isString(t.highlight)?i.highlight={border:t.highlight,background:t.highlight}:(i.highlight={},i.highlight.background=t.highlight&&t.highlight.background||void 0,i.highlight.border=t.highlight&&t.highlight.border||void 0),h.isString(t.hover)?i.hover={border:t.hover,background:t.hover}:(i.hover={},i.hover.background=t.hover&&t.hover.background||void 0,i.hover.border=t.hover&&t.hover.border||void 0)),i},h.RGBToHSV=function(t,e,i){t/=255,e/=255,i/=255;var o=Math.min(t,Math.min(e,i)),n=Math.max(t,Math.max(e,i));return o==n?{h:0,s:0,v:o}:{h:60*((t==o?3:i==o?1:5)-(t==o?e-i:i==o?t-e:i-t)/(n-o))/360,s:(n-o)/n,v:n}};var r=function(t){var i={};return t.split(";").forEach(function(t){var e;""!=t.trim()&&(e=(t=t.split(":"))[0].trim(),t=t[1].trim(),i[e]=t)}),i},a=function(e){return Object.keys(e).map(function(t){return t+": "+e[t]}).join("; ")};h.addCssText=function(t,e){var i=r(t.style.cssText),e=r(e),i=h.extend(i,e);t.style.cssText=a(i)},h.removeCssText=function(t,e){var i,o=r(t.style.cssText),n=r(e);for(i in n)n.hasOwnProperty(i)&&delete o[i];t.style.cssText=a(o)},h.HSVToRGB=function(t,e,i){var o,n,s,r=Math.floor(6*t),t=6*t-r,a=i*(1-e),h=i*(1-t*e),d=i*(1-(1-t)*e);switch(r%6){case 0:o=i,n=d,s=a;break;case 1:o=h,n=i,s=a;break;case 2:o=a,n=i,s=d;break;case 3:o=a,n=h,s=i;break;case 4:o=d,n=a,s=i;break;case 5:o=i,n=a,s=h}return{r:Math.floor(255*o),g:Math.floor(255*n),b:Math.floor(255*s)}},h.HSVToHex=function(t,e,i){t=h.HSVToRGB(t,e,i);return h.RGBToHex(t.r,t.g,t.b)},h.hexToHSV=function(t){t=h.hexToRGB(t);return h.RGBToHSV(t.r,t.g,t.b)},h.isValidHex=function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},h.isValidRGB=function(t){return t=t.replace(" ",""),/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(t)},h.isValidRGBA=function(t){return t=t.replace(" ",""),/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(t)},h.selectiveBridgeObject=function(t,e){if("object"!=(void 0===e?"undefined":n(e)))return null;for(var i=Object.create(e),o=0;o<t.length;o++)e.hasOwnProperty(t[o])&&"object"==n(e[t[o]])&&(i[t[o]]=h.bridgeObject(e[t[o]]));return i},h.bridgeObject=function(t){if("object"!=(void 0===t?"undefined":n(t)))return null;var e,i=Object.create(t);for(e in t)t.hasOwnProperty(e)&&"object"==n(t[e])&&(i[e]=h.bridgeObject(t[e]));return i},h.insertSort=function(t,e){for(var i=0;i<t.length;i++){for(var o=t[i],n=i;0<n&&e(o,t[n-1])<0;n--)t[n]=t[n-1];t[n]=o}return t},h.mergeOptions=function(t,e,i){if(null===e[i])t[i]=Object.create((4<arguments.length&&void 0!==arguments[4]?arguments[4]:{})[i]);else if(void 0!==e[i])if("boolean"==typeof e[i])t[i].enabled=e[i];else for(var o in void 0===e[i].enabled&&(t[i].enabled=!0),e[i])e[i].hasOwnProperty(o)&&(t[i][o]=e[i][o])},h.binarySearchCustom=function(t,e,i,o){for(var n=0,s=0,r=t.length-1;s<=r&&n<1e4;){var a=Math.floor((s+r)/2),h=t[a],h=e(void 0===o?h[i]:h[i][o]);if(0==h)return a;-1==h?s=a+1:r=a-1,n++}return-1},h.binarySearchValue=function(t,e,i,o,n){for(var s,r,a,h,d=0,l=0,c=t.length-1,n=null!=n?n:function(t,e){return t==e?0:t<e?-1:1};l<=c&&d<1e4;){if(h=Math.floor(.5*(c+l)),s=t[Math.max(0,h-1)][i],r=t[h][i],a=t[Math.min(t.length-1,h+1)][i],0==n(r,e))return h;if(n(s,e)<0&&0<n(r,e))return"before"==o?Math.max(0,h-1):h;if(n(r,e)<0&&0<n(a,e))return"before"==o?h:Math.min(t.length-1,h+1);n(r,e)<0?l=h+1:c=h-1,d++}return-1},h.easingFunctions={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},h.getScrollBarWidth=function(){var t=document.createElement("p"),e=(t.style.width="100%",t.style.height="200px",document.createElement("div")),i=(e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e),t.offsetWidth),t=(e.style.overflow="scroll",t.offsetWidth);return i==t&&(t=e.clientWidth),document.body.removeChild(e),i-t}},function(t,e,i){t.exports="undefined"!=typeof window&&window.moment||i(3)},function(t,e,i){!function(ai){var t;t=function(){var z;function u(){return z.apply(null,arguments)}function c(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function A(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function B(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function F(t,e){for(var i=[],o=0;o<t.length;++o)i.push(e(t[o],o));return i}function p(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function f(t,e){for(var i in e)p(e,i)&&(t[i]=e[i]);return p(e,"toString")&&(t.toString=e.toString),p(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,i,o){return xe(t,e,i,o,!0).utc()}function m(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}),t._pf}function j(t){if(null==t._isValid){var e=m(t),i=W.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function H(t){var e=d(NaN);return null!=t?f(m(e),t):m(e).userInvalidated=!0,e}function s(t){return void 0===t}var W=Array.prototype.some||function(t){for(var e=Object(this),i=e.length>>>0,o=0;o<i;o++)if(o in e&&t.call(this,e[o],o,e))return!0;return!1},Y=u.momentProperties=[];function G(t,e){var i,o,n;if(s(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),s(e._i)||(t._i=e._i),s(e._f)||(t._f=e._f),s(e._l)||(t._l=e._l),s(e._strict)||(t._strict=e._strict),s(e._tzm)||(t._tzm=e._tzm),s(e._isUTC)||(t._isUTC=e._isUTC),s(e._offset)||(t._offset=e._offset),s(e._pf)||(t._pf=m(e)),s(e._locale)||(t._locale=e._locale),0<Y.length)for(i in Y)s(n=e[o=Y[i]])||(t[o]=n);return t}var V=!1;function U(t){G(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),!1===V&&(V=!0,u.updateOffset(this),V=!1)}function g(t){return t instanceof U||null!=t&&null!=t._isAMomentObject}function a(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function h(t){var t=+t,e=0;return e=0!=t&&isFinite(t)?a(t):e}function q(t,e,i){for(var o=Math.min(t.length,e.length),n=Math.abs(t.length-e.length),s=0,r=0;r<o;r++)(i&&t[r]!==e[r]||!i&&h(t[r])!==h(e[r]))&&s++;return s+n}function t(n,s){var r=!0;return f(function(){if(null!=u.deprecationHandler&&u.deprecationHandler(null,n),r){for(var t,e=[],i=0;i<arguments.length;i++){if(t="","object"==typeof arguments[i]){for(var o in t+="\n["+i+"] ",arguments[0])t+=o+": "+arguments[0][o]+", ";t=t.slice(0,-2)}else t=arguments[i];e.push(t)}Array.prototype.slice.call(e).join(""),(new Error).stack,r=!1}return s.apply(this,arguments)},s)}var X={};function Z(t,e){null!=u.deprecationHandler&&u.deprecationHandler(t,e),X[t]||(X[t]=!0)}function r(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function K(t,e){var i,o=f({},t);for(i in e)p(e,i)&&(A(t[i])&&A(e[i])?(o[i]={},f(o[i],t[i]),f(o[i],e[i])):null!=e[i]?o[i]=e[i]:delete o[i]);for(i in t)p(t,i)&&!p(e,i)&&A(t[i])&&(o[i]=f({},o[i]));return o}function J(t){null!=t&&this.set(t)}u.suppressDeprecationWarnings=!1,u.deprecationHandler=null;var Q=Object.keys||function(t){var e,i=[];for(e in t)p(t,e)&&i.push(e);return i};var $={};function e(t,e){var i=t.toLowerCase();$[i]=$[i+"s"]=$[e]=t}function l(t){return"string"==typeof t?$[t]||$[t.toLowerCase()]:void 0}function tt(t){var e,i,o={};for(i in t)p(t,i)&&(e=l(i))&&(o[e]=t[i]);return o}var et={};function i(t,e){et[t]=e}function it(e,i){return function(t){return null!=t?(nt(this,e,t),u.updateOffset(this,i),this):ot(this,e)}}function ot(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function nt(t,e,i){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](i)}function y(t,e,i){var o=""+Math.abs(t);return(0<=t?i?"+":"":"-")+Math.pow(10,Math.max(0,e-o.length)).toString().substr(1)+o}var st=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,rt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,at={},ht={};function o(t,e,i,o){var n="string"==typeof o?function(){return this[o]()}:o;t&&(ht[t]=n),e&&(ht[e[0]]=function(){return y(n.apply(this,arguments),e[1],e[2])}),i&&(ht[i]=function(){return this.localeData().ordinal(n.apply(this,arguments),t)})}function dt(t,e){return t.isValid()?(e=lt(e,t.localeData()),at[e]=at[e]||function(o){for(var t,n=o.match(st),e=0,s=n.length;e<s;e++)ht[n[e]]?n[e]=ht[n[e]]:n[e]=(t=n[e]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(t){for(var e="",i=0;i<s;i++)e+=n[i]instanceof Function?n[i].call(t,o):n[i];return e}}(e),at[e](t)):t.localeData().invalidDate()}function lt(t,e){var i=5;function o(t){return e.longDateFormat(t)||t}for(rt.lastIndex=0;0<=i&&rt.test(t);)t=t.replace(rt,o),rt.lastIndex=0,--i;return t}var n=/\d/,v=/\d\d/,ct=/\d{3}/,ut=/\d{4}/,pt=/[+-]?\d{6}/,b=/\d\d?/,ft=/\d\d\d\d?/,mt=/\d\d\d\d\d\d?/,gt=/\d{1,3}/,yt=/\d{1,4}/,_=/[+-]?\d{1,6}/,vt=/\d+/,bt=/[+-]?\d+/,_t=/Z|[+-]\d\d:?\d\d/gi,wt=/Z|[+-]\d\d(?::?\d\d)?/gi,w=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,xt={};function x(t,i,o){xt[t]=r(i)?i:function(t,e){return t&&o?o:i}}function kt(t,e){return p(xt,t)?xt[t](e._strict,e._locale):new RegExp(Ot(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,o,n){return e||i||o||n})))}function Ot(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Dt={};function k(t,i){var e,o=i;for("string"==typeof t&&(t=[t]),"number"==typeof i&&(o=function(t,e){e[i]=h(t)}),e=0;e<t.length;e++)Dt[t[e]]=o}function St(t,n){k(t,function(t,e,i,o){i._w=i._w||{},n(t,i._w,i,o)})}var O,D=0,S=1,C=2,E=3,T=4,M=5,Ct=6,Et=7,Tt=8;function Mt(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}O=Array.prototype.indexOf||function(t){for(var e=0;e<this.length;++e)if(this[e]===t)return e;return-1},o("M",["MM",2],"Mo",function(){return this.month()+1}),o("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),o("MMMM",0,0,function(t){return this.localeData().months(this,t)}),e("month","M"),i("month",8),x("M",b),x("MM",b,v),x("MMM",function(t,e){return e.monthsShortRegex(t)}),x("MMMM",function(t,e){return e.monthsRegex(t)}),k(["M","MM"],function(t,e){e[S]=h(t)-1}),k(["MMM","MMMM"],function(t,e,i,o){o=i._locale.monthsParse(t,o,i._strict);null!=o?e[S]=o:m(i).invalidMonth=t});var Pt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,It="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Nt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Rt(t,e){var i;if(t.isValid()){if("string"==typeof e)if(/^\d+$/.test(e))e=h(e);else if("number"!=typeof(e=t.localeData().monthsParse(e)))return;i=Math.min(t.date(),Mt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i)}}function Lt(t){return null!=t?(Rt(this,t),u.updateOffset(this,!0),this):ot(this,"Month")}var zt=w;var At=w;function Bt(){function t(t,e){return e.length-t.length}for(var e,i=[],o=[],n=[],s=0;s<12;s++)e=d([2e3,s]),i.push(this.monthsShort(e,"")),o.push(this.months(e,"")),n.push(this.months(e,"")),n.push(this.monthsShort(e,""));for(i.sort(t),o.sort(t),n.sort(t),s=0;s<12;s++)i[s]=Ot(i[s]),o[s]=Ot(o[s]);for(s=0;s<24;s++)n[s]=Ot(n[s]);this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Ft(t){return jt(t)?366:365}function jt(t){return t%4==0&&t%100!=0||t%400==0}o("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),o(0,["YY",2],0,function(){return this.year()%100}),o(0,["YYYY",4],0,"year"),o(0,["YYYYY",5],0,"year"),o(0,["YYYYYY",6,!0],0,"year"),e("year","y"),i("year",1),x("Y",bt),x("YY",b,v),x("YYYY",yt,ut),x("YYYYY",_,pt),x("YYYYYY",_,pt),k(["YYYYY","YYYYYY"],D),k("YYYY",function(t,e){e[D]=2===t.length?u.parseTwoDigitYear(t):h(t)}),k("YY",function(t,e){e[D]=u.parseTwoDigitYear(t)}),k("Y",function(t,e){e[D]=parseInt(t,10)}),u.parseTwoDigitYear=function(t){return h(t)+(68<h(t)?1900:2e3)};var Ht=it("FullYear",!0);function Wt(t,e,i,o,n,s,r){e=new Date(t,e,i,o,n,s,r);return t<100&&0<=t&&isFinite(e.getFullYear())&&e.setFullYear(t),e}function Yt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Gt(t,e,i){i=7+e-i;return i-(7+Yt(t,0,i).getUTCDay()-e)%7-1}function Vt(t,e,i,o,n){var s,e=1+7*(e-1)+(7+i-o)%7+Gt(t,o,n),i=e<=0?Ft(s=t-1)+e:e>Ft(t)?(s=t+1,e-Ft(t)):(s=t,e);return{year:s,dayOfYear:i}}function Ut(t,e,i){var o,n,s=Gt(t.year(),e,i),s=Math.floor((t.dayOfYear()-s-1)/7)+1;return s<1?o=s+qt(n=t.year()-1,e,i):s>qt(t.year(),e,i)?(o=s-qt(t.year(),e,i),n=t.year()+1):(n=t.year(),o=s),{week:o,year:n}}function qt(t,e,i){var o=Gt(t,e,i),e=Gt(t+1,e,i);return(Ft(t)-o+e)/7}o("w",["ww",2],"wo","week"),o("W",["WW",2],"Wo","isoWeek"),e("week","w"),e("isoWeek","W"),i("week",5),i("isoWeek",5),x("w",b),x("ww",b,v),x("W",b),x("WW",b,v),St(["w","ww","W","WW"],function(t,e,i,o){e[o.substr(0,1)]=h(t)});o("d",0,"do","day"),o("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),o("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),o("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),o("e",0,0,"weekday"),o("E",0,0,"isoWeekday"),e("day","d"),e("weekday","e"),e("isoWeekday","E"),i("day",11),i("weekday",11),i("isoWeekday",11),x("d",b),x("e",b),x("E",b),x("dd",function(t,e){return e.weekdaysMinRegex(t)}),x("ddd",function(t,e){return e.weekdaysShortRegex(t)}),x("dddd",function(t,e){return e.weekdaysRegex(t)}),St(["dd","ddd","dddd"],function(t,e,i,o){o=i._locale.weekdaysParse(t,o,i._strict);null!=o?e.d=o:m(i).invalidWeekday=t}),St(["d","e","E"],function(t,e,i,o){e[o]=h(t)});var Xt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Zt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var Kt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var Jt=w;var Qt=w;var $t=w;function te(){function t(t,e){return e.length-t.length}for(var e,i,o,n=[],s=[],r=[],a=[],h=0;h<7;h++)o=d([2e3,1]).day(h),e=this.weekdaysMin(o,""),i=this.weekdaysShort(o,""),o=this.weekdays(o,""),n.push(e),s.push(i),r.push(o),a.push(e),a.push(i),a.push(o);for(n.sort(t),s.sort(t),r.sort(t),a.sort(t),h=0;h<7;h++)s[h]=Ot(s[h]),r[h]=Ot(r[h]),a[h]=Ot(a[h]);this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+n.join("|")+")","i")}function ee(){return this.hours()%12||12}function ie(t,e){o(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function oe(t,e){return e._meridiemParse}o("H",["HH",2],0,"hour"),o("h",["hh",2],0,ee),o("k",["kk",2],0,function(){return this.hours()||24}),o("hmm",0,0,function(){return""+ee.apply(this)+y(this.minutes(),2)}),o("hmmss",0,0,function(){return""+ee.apply(this)+y(this.minutes(),2)+y(this.seconds(),2)}),o("Hmm",0,0,function(){return""+this.hours()+y(this.minutes(),2)}),o("Hmmss",0,0,function(){return""+this.hours()+y(this.minutes(),2)+y(this.seconds(),2)}),ie("a",!0),ie("A",!1),e("hour","h"),i("hour",13),x("a",oe),x("A",oe),x("H",b),x("h",b),x("HH",b,v),x("hh",b,v),x("hmm",ft),x("hmmss",mt),x("Hmm",ft),x("Hmmss",mt),k(["H","HH"],E),k(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),k(["h","hh"],function(t,e,i){e[E]=h(t),m(i).bigHour=!0}),k("hmm",function(t,e,i){var o=t.length-2;e[E]=h(t.substr(0,o)),e[T]=h(t.substr(o)),m(i).bigHour=!0}),k("hmmss",function(t,e,i){var o=t.length-4,n=t.length-2;e[E]=h(t.substr(0,o)),e[T]=h(t.substr(o,2)),e[M]=h(t.substr(n)),m(i).bigHour=!0}),k("Hmm",function(t,e,i){var o=t.length-2;e[E]=h(t.substr(0,o)),e[T]=h(t.substr(o))}),k("Hmmss",function(t,e,i){var o=t.length-4,n=t.length-2;e[E]=h(t.substr(0,o)),e[T]=h(t.substr(o,2)),e[M]=h(t.substr(n))});var ne,w=it("Hours",!0),se={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",ordinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:It,monthsShort:Nt,week:{dow:0,doy:6},weekdays:Xt,weekdaysMin:Kt,weekdaysShort:Zt,meridiemParse:/[ap]\.?m?\.?/i},P={};function re(t){return t&&t.toLowerCase().replace("_","-")}function ae(t){if(!P[t]&&void 0!==ai&&ai&&ai.exports)try{ne._abbr;var e=new Error('Cannot find module "./locale"');throw e.code="MODULE_NOT_FOUND",e}catch(t){}return P[t]}function he(t,e){return(ne=t&&(t=s(e)?I(t):de(t,e))?t:ne)._abbr}function de(t,e){var i;return null!==e?(i=se,e.abbr=t,null!=P[t]?(Z("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=P[t]._config):null!=e.parentLocale&&(null!=P[e.parentLocale]?i=P[e.parentLocale]._config:Z("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),P[t]=new J(K(i,e)),he(t),P[t]):(delete P[t],null)}function I(t){var e;if(!(t=t&&t._locale&&t._locale._abbr?t._locale._abbr:t))return ne;if(!c(t)){if(e=ae(t))return e;t=[t]}for(var i,o,n,s,r=t,a=0;a<r.length;){for(i=(s=re(r[a]).split("-")).length,o=(o=re(r[a+1]))?o.split("-"):null;0<i;){if(n=ae(s.slice(0,i).join("-")))return n;if(o&&o.length>=i&&q(s,o,!0)>=i-1)break;i--}a++}return null}function le(t){var e=t._a;return e&&-2===m(t).overflow&&(e=e[S]<0||11<e[S]?S:e[C]<1||e[C]>Mt(e[D],e[S])?C:e[E]<0||24<e[E]||24===e[E]&&(0!==e[T]||0!==e[M]||0!==e[Ct])?E:e[T]<0||59<e[T]?T:e[M]<0||59<e[M]?M:e[Ct]<0||999<e[Ct]?Ct:-1,m(t)._overflowDayOfYear&&(e<D||C<e)&&(e=C),m(t)._overflowWeeks&&-1===e&&(e=Et),m(t)._overflowWeekday&&-1===e&&(e=Tt),m(t).overflow=e),t}var ce=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ue=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,pe=/Z|[+-]\d\d(?::?\d\d)?/,fe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],me=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ge=/^\/?Date\((\-?\d+)/i;function ye(t){var e,i,o,n,s,r,a=t._i,h=ce.exec(a)||ue.exec(a);if(h){for(m(t).iso=!0,e=0,i=fe.length;e<i;e++)if(fe[e][1].exec(h[1])){n=fe[e][0],o=!1!==fe[e][2];break}if(null==n)t._isValid=!1;else{if(h[3]){for(e=0,i=me.length;e<i;e++)if(me[e][1].exec(h[3])){s=(h[2]||" ")+me[e][0];break}if(null==s)return void(t._isValid=!1)}if(o||null==s){if(h[4]){if(!pe.exec(h[4]))return void(t._isValid=!1);r="Z"}t._f=n+(s||"")+(r||""),_e(t)}else t._isValid=!1}}else t._isValid=!1}function ve(t,e,i){return null!=t?t:null!=e?e:i}function be(t){var e,i,o,n,s,r,a,h,d,l,c=[];if(!t._d){for(o=t,d=new Date(u.now()),i=o._useUTC?[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()]:[d.getFullYear(),d.getMonth(),d.getDate()],t._w&&null==t._a[C]&&null==t._a[S]&&(null!=(d=(o=t)._w).GG||null!=d.W||null!=d.E?(a=1,h=4,n=ve(d.GG,o._a[D],Ut(N(),1,4).year),s=ve(d.W,1),((r=ve(d.E,1))<1||7<r)&&(l=!0)):(a=o._locale._week.dow,h=o._locale._week.doy,n=ve(d.gg,o._a[D],Ut(N(),a,h).year),s=ve(d.w,1),null!=d.d?((r=d.d)<0||6<r)&&(l=!0):null!=d.e?(r=d.e+a,(d.e<0||6<d.e)&&(l=!0)):r=a),s<1||s>qt(n,a,h)?m(o)._overflowWeeks=!0:null!=l?m(o)._overflowWeekday=!0:(d=Vt(n,s,r,a,h),o._a[D]=d.year,o._dayOfYear=d.dayOfYear)),t._dayOfYear&&(l=ve(t._a[D],i[D]),t._dayOfYear>Ft(l)&&(m(t)._overflowDayOfYear=!0),n=Yt(l,0,t._dayOfYear),t._a[S]=n.getUTCMonth(),t._a[C]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=c[e]=i[e];for(;e<7;e++)t._a[e]=c[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[E]&&0===t._a[T]&&0===t._a[M]&&0===t._a[Ct]&&(t._nextDay=!0,t._a[E]=0),t._d=(t._useUTC?Yt:Wt).apply(null,c),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[E]=24)}}function _e(t){if(t._f===u.ISO_8601)ye(t);else{t._a=[],m(t).empty=!0;for(var e,i,o,n,s,r=""+t._i,a=r.length,h=0,d=lt(t._f,t._locale).match(st)||[],l=0;l<d.length;l++)i=d[l],(e=(r.match(kt(i,t))||[])[0])&&(0<(o=r.substr(0,r.indexOf(e))).length&&m(t).unusedInput.push(o),r=r.slice(r.indexOf(e)+e.length),h+=e.length),ht[i]?(e?m(t).empty=!1:m(t).unusedTokens.push(i),o=i,s=t,null!=(n=e)&&p(Dt,o)&&Dt[o](n,s._a,s,o)):t._strict&&!e&&m(t).unusedTokens.push(i);m(t).charsLeftOver=a-h,0<r.length&&m(t).unusedInput.push(r),t._a[E]<=12&&!0===m(t).bigHour&&0<t._a[E]&&(m(t).bigHour=void 0),m(t).parsedDateParts=t._a.slice(0),m(t).meridiem=t._meridiem,t._a[E]=function(t,e,i){if(null==i)return e;return null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?((t=t.isPM(i))&&e<12&&(e+=12),e=t||12!==e?e:0):e}(t._locale,t._a[E],t._meridiem),be(t),le(t)}}function we(t){var e,i,o=t._i,n=t._f;if(t._locale=t._locale||I(t._l),null===o||void 0===n&&""===o)return H({nullInput:!0});if("string"==typeof o&&(t._i=o=t._locale.preparse(o)),g(o))return new U(le(o));if(c(n)){var s,r,a,h,d,l=t;if(0===l._f.length)m(l).invalidFormat=!0,l._d=new Date(NaN);else{for(h=0;h<l._f.length;h++)d=0,s=G({},l),null!=l._useUTC&&(s._useUTC=l._useUTC),s._f=l._f[h],_e(s),j(s)&&(d=(d+=m(s).charsLeftOver)+10*m(s).unusedTokens.length,m(s).score=d,null==a||d<a)&&(a=d,r=s);f(l,r||s)}}else if(B(o))t._d=o;else if(n)_e(t);else if(void 0===(n=(o=t)._i))o._d=new Date(u.now());else B(n)?o._d=new Date(n.valueOf()):"string"==typeof n?(i=o,null!==(e=ge.exec(i._i))?i._d=new Date(+e[1]):(ye(i),!1===i._isValid&&(delete i._isValid,u.createFromInputFallback(i)))):c(n)?(o._a=F(n.slice(0),function(t){return parseInt(t,10)}),be(o)):"object"==typeof n?(e=o)._d||(i=tt(e._i),e._a=F([i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],function(t){return t&&parseInt(t,10)}),be(e)):"number"==typeof n?o._d=new Date(n):u.createFromInputFallback(o);return j(t)||(t._d=null),t}function xe(t,e,i,o,n){var s={};return"boolean"==typeof i&&(o=i,i=void 0),(A(t)&&function(t){for(var e in t)return;return 1}(t)||c(t)&&0===t.length)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=n,s._l=i,s._i=t,s._f=e,s._strict=o,(n=new U(le(we(n=s))))._nextDay&&(n.add(1,"d"),n._nextDay=void 0),n}function N(t,e,i,o){return xe(t,e,i,o,!1)}u.createFromInputFallback=t("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),u.ISO_8601=function(){};ft=t("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=N.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:H()}),mt=t("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=N.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:H()});function ke(t,e){var i,o;if(!(e=1===e.length&&c(e[0])?e[0]:e).length)return N();for(i=e[0],o=1;o<e.length;++o)e[o].isValid()&&!e[o][t](i)||(i=e[o]);return i}function Oe(t){var t=tt(t),e=t.year||0,i=t.quarter||0,o=t.month||0,n=t.week||0,s=t.day||0,r=t.hour||0,a=t.minute||0,h=t.second||0,t=t.millisecond||0;this._milliseconds=+t+1e3*h+6e4*a+1e3*r*60*60,this._days=+s+7*n,this._months=+o+3*i+12*e,this._data={},this._locale=I(),this._bubble()}function De(t){return t instanceof Oe}function Se(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ce(t,i){o(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+y(~~(t/60),2)+i+y(~~t%60,2)})}Ce("Z",":"),Ce("ZZ",""),x("Z",wt),x("ZZ",wt),k(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Te(wt,t)});var Ee=/([\+\-]|\d\d)/gi;function Te(t,e){e=(e||"").match(t)||[],t=((e[e.length-1]||[])+"").match(Ee)||["-",0,0],e=60*t[1]+h(t[2]);return"+"===t[0]?e:-e}function Me(t,e){var i;return e._isUTC?(e=e.clone(),i=(g(t)||B(t)?t:N(t)).valueOf()-e.valueOf(),e._d.setTime(e._d.valueOf()+i),u.updateOffset(e,!1),e):N(t).local()}function Pe(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ie(){return!!this.isValid()&&this._isUTC&&0===this._offset}u.updateOffset=function(){};var Ne=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Re=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function Le(t,e){var i,o=t;return De(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(e=Ne.exec(t))?(i="-"===e[1]?-1:1,o={y:0,d:h(e[C])*i,h:h(e[E])*i,m:h(e[T])*i,s:h(e[M])*i,ms:h(Se(1e3*e[Ct]))*i}):(e=Re.exec(t))?(i="-"===e[1]?-1:1,o={y:ze(e[2],i),M:ze(e[3],i),w:ze(e[4],i),d:ze(e[5],i),h:ze(e[6],i),m:ze(e[7],i),s:ze(e[8],i)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(e=function(t,e){var i;if(!t.isValid()||!e.isValid())return{milliseconds:0,months:0};e=Me(e,t),t.isBefore(e)?i=Ae(t,e):((i=Ae(e,t)).milliseconds=-i.milliseconds,i.months=-i.months);return i}(N(o.from),N(o.to)),(o={}).ms=e.milliseconds,o.M=e.months),i=new Oe(o),De(t)&&p(t,"_locale")&&(i._locale=t._locale),i}function ze(t,e){t=t&&parseFloat(t.replace(",","."));return(isNaN(t)?0:t)*e}function Ae(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Be(o,n){return function(t,e){var i;return null===e||isNaN(+e)||(Z(n,"moment()."+n+"(period, number) is deprecated. Please use moment()."+n+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=t,t=e,e=i),Fe(this,Le(t="string"==typeof t?+t:t,e),o),this}}function Fe(t,e,i,o){var n=e._milliseconds,s=Se(e._days),e=Se(e._months);t.isValid()&&(o=null==o||o,n&&t._d.setTime(t._d.valueOf()+n*i),s&&nt(t,"Date",ot(t,"Date")+s*i),e&&Rt(t,ot(t,"Month")+e*i),o)&&u.updateOffset(t,s||e)}Le.fn=Oe.prototype;It=Be(1,"add"),Nt=Be(-1,"subtract");function je(t){return void 0===t?this._locale._abbr:(null!=(t=I(t))&&(this._locale=t),this)}u.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",u.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";Xt=t("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function He(){return this._locale}function We(t,e){o(0,[t,t.length],0,e)}function Ye(t,e,i,o,n){var s;return null==t?Ut(this,o,n).year:(s=qt(t,o,n),function(t,e,i,o,n){t=Vt(t,e,i,o,n),e=Yt(t.year,0,t.dayOfYear);return this.year(e.getUTCFullYear()),this.month(e.getUTCMonth()),this.date(e.getUTCDate()),this}.call(this,t,e=s<e?s:e,i,o,n))}o(0,["gg",2],0,function(){return this.weekYear()%100}),o(0,["GG",2],0,function(){return this.isoWeekYear()%100}),We("gggg","weekYear"),We("ggggg","weekYear"),We("GGGG","isoWeekYear"),We("GGGGG","isoWeekYear"),e("weekYear","gg"),e("isoWeekYear","GG"),i("weekYear",1),i("isoWeekYear",1),x("G",bt),x("g",bt),x("GG",b,v),x("gg",b,v),x("GGGG",yt,ut),x("gggg",yt,ut),x("GGGGG",_,pt),x("ggggg",_,pt),St(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,o){e[o.substr(0,2)]=h(t)}),St(["gg","GG"],function(t,e,i,o){e[o]=u.parseTwoDigitYear(t)}),o("Q",0,"Qo","quarter"),e("quarter","Q"),i("quarter",7),x("Q",n),k("Q",function(t,e){e[S]=3*(h(t)-1)}),o("D",["DD",2],"Do","date"),e("date","D"),i("date",9),x("D",b),x("DD",b,v),x("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),k(["D","DD"],C),k("Do",function(t,e){e[C]=h(t.match(b)[0])});Kt=it("Date",!0);o("DDD",["DDDD",3],"DDDo","dayOfYear"),e("dayOfYear","DDD"),i("dayOfYear",4),x("DDD",gt),x("DDDD",ct),k(["DDD","DDDD"],function(t,e,i){i._dayOfYear=h(t)}),o("m",["mm",2],0,"minute"),e("minute","m"),i("minute",14),x("m",b),x("mm",b,v),k(["m","mm"],T);var Ge,Zt=it("Minutes",!1),yt=(o("s",["ss",2],0,"second"),e("second","s"),i("second",15),x("s",b),x("ss",b,v),k(["s","ss"],M),it("Seconds",!1));for(o("S",0,0,function(){return~~(this.millisecond()/100)}),o(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),o(0,["SSS",3],0,"millisecond"),o(0,["SSSS",4],0,function(){return 10*this.millisecond()}),o(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),o(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),o(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),o(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),o(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),e("millisecond","ms"),i("millisecond",16),x("S",gt,n),x("SS",gt,v),x("SSS",gt,ct),Ge="SSSS";Ge.length<=9;Ge+="S")x(Ge,vt);function Ve(t,e){e[Ct]=h(1e3*("0."+t))}for(Ge="S";Ge.length<=9;Ge+="S")k(Ge,Ve);ut=it("Milliseconds",!1);o("z",0,0,"zoneAbbr"),o("zz",0,0,"zoneName");_=U.prototype,_.add=It,_.calendar=function(t,e){var i=Me(t=t||N(),this).startOf("day"),i=u.calendarFormat(this,i)||"sameElse",e=e&&(r(e[i])?e[i].call(this,t):e[i]);return this.format(e||this.localeData().calendar(i,this,N(t)))},_.clone=function(){return new U(this)},_.diff=function(t,e,i){var o,n;return this.isValid()&&(t=Me(t,this)).isValid()?(o=6e4*(t.utcOffset()-this.utcOffset()),"year"===(e=l(e))||"month"===e||"quarter"===e?(n=function(t,e){var i,o=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(o,"months");t=e-n<0?(i=t.clone().add(o-1,"months"),(e-n)/(n-i)):(i=t.clone().add(1+o,"months"),(e-n)/(i-n));return-(o+t)||0}(this,t),"quarter"===e?n/=3:"year"===e&&(n/=12)):(t=this-t,n="second"===e?t/1e3:"minute"===e?t/6e4:"hour"===e?t/36e5:"day"===e?(t-o)/864e5:"week"===e?(t-o)/6048e5:t),i?n:a(n)):NaN},_.endOf=function(t){return void 0===(t=l(t))||"millisecond"===t?this:this.startOf(t="date"===t?"day":t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},_.format=function(t){return t=t||(this.isUtc()?u.defaultFormatUtc:u.defaultFormat),t=dt(this,t),this.localeData().postformat(t)},_.from=function(t,e){return this.isValid()&&(g(t)&&t.isValid()||N(t).isValid())?Le({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},_.fromNow=function(t){return this.from(N(),t)},_.to=function(t,e){return this.isValid()&&(g(t)&&t.isValid()||N(t).isValid())?Le({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},_.toNow=function(t){return this.to(N(),t)},_.get=function(t){return r(this[t=l(t)])?this[t]():this},_.invalidAt=function(){return m(this).overflow},_.isAfter=function(t,e){return t=g(t)?t:N(t),!(!this.isValid()||!t.isValid())&&("millisecond"===(e=l(s(e)?"millisecond":e))?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf())},_.isBefore=function(t,e){return t=g(t)?t:N(t),!(!this.isValid()||!t.isValid())&&("millisecond"===(e=l(s(e)?"millisecond":e))?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf())},_.isBetween=function(t,e,i,o){return("("===(o=o||"()")[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===o[1]?this.isBefore(e,i):!this.isAfter(e,i))},_.isSame=function(t,e){var t=g(t)?t:N(t);return!(!this.isValid()||!t.isValid())&&("millisecond"===(e=l(e||"millisecond"))?this.valueOf()===t.valueOf():(t=t.valueOf(),this.clone().startOf(e).valueOf()<=t&&t<=this.clone().endOf(e).valueOf()))},_.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},_.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},_.isValid=function(){return j(this)},_.lang=Xt,_.locale=je,_.localeData=He,_.max=mt,_.min=ft,_.parsingFlags=function(){return f({},m(this))},_.set=function(t,e){if("object"==typeof t)for(var i=function(t){var e,i=[];for(e in t)i.push({unit:e,priority:et[e]});return i.sort(function(t,e){return t.priority-e.priority}),i}(t=tt(t)),o=0;o<i.length;o++)this[i[o].unit](t[i[o].unit]);else if(r(this[t=l(t)]))return this[t](e);return this},_.startOf=function(t){switch(t=l(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},_.subtract=Nt,_.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},_.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},_.toDate=function(){return new Date(this.valueOf())},_.toISOString=function(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?r(Date.prototype.toISOString)?this.toDate().toISOString():dt(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):dt(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},_.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},_.year=Ht,_.isLeapYear=function(){return jt(this.year())},_.weekYear=function(t){return Ye.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},_.isoWeekYear=function(t){return Ye.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},_.quarter=_.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},_.month=Lt,_.daysInMonth=function(){return Mt(this.year(),this.month())},_.week=_.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},_.isoWeek=_.isoWeeks=function(t){var e=Ut(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},_.weeksInYear=function(){var t=this.localeData()._week;return qt(this.year(),t.dow,t.doy)},_.isoWeeksInYear=function(){return qt(this.year(),1,4)},_.date=Kt,_.day=_.days=function(t){var e,i,o;return this.isValid()?(e=this._isUTC?this._d.getUTCDay():this._d.getDay(),null!=t?(i=t,o=this.localeData(),t="string"!=typeof i?i:isNaN(i)?"number"==typeof(i=o.weekdaysParse(i))?i:null:parseInt(i,10),this.add(t-e,"d")):e):null!=t?this:NaN},_.weekday=function(t){var e;return this.isValid()?(e=(this.day()+7-this.localeData()._week.dow)%7,null==t?e:this.add(t-e,"d")):null!=t?this:NaN},_.isoWeekday=function(t){var e,i;return this.isValid()?null!=t?(e=t,i=this.localeData(),i="string"==typeof e?i.weekdaysParse(e)%7||7:isNaN(e)?null:e,this.day(this.day()%7?i:i-7)):this.day()||7:null!=t?this:NaN},_.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},_.hour=_.hours=w,_.minute=_.minutes=Zt,_.second=_.seconds=yt,_.millisecond=_.milliseconds=ut,_.utcOffset=function(t,e){var i,o=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Te(wt,t):Math.abs(t)<16&&(t*=60),!this._isUTC&&e&&(i=Pe(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!e||this._changeInProgress?Fe(this,Le(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,u.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?o:Pe(this):null!=t?this:NaN},_.utc=function(t){return this.utcOffset(0,t)},_.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t)&&this.subtract(Pe(this),"m"),this},_.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&(0===Te(_t,this._i)?this.utcOffset(0,!0):this.utcOffset(Te(_t,this._i))),this},_.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?N(t).utcOffset():0,(this.utcOffset()-t)%60==0)},_.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},_.isLocal=function(){return!!this.isValid()&&!this._isUTC},_.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},_.isUtc=Ie,_.isUTC=Ie,_.zoneAbbr=function(){return this._isUTC?"UTC":""},_.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},_.dates=t("dates accessor is deprecated. Use date instead.",Kt),_.months=t("months accessor is deprecated. Use month instead",Lt),_.years=t("years accessor is deprecated. Use year instead",Ht),_.zone=t("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?(this.utcOffset(t="string"!=typeof t?-t:t,e),this):-this.utcOffset()}),_.isDSTShifted=t("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){var t,e;return s(this._isDSTShifted)&&(G(t={},this),(t=we(t))._a?(e=(t._isUTC?d:N)(t._a),this._isDSTShifted=this.isValid()&&0<q(t._a,e.toArray())):this._isDSTShifted=!1),this._isDSTShifted}),pt=_;function Ue(t){return t}n=J.prototype;function qe(t,e,i,o){var n=I(),o=d().set(o,e);return n[i](o,t)}function Xe(t,e,i){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return qe(t,e,i,"month");for(var o=[],n=0;n<12;n++)o[n]=qe(t,n,i,"month");return o}function Ze(t,e,i,o){e=("boolean"==typeof t?"number"==typeof e&&(i=e,e=void 0):(e=t,t=!1,"number"==typeof(i=e)&&(i=e,e=void 0)),e||"");var n=I(),s=t?n._week.dow:0;if(null!=i)return qe(e,(i+s)%7,o,"day");for(var r=[],a=0;a<7;a++)r[a]=qe(e,(a+s)%7,o,"day");return r}n.calendar=function(t,e,i){return r(t=this._calendar[t]||this._calendar.sameElse)?t.call(e,i):t},n.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},n.invalidDate=function(){return this._invalidDate},n.ordinal=function(t){return this._ordinal.replace("%d",t)},n.preparse=Ue,n.postformat=Ue,n.relativeTime=function(t,e,i,o){var n=this._relativeTime[i];return r(n)?n(t,e,i,o):n.replace(/%d/i,t)},n.pastFuture=function(t,e){return r(t=this._relativeTime[0<t?"future":"past"])?t(e):t.replace(/%s/i,e)},n.set=function(t){var e,i;for(i in t)r(e=t[i])?this[i]=e:this["_"+i]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},n.months=function(t,e){return t?(c(this._months)?this._months:this._months[(this._months.isFormat||Pt).test(e)?"format":"standalone"])[t.month()]:this._months},n.monthsShort=function(t,e){return t?(c(this._monthsShort)?this._monthsShort:this._monthsShort[Pt.test(e)?"format":"standalone"])[t.month()]:this._monthsShort},n.monthsParse=function(t,e,i){var o,n;if(this._monthsParseExact)return function(t,e,i){var o,n,s,t=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],o=0;o<12;++o)s=d([2e3,o]),this._shortMonthsParse[o]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[o]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===e?-1!==(n=O.call(this._shortMonthsParse,t))?n:null:-1!==(n=O.call(this._longMonthsParse,t))?n:null:"MMM"===e?-1!==(n=O.call(this._shortMonthsParse,t))||-1!==(n=O.call(this._longMonthsParse,t))?n:null:-1!==(n=O.call(this._longMonthsParse,t))||-1!==(n=O.call(this._shortMonthsParse,t))?n:null}.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;o<12;o++){if(n=d([2e3,o]),i&&!this._longMonthsParse[o]&&(this._longMonthsParse[o]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[o]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),i||this._monthsParse[o]||(n="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[o]=new RegExp(n.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[o].test(t))return o;if(i&&"MMM"===e&&this._shortMonthsParse[o].test(t))return o;if(!i&&this._monthsParse[o].test(t))return o}},n.monthsRegex=function(t){return this._monthsParseExact?(p(this,"_monthsRegex")||Bt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(p(this,"_monthsRegex")||(this._monthsRegex=At),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},n.monthsShortRegex=function(t){return this._monthsParseExact?(p(this,"_monthsRegex")||Bt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(p(this,"_monthsShortRegex")||(this._monthsShortRegex=zt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},n.week=function(t){return Ut(t,this._week.dow,this._week.doy).week},n.firstDayOfYear=function(){return this._week.doy},n.firstDayOfWeek=function(){return this._week.dow},n.weekdays=function(t,e){return t?(c(this._weekdays)?this._weekdays:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"])[t.day()]:this._weekdays},n.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},n.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},n.weekdaysParse=function(t,e,i){var o,n;if(this._weekdaysParseExact)return function(t,e,i){var o,n,s,t=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;o<7;++o)s=d([2e3,1]).day(o),this._minWeekdaysParse[o]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===e?-1!==(n=O.call(this._weekdaysParse,t))?n:null:"ddd"===e?-1!==(n=O.call(this._shortWeekdaysParse,t))?n:null:-1!==(n=O.call(this._minWeekdaysParse,t))?n:null:"dddd"===e?-1!==(n=O.call(this._weekdaysParse,t))||-1!==(n=O.call(this._shortWeekdaysParse,t))||-1!==(n=O.call(this._minWeekdaysParse,t))?n:null:"ddd"===e?-1!==(n=O.call(this._shortWeekdaysParse,t))||-1!==(n=O.call(this._weekdaysParse,t))||-1!==(n=O.call(this._minWeekdaysParse,t))?n:null:-1!==(n=O.call(this._minWeekdaysParse,t))||-1!==(n=O.call(this._weekdaysParse,t))||-1!==(n=O.call(this._shortWeekdaysParse,t))?n:null}.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),o=0;o<7;o++){if(n=d([2e3,1]).day(o),i&&!this._fullWeekdaysParse[o]&&(this._fullWeekdaysParse[o]=new RegExp("^"+this.weekdays(n,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[o]=new RegExp("^"+this.weekdaysShort(n,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[o]=new RegExp("^"+this.weekdaysMin(n,"").replace(".",".?")+"$","i")),this._weekdaysParse[o]||(n="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[o]=new RegExp(n.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[o].test(t))return o;if(i&&"ddd"===e&&this._shortWeekdaysParse[o].test(t))return o;if(i&&"dd"===e&&this._minWeekdaysParse[o].test(t))return o;if(!i&&this._weekdaysParse[o].test(t))return o}},n.weekdaysRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||te.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(p(this,"_weekdaysRegex")||(this._weekdaysRegex=Jt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},n.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||te.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(p(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Qt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},n.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||te.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(p(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=$t),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},n.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},n.meridiem=function(t,e,i){return 11<t?i?"pm":"PM":i?"am":"AM"},he("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===h(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),u.lang=t("moment.lang is deprecated. Use moment.locale instead.",he),u.langData=t("moment.langData is deprecated. Use moment.localeData instead.",I);var R=Math.abs;function Ke(t,e,i,o){e=Le(e,i);return t._milliseconds+=o*e._milliseconds,t._days+=o*e._days,t._months+=o*e._months,t._bubble()}function Je(t){return t<0?Math.floor(t):Math.ceil(t)}function Qe(t){return 4800*t/146097}function $e(t){return 146097*t/4800}function ti(t){return function(){return this.as(t)}}v=ti("ms"),gt=ti("s"),ct=ti("m"),It=ti("h"),mt=ti("d"),ft=ti("w"),Nt=ti("M"),w=ti("y");function ei(t){return function(){return this._data[t]}}Zt=ei("milliseconds"),yt=ei("seconds"),ut=ei("minutes"),Kt=ei("hours"),Ht=ei("days"),_=ei("months"),n=ei("years");var ii=Math.round,oi={s:45,m:45,h:22,d:26,M:11};function ni(t,e,i){var o=Le(t).abs(),n=ii(o.as("s")),s=ii(o.as("m")),r=ii(o.as("h")),a=ii(o.as("d")),h=ii(o.as("M")),o=ii(o.as("y")),n=(n<oi.s?["s",n]:s<=1&&["m"])||(s<oi.m?["mm",s]:r<=1&&["h"])||(r<oi.h?["hh",r]:a<=1&&["d"])||(a<oi.d?["dd",a]:h<=1&&["M"])||(h<oi.M?["MM",h]:o<=1&&["y"])||["yy",o];return n[2]=e,n[3]=0<+t,n[4]=i,function(t,e,i,o,n){return n.relativeTime(e||1,!!i,t,o)}.apply(null,n)}var si=Math.abs;function ri(){var t=si(this._milliseconds)/1e3,e=si(this._days),i=si(this._months),o=a(t/60),n=a(o/60),s=(t%=60,o%=60,a(i/12)),i=i%=12,r=this.asSeconds();return r?(r<0?"-":"")+"P"+(s?s+"Y":"")+(i?i+"M":"")+(e?e+"D":"")+(n||o||t?"T":"")+(n?n+"H":"")+(o?o+"M":"")+(t?t+"S":""):"P0D"}var L=Oe.prototype;return L.abs=function(){var t=this._data;return this._milliseconds=R(this._milliseconds),this._days=R(this._days),this._months=R(this._months),t.milliseconds=R(t.milliseconds),t.seconds=R(t.seconds),t.minutes=R(t.minutes),t.hours=R(t.hours),t.months=R(t.months),t.years=R(t.years),this},L.add=function(t,e){return Ke(this,t,e,1)},L.subtract=function(t,e){return Ke(this,t,e,-1)},L.as=function(t){var e,i,o=this._milliseconds;if("month"===(t=l(t))||"year"===t)return e=this._days+o/864e5,i=this._months+Qe(e),"month"===t?i:i/12;switch(e=this._days+Math.round($e(this._months)),t){case"week":return e/7+o/6048e5;case"day":return e+o/864e5;case"hour":return 24*e+o/36e5;case"minute":return 1440*e+o/6e4;case"second":return 86400*e+o/1e3;case"millisecond":return Math.floor(864e5*e)+o;default:throw new Error("Unknown unit "+t)}},L.asMilliseconds=v,L.asSeconds=gt,L.asMinutes=ct,L.asHours=It,L.asDays=mt,L.asWeeks=ft,L.asMonths=Nt,L.asYears=w,L.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*h(this._months/12)},L._bubble=function(){var t=this._milliseconds,e=this._days,i=this._months,o=this._data;return 0<=t&&0<=e&&0<=i||t<=0&&e<=0&&i<=0||(t+=864e5*Je($e(i)+e),i=e=0),o.milliseconds=t%1e3,t=a(t/1e3),o.seconds=t%60,t=a(t/60),o.minutes=t%60,t=a(t/60),o.hours=t%24,e+=a(t/24),i+=t=a(Qe(e)),e-=Je($e(t)),t=a(i/12),i%=12,o.days=e,o.months=i,o.years=t,this},L.get=function(t){return this[(t=l(t))+"s"]()},L.milliseconds=Zt,L.seconds=yt,L.minutes=ut,L.hours=Kt,L.days=Ht,L.weeks=function(){return a(this.days()/7)},L.months=_,L.years=n,L.humanize=function(t){var e=this.localeData(),i=ni(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)},L.toISOString=ri,L.toString=ri,L.toJSON=ri,L.locale=je,L.localeData=He,L.toIsoString=t("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ri),L.lang=Xt,o("X",0,0,"unix"),o("x",0,0,"valueOf"),x("x",bt),x("X",/[+-]?\d+(\.\d{1,3})?/),k("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),k("x",function(t,e,i){i._d=new Date(h(t))}),u.version="2.15.2",z=N,u.fn=pt,u.min=function(){return ke("isBefore",[].slice.call(arguments,0))},u.max=function(){return ke("isAfter",[].slice.call(arguments,0))},u.now=function(){return Date.now?Date.now():+new Date},u.utc=d,u.unix=function(t){return N(1e3*t)},u.months=function(t,e){return Xe(t,e,"months")},u.isDate=B,u.locale=he,u.invalid=H,u.duration=Le,u.isMoment=g,u.weekdays=function(t,e,i){return Ze(t,e,i,"weekdays")},u.parseZone=function(){return N.apply(null,arguments).parseZone()},u.localeData=I,u.isDuration=De,u.monthsShort=function(t,e){return Xe(t,e,"monthsShort")},u.weekdaysMin=function(t,e,i){return Ze(t,e,i,"weekdaysMin")},u.defineLocale=de,u.updateLocale=function(t,e){var i;return null!=e?(i=se,(i=new J(e=K(i=null!=P[t]?P[t]._config:i,e))).parentLocale=P[t],P[t]=i,he(t)):null!=P[t]&&(null!=P[t].parentLocale?P[t]=P[t].parentLocale:null!=P[t]&&delete P[t]),P[t]},u.locales=function(){return Q(P)},u.weekdaysShort=function(t,e,i){return Ze(t,e,i,"weekdaysShort")},u.normalizeUnits=l,u.relativeTimeRounding=function(t){return void 0===t?ii:"function"==typeof t&&(ii=t,!0)},u.relativeTimeThreshold=function(t,e){return void 0!==oi[t]&&(void 0===e?oi[t]:(oi[t]=e,!0))},u.calendarFormat=function(t,e){return(t=t.diff(e,"days",!0))<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"},u.prototype=pt,u},ai.exports=t()}.call(e,i(4)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){function i(t){throw new Error("Cannot find module '"+t+"'.")}i.keys=function(){return[]},(t.exports=i.resolve=i).id=5},function(h,t){!function(t){for(var e,r,i,t="undefined"!=typeof window?window:void 0!==t?t:null,o=(t&&t.crypto&&crypto.getRandomValues&&(e=new Uint8Array(16),r=function(){return crypto.getRandomValues(e),e}),r||(i=new Array(16),r=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}),[]),s={},n=0;n<256;n++)o[n]=(n+256).toString(16).substr(1),s[o[n]]=n;function l(t,e){e=e||0;return o[t[e++]]+o[t[e++]]+o[t[e++]]+o[t[e++]]+"-"+o[t[e++]]+o[t[e++]]+"-"+o[t[e++]]+o[t[e++]]+"-"+o[t[e++]]+o[t[e++]]+"-"+o[t[e++]]+o[t[e++]]+o[t[e++]]+o[t[e++]]+o[t[e++]]+o[t[+e]]}var t=r(),c=[1|t[0],t[1],t[2],t[3],t[4],t[5]],u=16383&(t[6]<<8|t[7]),p=0,f=0;function a(t,e,i){var o=e&&i||0,n=("string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),(t=t||{}).random||(t.rng||r)());if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e)for(var s=0;s<16;s++)e[o+s]=n[s];return e||l(n)}t=a;t.v1=function(t,e,i){var o=e&&i||0,n=e||[],i=void 0!==(t=t||{}).clockseq?t.clockseq:u,s=void 0!==t.msecs?t.msecs:(new Date).getTime(),r=void 0!==t.nsecs?t.nsecs:f+1;if((a=s-p+(r-f)/1e4)<0&&void 0===t.clockseq&&(i=i+1&16383),1e4<=(r=(a<0||p<s)&&void 0===t.nsecs?0:r))throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=s,u=i;for(var a=(1e4*(268435455&(s+=122192928e5))+(f=r))%4294967296,r=(n[o++]=a>>>24&255,n[o++]=a>>>16&255,n[o++]=a>>>8&255,n[o++]=255&a,s/4294967296*1e4&268435455),h=(n[o++]=r>>>8&255,n[o++]=255&r,n[o++]=r>>>24&15|16,n[o++]=r>>>16&255,n[o++]=i>>>8|128,n[o++]=255&i,t.node||c),d=0;d<6;d++)n[o+d]=h[d];return e||l(n)},t.v4=a,t.parse=function(t,e,i){var o=e&&i||0,n=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){n<16&&(e[o+n++]=s[t])});n<16;)e[o+n++]=0;return e},t.unparse=l,h.exports=t}.call(t,function(){return this}())},function(t,e,i){e.util=i(1),e.DOMutil=i(8),e.DataSet=i(9),e.DataView=i(11),e.Queue=i(10),e.Graph3d=i(12),e.graph3d={Camera:i(16),Filter:i(17),Point2d:i(15),Point3d:i(14),Slider:i(18),StepNumber:i(19)},e.moment=i(2),e.Hammer=i(22),e.keycharm=i(25)},function(t,h){h.prepareElements=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])},h.cleanupElements=function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var i=0;i<t[e].redundant.length;i++)t[e].redundant[i].parentNode.removeChild(t[e].redundant[i]);t[e].redundant=[]}},h.resetElements=function(t){h.prepareElements(t),h.cleanupElements(t),h.prepareElements(t)},h.getSVGElement=function(t,e,i){var o;return e.hasOwnProperty(t)?0<e[t].redundant.length?(o=e[t].redundant[0],e[t].redundant.shift()):(o=document.createElementNS("http://www.w3.org/2000/svg",t),i.appendChild(o)):(o=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},i.appendChild(o)),e[t].used.push(o),o},h.getDOMElement=function(t,e,i,o){var n;return e.hasOwnProperty(t)?0<e[t].redundant.length?(n=e[t].redundant[0],e[t].redundant.shift()):(n=document.createElement(t),void 0!==o?i.insertBefore(n,o):i.appendChild(n)):(n=document.createElement(t),e[t]={used:[],redundant:[]},void 0!==o?i.insertBefore(n,o):i.appendChild(n)),e[t].used.push(n),n},h.drawPoint=function(t,e,i,o,n,s){var r;return"circle"==i.style?((r=h.getSVGElement("circle",o,n)).setAttributeNS(null,"cx",t),r.setAttributeNS(null,"cy",e),r.setAttributeNS(null,"r",.5*i.size)):((r=h.getSVGElement("rect",o,n)).setAttributeNS(null,"x",t-.5*i.size),r.setAttributeNS(null,"y",e-.5*i.size),r.setAttributeNS(null,"width",i.size),r.setAttributeNS(null,"height",i.size)),void 0!==i.styles&&r.setAttributeNS(null,"style",i.styles),r.setAttributeNS(null,"class",i.className+" vis-point"),s&&(i=h.getSVGElement("text",o,n),s.xOffset&&(t+=s.xOffset),s.yOffset&&(e+=s.yOffset),s.content&&(i.textContent=s.content),s.className&&i.setAttributeNS(null,"class",s.className+" vis-label"),i.setAttributeNS(null,"x",t),i.setAttributeNS(null,"y",e)),r},h.drawBar=function(t,e,i,o,n,s,r,a){0!=o&&(o<0&&(e-=o*=-1),(s=h.getSVGElement("rect",s,r)).setAttributeNS(null,"x",t-.5*i),s.setAttributeNS(null,"y",e),s.setAttributeNS(null,"width",i),s.setAttributeNS(null,"height",o),s.setAttributeNS(null,"class",n),a)&&s.setAttributeNS(null,"style",a)}},function(t,e,i){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m=i(1),n=i(10);function s(t,e){if(t&&!Array.isArray(t)&&(e=t,t=null),this._options=e||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var i=Object.keys(this._options.type),o=0,n=i.length;o<n;o++){var s=i[o],r=this._options.type[s];this._type[s]="Date"==r||"ISODate"==r||"ASPDate"==r?"Date":r}if(this._options.convert)throw new Error('Option "convert" is deprecated. Use "type" instead.');this._subscribers={},t&&this.add(t),this.setOptions(e)}s.prototype.setOptions=function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=n.extend(this,{replace:["add","update","remove"]})),"object"===o(t.queue)&&this._queue.setOptions(t.queue)))},s.prototype.on=function(t,e){var i=this._subscribers[t];i||(this._subscribers[t]=i=[]),i.push({callback:e})},s.prototype.subscribe=function(){throw new Error("DataSet.subscribe is deprecated. Use DataSet.on instead.")},s.prototype.off=function(t,e){var i=this._subscribers[t];i&&(this._subscribers[t]=i.filter(function(t){return t.callback!=e}))},s.prototype.unsubscribe=function(){throw new Error("DataSet.unsubscribe is deprecated. Use DataSet.off instead.")},s.prototype._trigger=function(t,e,i){if("*"==t)throw new Error("Cannot trigger event *");var o=[];t in this._subscribers&&(o=o.concat(this._subscribers[t]));for(var n=0,s=((o="*"in this._subscribers?o.concat(this._subscribers["*"]):o).length);n<s;n++){var r=o[n];r.callback&&r.callback(t,e,i||null)}},s.prototype.add=function(t,e){var i,o=[];if(Array.isArray(t))for(var n=0,s=t.length;n<s;n++)i=this._addItem(t[n]),o.push(i);else{if(!(t instanceof Object))throw new Error("Unknown dataType");i=this._addItem(t),o.push(i)}return o.length&&this._trigger("add",{items:o},e),o},s.prototype.update=function(t,e){function i(t){var e,i=t[h];a._data[i]?(e=m.extend({},a._data[i]),i=a._updateItem(t),n.push(i),r.push(t),s.push(e)):(i=a._addItem(t),o.push(i))}var o=[],n=[],s=[],r=[],a=this,h=a._fieldId;if(Array.isArray(t))for(var d=0,l=t.length;d<l;d++)t[d]instanceof Object&&i(t[d]);else{if(!(t instanceof Object))throw new Error("Unknown dataType");i(t)}return o.length&&this._trigger("add",{items:o},e),n.length&&this._trigger("update",{items:n,oldData:s,data:r},e),o.concat(n)},s.prototype.get=function(t){var e,i,o,n,s,r=m.getType(t),r="String"==r||"Number"==r?(e=t,arguments[1]):"Array"==r?(i=t,arguments[1]):t,a=(t=!r||!r.returnType||-1==["Array","Object"].indexOf(r.returnType)?"Array":r.returnType,r&&r.type||this._options.type),h=r&&r.filter,d=[];if(null!=e)(o=this._getItem(e,a))&&h&&!h(o)&&(o=null);else if(null!=i)for(p=0,f=i.length;p<f;p++)o=this._getItem(i[p],a),h&&!h(o)||d.push(o);else for(p=0,f=(n=Object.keys(this._data)).length;p<f;p++)s=n[p],o=this._getItem(s,a),h&&!h(o)||d.push(o);if(r&&r.order&&null==e&&this._sort(d,r.order),r&&r.fields){var l=r.fields;if(null!=e)o=this._filterFields(o,l);else for(p=0,f=d.length;p<f;p++)d[p]=this._filterFields(d[p],l)}if("Object"!=t)return null!=e?o:d;for(var c,u={},p=0,f=d.length;p<f;p++)u[(c=d[p]).id]=c;return u},s.prototype.getIds=function(t){var e,i,o,n,s,r=this._data,a=t&&t.filter,h=t&&t.order,d=t&&t.type||this._options.type,l=Object.keys(r),c=[];if(a)if(h){for(s=[],e=0,i=l.length;e<i;e++)o=l[e],a(n=this._getItem(o,d))&&s.push(n);for(this._sort(s,h),e=0,i=s.length;e<i;e++)c.push(s[e][this._fieldId])}else for(e=0,i=l.length;e<i;e++)o=l[e],a(n=this._getItem(o,d))&&c.push(n[this._fieldId]);else if(h){for(s=[],e=0,i=l.length;e<i;e++)o=l[e],s.push(r[o]);for(this._sort(s,h),e=0,i=s.length;e<i;e++)c.push(s[e][this._fieldId])}else for(e=0,i=l.length;e<i;e++)n=r[o=l[e]],c.push(n[this._fieldId]);return c},s.prototype.getDataSet=function(){return this},s.prototype.forEach=function(t,e){var i,o,n=e&&e.filter,s=e&&e.type||this._options.type,r=this._data,a=Object.keys(r);if(e&&e.order)for(var h=this.get(e),d=0,l=h.length;d<l;d++)t(i=h[d],o=i[this._fieldId]);else for(d=0,l=a.length;d<l;d++)o=a[d],i=this._getItem(o,s),n&&!n(i)||t(i,o)},s.prototype.map=function(t,e){for(var i,o,n=e&&e.filter,s=e&&e.type||this._options.type,r=[],a=this._data,h=Object.keys(a),d=0,l=h.length;d<l;d++)i=h[d],o=this._getItem(i,s),n&&!n(o)||r.push(t(o,i));return e&&e.order&&this._sort(r,e.order),r},s.prototype._filterFields=function(t,e){if(!t)return t;var i,o,n={},s=Object.keys(t),r=s.length;if(Array.isArray(e))for(i=0;i<r;i++)o=s[i],-1!=e.indexOf(o)&&(n[o]=t[o]);else for(i=0;i<r;i++)o=s[i],e.hasOwnProperty(o)&&(n[e[o]]=t[o]);return n},s.prototype._sort=function(t,e){if(m.isString(e)){var i=e;t.sort(function(t,e){t=t[i],e=e[i];return e<t?1:t<e?-1:0})}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}},s.prototype.remove=function(t,e){for(var i,o,n,s=[],r=[],a=0,h=(n=Array.isArray(t)?t:[t]).length;a<h;a++)(o=this._remove(n[a]))&&(i=o[this._fieldId])&&(s.push(i),r.push(o));return s.length&&this._trigger("remove",{items:s,oldData:r},e),s},s.prototype._remove=function(t){var e;return m.isNumber(t)||m.isString(t)?e=t:t instanceof Object&&(e=t[this._fieldId]),void 0!==e&&this._data[e]?(t=this._data[e],delete this._data[e],this.length--,t):null},s.prototype.clear=function(t){for(var e=Object.keys(this._data),i=[],o=0,n=e.length;o<n;o++)i.push(this._data[e[o]]);return this._data={},this.length=0,this._trigger("remove",{items:e,oldData:i},t),e},s.prototype.max=function(t){for(var e=this._data,i=Object.keys(e),o=null,n=null,s=0,r=i.length;s<r;s++){var a=e[i[s]],h=a[t];null!=h&&(!o||n<h)&&(o=a,n=h)}return o},s.prototype.min=function(t){for(var e=this._data,i=Object.keys(e),o=null,n=null,s=0,r=i.length;s<r;s++){var a=e[i[s]],h=a[t];null!=h&&(!o||h<n)&&(o=a,n=h)}return o},s.prototype.distinct=function(t){for(var e=this._data,i=Object.keys(e),o=[],n=this._options.type&&this._options.type[t]||null,s=0,r=0,a=i.length;r<a;r++){for(var h=e[i[r]][t],d=!1,l=0;l<s;l++)if(o[l]==h){d=!0;break}d||void 0===h||(o[s]=h,s++)}if(n)for(r=0,a=o.length;r<a;r++)o[r]=m.convert(o[r],n);return o},s.prototype._addItem=function(t){var e=t[this._fieldId];if(null!=e){if(this._data[e])throw new Error("Cannot add item: item with id "+e+" already exists")}else e=m.randomUUID(),t[this._fieldId]=e;for(var i={},o=Object.keys(t),n=0,s=o.length;n<s;n++){var r=o[n],a=this._type[r];i[r]=m.convert(t[r],a)}return this._data[e]=i,this.length++,e},s.prototype._getItem=function(t,e){var i,o,n,s,r=this._data[t];if(!r)return null;var a={},h=Object.keys(r);if(e)for(n=0,s=h.length;n<s;n++)o=r[i=h[n]],a[i]=m.convert(o,e[i]);else for(n=0,s=h.length;n<s;n++)o=r[i=h[n]],a[i]=o;return a},s.prototype._updateItem=function(t){var e=t[this._fieldId];if(null==e)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(t)+")");var i=this._data[e];if(!i)throw new Error("Cannot update item: no item with id "+e+" found");for(var o=Object.keys(t),n=0,s=o.length;n<s;n++){var r=o[n],a=this._type[r];i[r]=m.convert(t[r],a)}return e},t.exports=s},function(t,e){function r(t){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(t)}r.prototype.setOptions=function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()},r.extend=function(t,e){var i=new r(e);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){i.flush()};var o=[{name:"flush",original:void 0}];if(e&&e.replace)for(var n=0;n<e.replace.length;n++){var s=e.replace[n];o.push({name:s,original:t[s]}),i.replace(t,s)}return i._extended={object:t,methods:o},i},r.prototype.destroy=function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,i=0;i<e.length;i++){var o=e[i];o.original?t[o.name]=o.original:delete t[o.name]}this._extended=null}},r.prototype.replace=function(t,e){var i=this,o=t[e];if(!o)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.queue({args:t,fn:o,context:this})}},r.prototype.queue=function(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()},r.prototype._flushIfNeeded=function(){var t;this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),0<this.queue.length&&"number"==typeof this.delay&&((t=this)._timeout=setTimeout(function(){t.flush()},this.delay))},r.prototype.flush=function(){for(;0<this._queue.length;){var t=this._queue.shift();t.fn.apply(t.context||t.fn,t.args||[])}},t.exports=r},function(t,e,i){var r=i(1),i=i(9);function o(t,e){this._data=null,this._ids={},this.length=0,this._options=e||{},this._fieldId="id",this._subscribers={};var i=this;this.listener=function(){i._onEvent.apply(i,arguments)},this.setData(t)}o.prototype.setData=function(t){var e,i,o,n,s;if(this._data){for(this._data.off&&this._data.off("*",this.listener),s=[],o=0,n=(e=this._data.getIds({filter:this._options&&this._options.filter})).length;o<n;o++)s.push(this._data._data[e[o]]);this._ids={},this.length=0,this._trigger("remove",{items:e,oldData:s})}if(this._data=t,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",o=0,n=(e=this._data.getIds({filter:this._options&&this._options.filter})).length;o<n;o++)i=e[o],this._ids[i]=!0;this.length=e.length,this._trigger("add",{items:e}),this._data.on&&this._data.on("*",this.listener)}},o.prototype.refresh=function(){for(var t,e=this._data.getIds({filter:this._options&&this._options.filter}),i=Object.keys(this._ids),o={},n=[],s=[],r=[],a=0,h=e.length;a<h;a++)o[t=e[a]]=!0,this._ids[t]||(n.push(t),this._ids[t]=!0);for(a=0,h=i.length;a<h;a++)o[t=i[a]]||(s.push(t),r.push(this._data[t]),delete this._ids[t]);this.length+=n.length-s.length,n.length&&this._trigger("add",{items:n}),s.length&&this._trigger("remove",{items:s,oldData:r})},o.prototype.get=function(t){var e,i,o=this,n=r.getType(t),n="String"==n||"Number"==n||"Array"==n?(e=t,i=arguments[1],arguments[2]):(i=t,arguments[1]),t=r.extend({},this._options,i),s=(this._options.filter&&i&&i.filter&&(t.filter=function(t){return o._options.filter(t)&&i.filter(t)}),[]);return null!=e&&s.push(e),s.push(t),s.push(n),this._data&&this._data.get.apply(this._data,s)},o.prototype.getIds=function(e){var i,t;return this._data?(i=this._options.filter,t=e&&e.filter?i?function(t){return i(t)&&e.filter(t)}:e.filter:i,this._data.getIds({filter:t,order:e&&e.order})):[]},o.prototype.map=function(t,e){var i,o;return this._data?(i=this._options.filter,o=e&&e.filter?i?function(t){return i(t)&&e.filter(t)}:e.filter:i,this._data.map(t,{filter:o,order:e&&e.order})):[]},o.prototype.getDataSet=function(){for(var t=this;t instanceof o;)t=t._data;return t||null},o.prototype._onEvent=function(t,e,i){var o,n,s,r=e&&e.items,a=[],h=[],d=[],l=[],c=[],u=[];if(r&&this._data){switch(t){case"add":for(o=0,n=r.length;o<n;o++)s=r[o],this.get(s)&&(this._ids[s]=!0,a.push(s));break;case"update":for(o=0,n=r.length;o<n;o++)s=r[o],this.get(s)?this._ids[s]?(h.push(s),c.push(e.data[o]),l.push(e.oldData[o])):(this._ids[s]=!0,a.push(s)):this._ids[s]&&(delete this._ids[s],d.push(s),u.push(e.oldData[o]));break;case"remove":for(o=0,n=r.length;o<n;o++)s=r[o],this._ids[s]&&(delete this._ids[s],d.push(s),u.push(e.oldData[o]))}this.length+=a.length-d.length,a.length&&this._trigger("add",{items:a},i),h.length&&this._trigger("update",{items:h,oldData:l,data:c},i),d.length&&this._trigger("remove",{items:d,oldData:u},i)}},o.prototype.on=i.prototype.on,o.prototype.off=i.prototype.off,o.prototype._trigger=i.prototype._trigger,o.prototype.subscribe=o.prototype.on,o.prototype.unsubscribe=o.prototype.off,t.exports=o},function(t,e,i){var o=i(13),r=i(9),a=i(11),n=i(1),O=i(14),D=i(15),h=(i(16),i(17)),s=i(18),S=i(19),d=i(20),l=i(21),i=void 0,c={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(t){return t},yValueLabel:function(t){return t},zValueLabel:function(t){return t},showGrid:!0,showPerspective:!0,showShadow:!1,keepAspectRatio:!0,verticalRatio:.5,dotSizeRatio:.02,showAnimationControls:i,animationInterval:1e3,animationPreload:!1,animationAutoStart:i,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:(v.STYLE=l.STYLE).DOT,tooltip:!1,showLegend:i,backgroundColor:i,dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,distance:1.7},xBarWidth:i,yBarWidth:i,valueMin:i,valueMax:i,xMin:i,xMax:i,xStep:i,yMin:i,yMax:i,yStep:i,zMin:i,zMax:i,zStep:i};function v(t,e,i){if(!(this instanceof v))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=t,this.dataTable=null,this.dataPoints=null,this.create(),l.setDefaults(c,this),this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.colFilter=void 0,this.setOptions(i),e&&this.setData(e)}function u(t){return"clientX"in t?t.clientX:t.targetTouches[0]&&t.targetTouches[0].clientX||0}function p(t){return"clientY"in t?t.clientY:t.targetTouches[0]&&t.targetTouches[0].clientY||0}o(v.prototype),v.prototype._setScale=function(){this.scale=new O(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range()),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());var t=this.xRange.center()*this.scale.x,e=this.yRange.center()*this.scale.y,i=this.zRange.center()*this.scale.z;this.camera.setArmLocation(t,e,i)},v.prototype._convert3Dto2D=function(t){t=this._convertPointToTranslation(t);return this._convertTranslationToScreen(t)},v.prototype._convertPointToTranslation=function(t){var e=this.camera.getCameraLocation(),i=this.camera.getCameraRotation(),o=t.x*this.scale.x,n=t.y*this.scale.y,t=t.z*this.scale.z,s=e.x,r=e.y,e=e.z,a=Math.sin(i.x),h=Math.cos(i.x),d=Math.sin(i.y),l=Math.cos(i.y),c=Math.sin(i.z),i=Math.cos(i.z);return new O(l*(c*(n-r)+i*(o-s))-d*(t-e),a*(l*(t-e)+d*(c*(n-r)+i*(o-s)))+h*(i*(n-r)-c*(o-s)),h*(l*(t-e)+d*(c*(n-r)+i*(o-s)))-a*(i*(n-r)-c*(o-s)))},v.prototype._convertTranslationToScreen=function(t){var e,i=this.eye.x,o=this.eye.y,n=this.eye.z,s=t.x,r=t.y,t=t.z,i=this.showPerspective?(e=n/t*(s-i),n/t*(r-o)):(e=s*-(n/this.camera.getArmLength()),r*-(n/this.camera.getArmLength()));return new D(this.currentXCenter+e*this.frame.canvas.clientWidth,this.currentYCenter-i*this.frame.canvas.clientWidth)},v.prototype._calcTranslations=function(t,e){void 0===e&&(e=!0);for(var i=0;i<t.length;i++){var o=t[i],n=(o.trans=this._convertPointToTranslation(o.point),o.screen=this._convertTranslationToScreen(o.trans),this._convertPointToTranslation(o.bottom));o.dist=this.showPerspective?n.length():-n.z}e&&t.sort(function(t,e){return e.dist-t.dist})},v.prototype.getNumberOfRows=function(t){return t.length},v.prototype.getNumberOfColumns=function(t){var e,i=0;for(e in t[0])t[0].hasOwnProperty(e)&&i++;return i},v.prototype.getDistinctValues=function(t,e){for(var i=[],o=0;o<t.length;o++)-1==i.indexOf(t[o][e])&&i.push(t[o][e]);return i},v.prototype.getColumnRange=function(t,e){for(var i=new d,o=0;o<t.length;o++){var n=t[o][e];i.adjust(n)}return i},v.prototype._checkValueField=function(t){if(this.style===v.STYLE.BARCOLOR||this.style===v.STYLE.BARSIZE||this.style===v.STYLE.DOTCOLOR||this.style===v.STYLE.DOTSIZE){if(void 0===this.colValue)throw new Error("Expected data to have  field 'style'  for graph style '"+this.style+"'");if(void 0===t[0][this.colValue])throw new Error("Expected data to have  field '"+this.colValue+"'  for graph style '"+this.style+"'")}},v.prototype._setRangeDefaults=function(t,e,i){void 0!==e&&(t.min=e),void 0!==i&&(t.max=i),t.max<=t.min&&(t.max=t.min+1)},v.prototype._dataInitialize=function(t,e){var i,o,n,s=this;if(this.dataSet&&this.dataSet.off("*",this._onChange),void 0!==t){if(!((t=Array.isArray(t)?new r(t):t)instanceof r||t instanceof a))throw new Error("Array, DataSet, or DataView expected");0!=(i=t.get()).length&&(this.dataSet=t,this.dataTable=i,this._onChange=function(){s.setData(s.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z",(o=this.style==v.STYLE.BAR||this.style==v.STYLE.BARCOLOR||this.style==v.STYLE.BARSIZE)&&(void 0!==this.defaultXBarWidth?this.xBarWidth=this.defaultXBarWidth:(n=this.getDistinctValues(i,this.colX),this.xBarWidth=n[1]-n[0]||1),void 0!==this.defaultYBarWidth?this.yBarWidth=this.defaultYBarWidth:(n=this.getDistinctValues(i,this.colY),this.yBarWidth=n[1]-n[0]||1)),n=this.getColumnRange(i,this.colX),o&&n.expand(this.xBarWidth/2),this._setRangeDefaults(n,this.defaultXMin,this.defaultXMax),this.xRange=n,this.xStep=void 0!==this.defaultXStep?this.defaultXStep:n.range()/5,n=this.getColumnRange(i,this.colY),o&&n.expand(this.yBarWidth/2),this._setRangeDefaults(n,this.defaultYMin,this.defaultYMax),this.yRange=n,this.yStep=void 0!==this.defaultYStep?this.defaultYStep:n.range()/5,o=this.getColumnRange(i,this.colZ),this._setRangeDefaults(o,this.defaultZMin,this.defaultZMax),this.zRange=o,this.zStep=void 0!==this.defaultZStep?this.defaultZStep:o.range()/5,i[0].hasOwnProperty("style")&&(this.colValue="style",n=this.getColumnRange(i,this.colValue),this._setRangeDefaults(n,this.defaultValueMin,this.defaultValueMax),this.valueRange=n),i[0].hasOwnProperty("filter")&&(this.colFilter="filter",void 0===this.dataFilter)&&(this.dataFilter=new h(t,this.colFilter,this),this.dataFilter.setOnLoadCallback(function(){s.redraw()})),this._setScale())}},v.prototype._getDataPoints=function(t){var e,i,o=[];if(this.style===v.STYLE.GRID||this.style===v.STYLE.SURFACE){for(var n=[],s=[],r=0;r<this.getNumberOfRows(t);r++)d=t[r][this.colX]||0,l=t[r][this.colY]||0,-1===n.indexOf(d)&&n.push(d),-1===s.indexOf(l)&&s.push(l);var a=function(t,e){return t-e},h=(n.sort(a),s.sort(a),[]);for(r=0;r<t.length;r++){var d=t[r][this.colX]||0,l=t[r][this.colY]||0,c=t[r][this.colZ]||0,u=n.indexOf(d),p=s.indexOf(l),f=(void 0===h[u]&&(h[u]=[]),new O);f.x=d,f.y=l,f.z=c,f.data=t[r],(e={}).point=f,e.trans=void 0,e.screen=void 0,e.bottom=new O(d,l,this.zRange.min),h[u][p]=e,o.push(e)}for(d=0;d<h.length;d++)for(l=0;l<h[d].length;l++)h[d][l]&&(h[d][l].pointRight=d<h.length-1?h[d+1][l]:void 0,h[d][l].pointTop=l<h[d].length-1?h[d][l+1]:void 0,h[d][l].pointCross=d<h.length-1&&l<h[d].length-1?h[d+1][l+1]:void 0)}else for(this._checkValueField(t),r=0;r<t.length;r++)(i=new O).x=t[r][this.colX]||0,i.y=t[r][this.colY]||0,i.z=t[r][this.colZ]||0,i.data=t[r],void 0!==this.colValue&&(i.value=t[r][this.colValue]||0),(e={}).point=i,e.bottom=new O(i.x,i.y,this.zRange.min),e.trans=void 0,e.screen=void 0,this.style===v.STYLE.LINE&&0<r&&(o[r-1].pointNext=e),o.push(e);return o},v.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var t=document.createElement("DIV"),e=(t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter),this);n.addEventListener(this.frame.canvas,"keydown",onkeydown),n.addEventListener(this.frame.canvas,"mousedown",function(t){e._onMouseDown(t)}),n.addEventListener(this.frame.canvas,"touchstart",function(t){e._onTouchStart(t)}),n.addEventListener(this.frame.canvas,"mousewheel",function(t){e._onWheel(t)}),n.addEventListener(this.frame.canvas,"mousemove",function(t){e._onTooltip(t)}),this.containerElement.appendChild(this.frame)},v.prototype.setSize=function(t,e){this.frame.style.width=t,this.frame.style.height=e,this._resizeCanvas()},v.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},v.prototype.animationStart=function(){if(!this.frame.filter||!this.frame.filter.slider)throw new Error("No animation available");this.frame.filter.slider.play()},v.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},v.prototype._resizeCenter=function(){"%"===this.xCenter.charAt(this.xCenter.length-1)?this.currentXCenter=parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth:this.currentXCenter=parseFloat(this.xCenter),"%"===this.yCenter.charAt(this.yCenter.length-1)?this.currentYCenter=parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.currentYCenter=parseFloat(this.yCenter)},v.prototype.getCameraPosition=function(){var t=this.camera.getArmRotation();return t.distance=this.camera.getArmLength(),t},v.prototype._readData=function(t){this._dataInitialize(t,this.style),this.dataFilter?this.dataPoints=this.dataFilter._getDataPoints():this.dataPoints=this._getDataPoints(this.dataTable),this._redrawFilter()},v.prototype.setData=function(t){this._readData(t),this.redraw(),this.animationAutoStart&&this.dataFilter&&this.animationStart()},v.prototype.setOptions=function(t){this.animationStop(),l.setOptions(t,this),this.setPointDrawingMethod(),this.setSize(this.width,this.height),this.dataTable&&this.setData(this.dataTable),this.animationAutoStart&&this.dataFilter&&this.animationStart()},v.prototype.setPointDrawingMethod=function(){var t=void 0;switch(this.style){case v.STYLE.BAR:t=v.prototype._redrawBarGraphPoint;break;case v.STYLE.BARCOLOR:t=v.prototype._redrawBarColorGraphPoint;break;case v.STYLE.BARSIZE:t=v.prototype._redrawBarSizeGraphPoint;break;case v.STYLE.DOT:t=v.prototype._redrawDotGraphPoint;break;case v.STYLE.DOTLINE:t=v.prototype._redrawDotLineGraphPoint;break;case v.STYLE.DOTCOLOR:t=v.prototype._redrawDotColorGraphPoint;break;case v.STYLE.DOTSIZE:t=v.prototype._redrawDotSizeGraphPoint;break;case v.STYLE.SURFACE:t=v.prototype._redrawSurfaceGraphPoint;break;case v.STYLE.GRID:t=v.prototype._redrawGridGraphPoint;break;case v.STYLE.LINE:t=v.prototype._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=t},v.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this._redrawDataGraph(),this._redrawInfo(),this._redrawLegend()},v.prototype._getContext=function(){var t=this.frame.canvas.getContext("2d");return t.lineJoin="round",t.lineCap="round",t},v.prototype._redrawClear=function(){var t=this.frame.canvas;t.getContext("2d").clearRect(0,0,t.width,t.height)},v.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio},v.prototype._getLegendWidth=function(){var t;return this.style===v.STYLE.DOTSIZE?(t=this._dotSize())/2+2*t:this.style===v.STYLE.BARSIZE?this.xBarWidth:20},v.prototype._redrawLegend=function(){if(!0===this.showLegend&&this.style!==v.STYLE.LINE&&this.style!==v.STYLE.BARSIZE){var t,e=this.style===v.STYLE.BARSIZE||this.style===v.STYLE.DOTSIZE,i=this.style===v.STYLE.DOTSIZE||this.style===v.STYLE.DOTCOLOR||this.style===v.STYLE.BARCOLOR,o=Math.max(.25*this.frame.clientHeight,100),n=this.margin,s=this._getLegendWidth(),r=this.frame.clientWidth-this.margin,a=r-s,h=n+o,d=this._getContext();if(d.lineWidth=1,!(d.font="14px arial")==e){var l=o;for(u=0;u<l;u++){var c=this._hsv2rgb(240*(+u/+l),1,1);d.strokeStyle=c,d.beginPath(),d.moveTo(a,n+u),d.lineTo(r,n+u),d.stroke()}d.strokeStyle=this.axisColor,d.strokeRect(a,n,s,o)}else this.style===v.STYLE.DOTSIZE?t=this._dotSize()/2:(this.style,v.STYLE.BARSIZE),d.strokeStyle=this.axisColor,d.fillStyle=this.dataColor.fill,d.beginPath(),d.moveTo(a,n),d.lineTo(r,n),d.lineTo(r-s+t,h),d.lineTo(a,h),d.closePath(),d.fill(),d.stroke();var u,p,f,m=(i?this.valueRange:this.zRange).min,g=(i?this.valueRange:this.zRange).max,y=new S(m,g,(g-m)/5,!0);for(y.start(!0);!y.end();)u=h-(y.getCurrent()-m)/(g-m)*o,p=new D(a-5,u),f=new D(a,u),this._line(d,p,f),d.textAlign="right",d.textBaseline="middle",d.fillStyle=this.axisColor,d.fillText(y.getCurrent(),a-10,u),y.next();d.textAlign="right",d.textBaseline="top";e=this.legendLabel;d.fillText(e,r,h+this.margin)}},v.prototype._redrawFilter=function(){var t,e,i;this.frame.filter.innerHTML="",this.dataFilter?(t={visible:this.showAnimationControls},e=new s(this.frame.filter,t),this.frame.filter.slider=e,this.frame.filter.style.padding="10px",e.setValues(this.dataFilter.values),e.setPlayInterval(this.animationInterval),i=this,e.setOnChangeCallback(function(){var t=e.getIndex();i.dataFilter.selectValue(t),i.dataPoints=i.dataFilter._getDataPoints(),i.redraw()})):this.frame.filter.slider=void 0},v.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},v.prototype._redrawInfo=function(){var t,e,i;this.dataFilter&&((t=this._getContext()).font="14px arial",t.lineStyle="gray",t.fillStyle="gray",t.textAlign="left",t.textBaseline="top",e=this.margin,i=this.margin,t.fillText(this.dataFilter.getLabel()+": "+this.dataFilter.getSelectedValue(),e,i))},v.prototype._line=function(t,e,i,o){void 0!==o&&(t.strokeStyle=o),t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.stroke()},v.prototype.drawAxisLabelX=function(t,e,i,o,n){void 0===n&&(n=0);e=this._convert3Dto2D(e);0<Math.cos(2*o)?(t.textAlign="center",t.textBaseline="top",e.y+=n):(Math.sin(2*o)<0?t.textAlign="right":t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(i,e.x,e.y)},v.prototype.drawAxisLabelY=function(t,e,i,o,n){void 0===n&&(n=0);e=this._convert3Dto2D(e);Math.cos(2*o)<0?(t.textAlign="center",t.textBaseline="top",e.y+=n):(0<Math.sin(2*o)?t.textAlign="right":t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(i,e.x,e.y)},v.prototype.drawAxisLabelZ=function(t,e,i,o){void 0===o&&(o=0);e=this._convert3Dto2D(e);t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(i,e.x-o,e.y)},v.prototype._line3d=function(t,e,i,o){e=this._convert3Dto2D(e),i=this._convert3Dto2D(i);this._line(t,e,i,o)},v.prototype._redrawAxis=function(){var t,e,i,o,n,s=this._getContext(),r=(s.font=24/this.camera.getArmLength()+"px arial",.025/this.scale.x),a=.025/this.scale.y,h=5/this.camera.getArmLength(),d=this.camera.getArmRotation().horizontal,l=new D(Math.cos(d),Math.sin(d)),c=this.xRange,u=this.yRange,p=this.zRange;for(s.lineWidth=1,x=void 0===this.defaultXStep,(e=new S(c.min,c.max,this.xStep,x)).start(!0);!e.end();){var f=e.getCurrent(),m=(this.showGrid?(t=new O(f,u.min,p.min),w=new O(f,u.max,p.min),this._line3d(s,t,w,this.gridColor)):(t=new O(f,u.min,p.min),w=new O(f,u.min+r,p.min),this._line3d(s,t,w,this.axisColor),t=new O(f,u.max,p.min),w=new O(f,u.max-r,p.min),this._line3d(s,t,w,this.axisColor)),n=0<l.x?u.min:u.max,new O(f,n,p.min)),g="  "+this.xValueLabel(f)+"  ";this.drawAxisLabelX(s,m,g,d,h),e.next()}for(s.lineWidth=1,x=void 0===this.defaultYStep,(e=new S(u.min,u.max,this.yStep,x)).start(!0);!e.end();){var y=e.getCurrent(),g=(this.showGrid?(t=new O(c.min,y,p.min),w=new O(c.max,y,p.min),this._line3d(s,t,w,this.gridColor)):(t=new O(c.min,y,p.min),w=new O(c.min+a,y,p.min),this._line3d(s,t,w,this.axisColor),t=new O(c.max,y,p.min),w=new O(c.max-a,y,p.min),this._line3d(s,t,w,this.axisColor)),o=0<l.y?c.min:c.max,m=new O(o,y,p.min),"  "+this.yValueLabel(y)+"  ");this.drawAxisLabelY(s,m,g,d,h),e.next()}for(s.lineWidth=1,x=void 0===this.defaultZStep,(e=new S(p.min,p.max,this.zStep,x)).start(!0),o=0<l.x?c.min:c.max,n=l.y<0?u.min:u.max;!e.end();){var v=e.getCurrent(),b=new O(o,n,v),_=this._convert3Dto2D(b),w=new D(_.x-h,_.y),g=(this._line(s,_,w,this.axisColor),this.zValueLabel(v)+" ");this.drawAxisLabelZ(s,b,g,5),e.next()}s.lineWidth=1,t=new O(o,n,p.min),w=new O(o,n,p.max),this._line3d(s,t,w,this.axisColor),s.lineWidth=1,x=new O(c.min,u.min,p.min),k=new O(c.max,u.min,p.min),this._line3d(s,x,k,this.axisColor),x=new O(c.min,u.max,p.min),k=new O(c.max,u.max,p.min),this._line3d(s,x,k,this.axisColor),s.lineWidth=1,t=new O(c.min,u.min,p.min),w=new O(c.min,u.max,p.min),this._line3d(s,t,w,this.axisColor),t=new O(c.max,u.min,p.min),w=new O(c.max,u.max,p.min),this._line3d(s,t,w,this.axisColor);var x=this.xLabel,k=(0<x.length&&(k=.1/this.scale.y,o=c.center()/2,n=0<l.x?u.min-k:u.max+k,i=new O(o,n,p.min),this.drawAxisLabelX(s,i,x,d)),this.yLabel),x=(0<k.length&&(x=.1/this.scale.x,o=0<l.y?c.min-x:c.max+x,n=u.center()/2,i=new O(o,n,p.min),this.drawAxisLabelY(s,i,k,d)),this.zLabel);0<x.length&&(o=0<l.x?c.min:c.max,n=l.y<0?u.min:u.max,k=p.center()/2,i=new O(o,n,k),this.drawAxisLabelZ(s,i,x,30))},v.prototype._hsv2rgb=function(t,e,i){var o,n,s,r=i*e,i=Math.floor(t/60),a=r*(1-Math.abs(t/60%2-1));switch(i){case 0:o=r,n=a,s=0;break;case 1:o=a,n=r,s=0;break;case 2:o=0,n=r,s=a;break;case 3:o=0,n=a,s=r;break;case 4:o=a,n=0,s=r;break;case 5:o=r,n=0,s=a;break;default:s=n=o=0}return"RGB("+parseInt(255*o)+","+parseInt(255*n)+","+parseInt(255*s)+")"},v.prototype._getStrokeWidth=function(t){return void 0!==t?this.showPerspective?1/-t.trans.z*this.dataColor.strokeWidth:-(this.eye.z/this.camera.getArmLength())*this.dataColor.strokeWidth:this.dataColor.strokeWidth},v.prototype._redrawBar=function(t,e,i,o,n,s){var r,a=this,h=e.point,d=this.zRange.min,l=[{point:new O(h.x-i,h.y-o,h.z)},{point:new O(h.x+i,h.y-o,h.z)},{point:new O(h.x+i,h.y+o,h.z)},{point:new O(h.x-i,h.y+o,h.z)}],i=[{point:new O(h.x-i,h.y-o,d)},{point:new O(h.x+i,h.y-o,d)},{point:new O(h.x+i,h.y+o,d)},{point:new O(h.x-i,h.y+o,d)}],c=(l.forEach(function(t){t.screen=a._convert3Dto2D(t.point)}),i.forEach(function(t){t.screen=a._convert3Dto2D(t.point)}),[{corners:l,center:O.avg(i[0].point,i[2].point)},{corners:[l[0],l[1],i[1],i[0]],center:O.avg(i[1].point,i[0].point)},{corners:[l[1],l[2],i[2],i[1]],center:O.avg(i[2].point,i[1].point)},{corners:[l[2],l[3],i[3],i[2]],center:O.avg(i[3].point,i[2].point)},{corners:[l[3],l[0],i[0],i[3]],center:O.avg(i[0].point,i[3].point)}]);for(e.surfaces=c,r=0;r<c.length;r++){var u=c[r],p=this._convertPointToTranslation(u.center);u.dist=this.showPerspective?p.length():-p.z}for(c.sort(function(t,e){var i=e.dist-t.dist;return i||(t.corners===l?1:e.corners===l?-1:0)}),t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=s,t.fillStyle=n,r=2;r<c.length;r++)u=c[r],this._polygon(t,u.corners)},v.prototype._polygon=function(t,e,i,o){if(!(e.length<2)){void 0!==i&&(t.fillStyle=i),void 0!==o&&(t.strokeStyle=o),t.beginPath(),t.moveTo(e[0].screen.x,e[0].screen.y);for(var n=1;n<e.length;++n){var s=e[n];t.lineTo(s.screen.x,s.screen.y)}t.closePath(),t.fill(),t.stroke()}},v.prototype._drawCircle=function(t,e,i,o,n){n=this._calcRadius(e,n);t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=o,t.fillStyle=i,t.beginPath(),t.arc(e.screen.x,e.screen.y,n,0,2*Math.PI,!0),t.fill(),t.stroke()},v.prototype._getColorsRegular=function(t){t=240*(1-(t.point.z-this.zRange.min)*this.scale.z/this.verticalRatio);return{fill:this._hsv2rgb(t,1,1),border:this._hsv2rgb(t,1,.8)}},v.prototype._getColorsColor=function(t){t=240*(1-(t.point.value-this.valueRange.min)*this.scale.value);return{fill:this._hsv2rgb(t,1,1),border:this._hsv2rgb(t,1,.8)}},v.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}},v.prototype._calcRadius=function(t,e){return void 0===e&&(e=this._dotSize()),t=(t=this.showPerspective?e/-t.trans.z:e*-(this.eye.z/this.camera.getArmLength()))<0?0:t},v.prototype._redrawBarGraphPoint=function(t,e){var i=this.xBarWidth/2,o=this.yBarWidth/2,n=this._getColorsRegular(e);this._redrawBar(t,e,i,o,n.fill,n.border)},v.prototype._redrawBarColorGraphPoint=function(t,e){var i=this.xBarWidth/2,o=this.yBarWidth/2,n=this._getColorsColor(e);this._redrawBar(t,e,i,o,n.fill,n.border)},v.prototype._redrawBarSizeGraphPoint=function(t,e){var i=(e.point.value-this.valueRange.min)/this.valueRange.range(),o=this.xBarWidth/2*(.8*i+.2),i=this.yBarWidth/2*(.8*i+.2),n=this._getColorsSize();this._redrawBar(t,e,o,i,n.fill,n.border)},v.prototype._redrawDotGraphPoint=function(t,e){var i=this._getColorsRegular(e);this._drawCircle(t,e,i.fill,i.border)},v.prototype._redrawDotLineGraphPoint=function(t,e){var i=this._convert3Dto2D(e.bottom);t.lineWidth=1,this._line(t,i,e.screen,this.gridColor),this._redrawDotGraphPoint(t,e)},v.prototype._redrawDotColorGraphPoint=function(t,e){var i=this._getColorsColor(e);this._drawCircle(t,e,i.fill,i.border)},v.prototype._redrawDotSizeGraphPoint=function(t,e){var i=this._dotSize(),i=i/2+2*i*((e.point.value-this.valueRange.min)/this.valueRange.range()),o=this._getColorsSize();this._drawCircle(t,e,o.fill,o.border,i)},v.prototype._redrawSurfaceGraphPoint=function(t,e){var i,o,n,s,r,a=e.pointRight,h=e.pointTop,d=e.pointCross;void 0!==e&&void 0!==a&&void 0!==h&&void 0!==d&&(n=!0,(this.showGrayBottom||this.showShadow)&&(r=O.subtract(d.trans,e.trans),o=O.subtract(h.trans,a.trans),o=(r=O.crossProduct(r,o)).length(),n=0<r.z),r=n?(n=240*(1-((e.point.z+a.point.z+h.point.z+d.point.z)/4-this.zRange.min)*this.scale.z/this.verticalRatio),this.showShadow?(s=Math.min(1+r.x/o/2,1),i=this._hsv2rgb(n,1,s)):(i=this._hsv2rgb(n,s=1,s),this.axisColor)):(i="gray",this.axisColor),t.lineWidth=this._getStrokeWidth(e),this._polygon(t,[e,a,d,h],i,r))},v.prototype._drawGridLine=function(t,e,i){var o;void 0!==e&&void 0!==i&&(o=240*(1-((e.point.z+i.point.z)/2-this.zRange.min)*this.scale.z/this.verticalRatio),t.lineWidth=2*this._getStrokeWidth(e),t.strokeStyle=this._hsv2rgb(o,1,1),this._line(t,e.screen,i.screen))},v.prototype._redrawGridGraphPoint=function(t,e){this._drawGridLine(t,e,e.pointRight),this._drawGridLine(t,e,e.pointTop)},v.prototype._redrawLineGraphPoint=function(t,e){void 0!==e.pointNext&&(t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=this.dataColor.stroke,this._line(t,e.screen,e.pointNext.screen))},v.prototype._redrawDataGraph=function(){var t,e=this._getContext();if(!(void 0===this.dataPoints||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),t=0;t<this.dataPoints.length;t++){var i=this.dataPoints[t];this._pointDrawingMethod.call(this,e,i)}},v.prototype._onMouseDown=function(t){var e;t=t||window.event,this.leftButtonDown&&this._onMouseUp(t),this.leftButtonDown=t.which?1===t.which:1===t.button,(this.leftButtonDown||this.touchDown)&&(this.startMouseX=u(t),this.startMouseY=p(t),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move",(e=this).onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},n.addEventListener(document,"mousemove",e.onmousemove),n.addEventListener(document,"mouseup",e.onmouseup),n.preventDefault(t))},v.prototype._onMouseMove=function(t){t=t||window.event;var e=parseFloat(u(t))-this.startMouseX,i=parseFloat(p(t))-this.startMouseY,e=this.startArmRotation.horizontal+e/200,i=this.startArmRotation.vertical+i/200,o=Math.sin(4/360*2*Math.PI),o=(Math.abs(Math.sin(e))<o&&(e=Math.round(e/Math.PI)*Math.PI-.001),Math.abs(Math.cos(e))<o&&(e=(Math.round(e/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(i))<o&&(i=Math.round(i/Math.PI)*Math.PI),Math.abs(Math.cos(i))<o&&(i=(Math.round(i/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(e,i),this.redraw(),this.getCameraPosition());this.emit("cameraPositionChange",o),n.preventDefault(t)},v.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",this.leftButtonDown=!1,n.removeEventListener(document,"mousemove",this.onmousemove),n.removeEventListener(document,"mouseup",this.onmouseup),n.preventDefault(t)},v.prototype._onTooltip=function(t){var e,i=this.frame.getBoundingClientRect(),o=u(t)-i.left,n=p(t)-i.top;this.showTooltip&&(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown?this._hideTooltip():this.tooltip&&this.tooltip.dataPoint?(t=this._dataPointFromXY(o,n))!==this.tooltip.dataPoint&&(t?this._showTooltip(t):this._hideTooltip()):(e=this).tooltipTimeout=setTimeout(function(){e.tooltipTimeout=null;var t=e._dataPointFromXY(o,n);t&&e._showTooltip(t)},300))},v.prototype._onTouchStart=function(t){this.touchDown=!0;var e=this;this.ontouchmove=function(t){e._onTouchMove(t)},this.ontouchend=function(t){e._onTouchEnd(t)},n.addEventListener(document,"touchmove",e.ontouchmove),n.addEventListener(document,"touchend",e.ontouchend),this._onMouseDown(t)},v.prototype._onTouchMove=function(t){this._onMouseMove(t)},v.prototype._onTouchEnd=function(t){this.touchDown=!1,n.removeEventListener(document,"touchmove",this.ontouchmove),n.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(t)},v.prototype._onWheel=function(t){var e=0,i=((t=t||window.event).wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e&&(i=this.camera.getArmLength(),this.camera.setArmLength(i*(1-e/10)),this.redraw(),this._hideTooltip()),this.getCameraPosition());this.emit("cameraPositionChange",i),n.preventDefault(t)},v.prototype._insideTriangle=function(t,e){var i=e[0],o=e[1],e=e[2];function n(t){return 0<t?1:t<0?-1:0}var s=n((o.x-i.x)*(t.y-i.y)-(o.y-i.y)*(t.x-i.x)),o=n((e.x-o.x)*(t.y-o.y)-(e.y-o.y)*(t.x-o.x)),i=n((i.x-e.x)*(t.y-e.y)-(i.y-e.y)*(t.x-e.x));return!(0!=s&&0!=o&&s!=o||0!=o&&0!=i&&o!=i||0!=s&&0!=i&&s!=i)},v.prototype._dataPointFromXY=function(t,e){var i,o=null,n=null,s=null,r=new D(t,e);if(this.style===v.STYLE.BAR||this.style===v.STYLE.BARCOLOR||this.style===v.STYLE.BARSIZE)for(i=this.dataPoints.length-1;0<=i;i--){var a=(o=this.dataPoints[i]).surfaces;if(a)for(var h=a.length-1;0<=h;h--){var d=a[h].corners,l=[d[0].screen,d[1].screen,d[2].screen],d=[d[2].screen,d[3].screen,d[0].screen];if(this._insideTriangle(r,l)||this._insideTriangle(r,d))return o}}else for(i=0;i<this.dataPoints.length;i++){var c,u=(o=this.dataPoints[i]).screen;u&&(c=Math.abs(t-u.x),u=Math.abs(e-u.y),c=Math.sqrt(c*c+u*u),null===s||c<s)&&c<100&&(s=c,n=o)}return n},v.prototype._showTooltip=function(t){this.tooltip?(e=this.tooltip.dom.content,i=this.tooltip.dom.line,o=this.tooltip.dom.dot):((e=document.createElement("div")).style.position="absolute",e.style.padding="10px",e.style.border="1px solid #4d4d4d",e.style.color="#1a1a1a",e.style.background="rgba(255,255,255,0.7)",e.style.borderRadius="2px",e.style.boxShadow="5px 5px 10px rgba(128,128,128,0.5)",(i=document.createElement("div")).style.position="absolute",i.style.height="40px",i.style.width="0",i.style.borderLeft="1px solid #4d4d4d",(o=document.createElement("div")).style.position="absolute",o.style.height="0",o.style.width="0",o.style.border="5px solid #4d4d4d",o.style.borderRadius="5px",this.tooltip={dataPoint:null,dom:{content:e,line:i,dot:o}}),this._hideTooltip(),this.tooltip.dataPoint=t,"function"==typeof this.showTooltip?e.innerHTML=this.showTooltip(t.point):e.innerHTML="<table><tr><td>"+this.xLabel+":</td><td>"+t.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+t.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+t.point.z+"</td></tr></table>",e.style.left="0",e.style.top="0",this.frame.appendChild(e),this.frame.appendChild(i),this.frame.appendChild(o);var e,i,o,n=e.offsetWidth,s=e.offsetHeight,r=i.offsetHeight,a=o.offsetWidth,h=o.offsetHeight,d=t.screen.x-n/2,d=Math.min(Math.max(d,10),this.frame.clientWidth-10-n);i.style.left=t.screen.x+"px",i.style.top=t.screen.y-r+"px",e.style.left=d+"px",e.style.top=t.screen.y-r-s+"px",o.style.left=t.screen.x-a/2+"px",o.style.top=t.screen.y-h/2+"px"},v.prototype._hideTooltip=function(){if(this.tooltip)for(var t in this.tooltip.dataPoint=null,this.tooltip.dom)this.tooltip.dom.hasOwnProperty(t)&&(t=this.tooltip.dom[t])&&t.parentNode&&t.parentNode.removeChild(t)},v.prototype.setCameraPosition=function(t){l.setCameraPosition(t,this),this.redraw()},t.exports=v},function(t,e){function o(t){if(t){var e,i=t;for(e in o.prototype)i[e]=o.prototype[e];return i}}(t.exports=o).prototype.on=o.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},o.prototype.once=function(t,e){var i=this;function o(){i.off(t,o),e.apply(this,arguments)}return this._callbacks=this._callbacks||{},o.fn=e,this.on(t,o),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)this._callbacks={};else{var i=this._callbacks[t];if(i)if(1==arguments.length)delete this._callbacks[t];else for(var o,n=0;n<i.length;n++)if((o=i[n])===e||o.fn===e){i.splice(n,1);break}}return this},o.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i)for(var o=0,n=(i=i.slice(0)).length;o<n;++o)i[o].apply(this,e);return this},o.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},o.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){function o(t,e,i){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.z=void 0!==i?i:0}o.subtract=function(t,e){var i=new o;return i.x=t.x-e.x,i.y=t.y-e.y,i.z=t.z-e.z,i},o.add=function(t,e){var i=new o;return i.x=t.x+e.x,i.y=t.y+e.y,i.z=t.z+e.z,i},o.avg=function(t,e){return new o((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)},o.crossProduct=function(t,e){var i=new o;return i.x=t.y*e.z-t.z*e.y,i.y=t.z*e.x-t.x*e.z,i.z=t.x*e.y-t.y*e.x,i},o.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.exports=o},function(t,e){t.exports=function(t,e){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0}},function(t,e,i){var o=i(14);function n(){this.armLocation=new o,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraLocation=new o,this.cameraRotation=new o(.5*Math.PI,0,0),this.calculateCameraOrientation()}n.prototype.setArmLocation=function(t,e,i){this.armLocation.x=t,this.armLocation.y=e,this.armLocation.z=i,this.calculateCameraOrientation()},n.prototype.setArmRotation=function(t,e){void 0!==t&&(this.armRotation.horizontal=t),void 0!==e&&(this.armRotation.vertical=e,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI)&&(this.armRotation.vertical=.5*Math.PI),void 0===t&&void 0===e||this.calculateCameraOrientation()},n.prototype.getArmRotation=function(){var t={};return t.horizontal=this.armRotation.horizontal,t.vertical=this.armRotation.vertical,t},n.prototype.setArmLength=function(t){void 0!==t&&(this.armLength=t,this.armLength<.71&&(this.armLength=.71),5<this.armLength&&(this.armLength=5),this.calculateCameraOrientation())},n.prototype.getArmLength=function(){return this.armLength},n.prototype.getCameraLocation=function(){return this.cameraLocation},n.prototype.getCameraRotation=function(){return this.cameraRotation},n.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal},t.exports=n},function(t,e,i){var n=i(11);function o(t,e,i){this.data=t,this.column=e,this.graph=i,this.index=void 0,this.value=void 0,this.values=i.getDistinctValues(t.get(),this.column),this.values.sort(function(t,e){return e<t?1:t<e?-1:0}),0<this.values.length&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,i.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}o.prototype.isLoaded=function(){return this.loaded},o.prototype.getLoadedProgress=function(){for(var t=this.values.length,e=0;this.dataPoints[e];)e++;return Math.round(e/t*100)},o.prototype.getLabel=function(){return this.graph.filterLabel},o.prototype.getColumn=function(){return this.column},o.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]},o.prototype.getValues=function(){return this.values},o.prototype.getValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");return this.values[t]},o.prototype._getDataPoints=function(t){var e,i,o;return void 0===(t=void 0===t?this.index:t)?[]:(this.dataPoints[t]?o=this.dataPoints[t]:((e={}).column=this.column,e.value=this.values[t],i=new n(this.data,{filter:function(t){return t[e.column]==e.value}}).get(),o=this.graph._getDataPoints(i),this.dataPoints[t]=o),o)},o.prototype.setOnLoadCallback=function(t){this.onLoadCallback=t},o.prototype.selectValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");this.index=t,this.value=this.values[t]},o.prototype.loadInBackground=function(t){void 0===t&&(t=0);var e,i,o=this.graph.frame;t<this.values.length?(this._getDataPoints(t),void 0===o.progress&&(o.progress=document.createElement("DIV"),o.progress.style.position="absolute",o.progress.style.color="gray",o.appendChild(o.progress)),e=this.getLoadedProgress(),o.progress.innerHTML="Loading animation... "+e+"%",o.progress.style.bottom="60px",o.progress.style.left="10px",i=this,setTimeout(function(){i.loadInBackground(t+1)},10),this.loaded=!1):(this.loaded=!0,void 0!==o.progress&&(o.removeChild(o.progress),o.progress=void 0),this.onLoadCallback&&this.onLoadCallback())},t.exports=o},function(t,e,i){var o=i(1);function n(t,e){if(void 0===t)throw new Error("No container element defined");var i;this.container=t,this.visible=!e||null==e.visible||e.visible,this.visible&&(this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide),(i=this).frame.slide.onmousedown=function(t){i._onMouseDown(t)},this.frame.prev.onclick=function(t){i.prev(t)},this.frame.play.onclick=function(t){i.togglePlay(t)},this.frame.next.onclick=function(t){i.next(t)}),this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}n.prototype.prev=function(){var t=this.getIndex();0<t&&this.setIndex(--t)},n.prototype.next=function(){var t=this.getIndex();t<this.values.length-1&&this.setIndex(++t)},n.prototype.playNext=function(){var t=new Date,e=this.getIndex(),e=(e<this.values.length-1?this.setIndex(++e):this.playLoop&&this.setIndex(e=0),new Date),e=Math.max(this.playInterval-(e-t),0),i=this;this.playTimeout=setTimeout(function(){i.playNext()},e)},n.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},n.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},n.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},n.prototype.setOnChangeCallback=function(t){this.onChangeCallback=t},n.prototype.setPlayInterval=function(t){this.playInterval=t},n.prototype.getPlayInterval=function(t){return this.playInterval},n.prototype.setPlayLoop=function(t){this.playLoop=t},n.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},n.prototype.redraw=function(){var t;this.frame&&(this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px",t=this.indexToLeft(this.index),this.frame.slide.style.left=t+"px")},n.prototype.setValues=function(t){this.values=t,0<this.values.length?this.setIndex(0):this.index=void 0},n.prototype.setIndex=function(t){if(!(t<this.values.length))throw new Error("Index out of range");this.index=t,this.redraw(),this.onChange()},n.prototype.getIndex=function(){return this.index},n.prototype.get=function(){return this.values[this.index]},n.prototype._onMouseDown=function(t){var e;(t.which?1===t.which:1===t.button)&&(this.startClientX=t.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move",(e=this).onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},o.addEventListener(document,"mousemove",this.onmousemove),o.addEventListener(document,"mouseup",this.onmouseup),o.preventDefault(t))},n.prototype.leftToIndex=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,t=Math.round((t-3)/e*(this.values.length-1));return t=(t=t<0?0:t)>this.values.length-1?this.values.length-1:t},n.prototype.indexToLeft=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return 3+t/(this.values.length-1)*e},n.prototype._onMouseMove=function(t){t=t.clientX-this.startClientX,t=this.startSlideX+t,t=this.leftToIndex(t);this.setIndex(t),o.preventDefault()},n.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",o.removeEventListener(document,"mousemove",this.onmousemove),o.removeEventListener(document,"mouseup",this.onmouseup),o.preventDefault()},t.exports=n},function(t,e){function i(t,e,i,o){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(t,e,i,o)}i.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},i.prototype.setRange=function(t,e,i,o){if(!this.isNumeric(t))throw new Error("Parameter 'start' is not numeric; value: "+t);if(!this.isNumeric(e))throw new Error("Parameter 'end' is not numeric; value: "+t);if(!this.isNumeric(i))throw new Error("Parameter 'step' is not numeric; value: "+t);this._start=t||0,this._end=e||0,this.setStep(i,o)},i.prototype.setStep=function(t,e){void 0===t||t<=0||(void 0!==e&&(this.prettyStep=e),!0===this.prettyStep?this._step=i.calculatePrettyStep(t):this._step=t)},i.calculatePrettyStep=function(t){function e(t){return Math.log(t)/Math.LN10}var i=Math.pow(10,Math.round(e(t))),o=2*Math.pow(10,Math.round(e(t/2))),n=5*Math.pow(10,Math.round(e(t/5)));return Math.abs(o-t)<=Math.abs(i-t)&&(i=o),i=(i=Math.abs(n-t)<=Math.abs(i-t)?n:i)<=0?1:i},i.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},i.prototype.getStep=function(){return this._step},i.prototype.start=function(t){void 0===t&&(t=!1),this._current=this._start-this._start%this._step,t&&this.getCurrent()<this._start&&this.next()},i.prototype.next=function(){this._current+=this._step},i.prototype.end=function(){return this._current>this._end},t.exports=i},function(t,e){function i(){this.min=void 0,this.max=void 0}i.prototype.adjust=function(t){void 0!==t&&((void 0===this.min||this.min>t)&&(this.min=t),void 0===this.max||this.max<t)&&(this.max=t)},i.prototype.combine=function(t){this.add(t.min),this.add(t.max)},i.prototype.expand=function(t){if(void 0!==t){var e=this.min-t,t=this.max+t;if(t<e)throw new Error("Passed expansion value makes range invalid");this.min=e,this.max=t}},i.prototype.range=function(){return this.max-this.min},i.prototype.center=function(){return(this.min+this.max)/2},t.exports=i},function(t,e,i){var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=i(16),n=i(14),l={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},c={dot:l.DOT,"dot-line":l.DOTLINE,"dot-color":l.DOTCOLOR,"dot-size":l.DOTSIZE,line:l.LINE,grid:l.GRID,surface:l.SURFACE,bar:l.BAR,"bar-color":l.BARCOLOR,"bar-size":l.BARSIZE},s=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showGrid","showPerspective","showShadow","keepAspectRatio","verticalRatio","dotSizeRatio","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","gridColor","xCenter","yCenter"],r=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"],u=void 0;function a(t){for(var e in t)if(t.hasOwnProperty(e))return;return 1}function h(t,e){return void 0===t||""===t?e:t+(void 0===(t=e)||""===t?t:t.charAt(0).toUpperCase()+t.slice(1))}function p(t,e,i,o){var n,s;for(s in i)e[h(o,n=i[s])]=t[n]}function f(t,e,i,o){var n,s;for(s in i)void 0!==t[n=i[s]]&&(e[h(o,n)]=t[n])}function m(t,e){if(void 0!==t.backgroundColor){var i=t.backgroundColor,o=e,n="white",s="gray",r=1;if("string"==typeof i)n=i,s="none",r=0;else{if("object"!==(void 0===i?"undefined":d(i)))throw new Error("Unsupported type of backgroundColor");void 0!==i.fill&&(n=i.fill),void 0!==i.stroke&&(s=i.stroke),void 0!==i.strokeWidth&&(r=i.strokeWidth)}o.frame.style.backgroundColor=n,o.frame.style.borderColor=s,o.frame.style.borderWidth=r+"px",o.frame.style.borderStyle="solid"}i=t.dataColor,n=e,void 0!==i&&(void 0===n.dataColor&&(n.dataColor={}),"string"==typeof i?(n.dataColor.fill=i,n.dataColor.stroke=i):(i.fill&&(n.dataColor.fill=i.fill),i.stroke&&(n.dataColor.stroke=i.stroke),void 0!==i.strokeWidth&&(n.dataColor.strokeWidth=i.strokeWidth)));var a,s=t.style,r=e;if(void 0!==s){if("string"==typeof s){if(-1===(h=function(t){t=c[t];return void 0!==t?t:-1}(s)))throw new Error("Style '"+s+"' is invalid")}else{if(!function(t){var e,i=!1;for(e in l)if(l[e]===t){i=!0;break}return i}(s))throw new Error("Style '"+s+"' is invalid");h=s}r.style=h}var o=t.showLegend,h=e;void 0===o?void 0===u.showLegend&&(a=h.style===l.DOTCOLOR||h.style===l.DOTSIZE,h.showLegend=a):h.showLegend=o,g(t.cameraPosition,e),void 0!==t.tooltip&&(e.showTooltip=t.tooltip)}function g(t,e){void 0!==t&&(void 0===e.camera&&(e.camera=new o),e.camera.setArmRotation(t.horizontal,t.vertical),e.camera.setArmLength(t.distance))}t.exports.STYLE=l,t.exports.setDefaults=function(t,e){if(void 0===t||a(t))throw new Error("No DEFAULTS passed");if(void 0===e)throw new Error("No dst passed");p(u=t,e,s),p(t,e,r,"default"),m(t,e),e.margin=10,e.showGrayBottom=!1,e.showTooltip=!1,e.eye=new n(0,0,-1)},t.exports.setOptions=function(t,e){if(void 0!==t){if(void 0===e)throw new Error("No dst passed");if(void 0===u||a(u))throw new Error("DEFAULTS not set for module Settings");f(t,e,s),f(t,e,r,"default"),m(t,e)}},t.exports.setCameraPosition=g},function(t,e,i){var o;"undefined"!=typeof window?(o=i(23),i=window.Hammer||i(24),t.exports=o(i,{preventDefault:"mouse"})):t.exports=function(){throw Error("hammer.js is only available in a browser, not in node.js.")}},function(t,e,i){var o;void 0!==(e="function"==typeof(o=function(){var d=null;return function o(n,t){var s,r,a=t||{preventDefault:!1};return n.Manager?((s=n).assign(t=function(t,e){var i=Object.create(a);return e&&s.assign(i,e),o(new s(t,i),i)},s),t.Manager=function(t,e){var i=Object.create(a);return e&&s.assign(i,e),o(new s.Manager(t,i),i)},t):(r=Object.create(n),(t=n.element).hammer||(t.hammer=[]),t.hammer.push(r),n.on("hammer.input",function(t){!0!==a.preventDefault&&a.preventDefault!==t.pointerType||t.preventDefault(),t.isFirst&&(d=t.target)}),r._handlers={},r.on=function(t,i){return e(t).forEach(function(t){var e=r._handlers[t];e||(r._handlers[t]=e=[],n.on(t,h)),e.push(i)}),r},r.off=function(t,i){return e(t).forEach(function(t){var e=r._handlers[t];e&&(0<(e=i?e.filter(function(t){return t!==i}):[]).length?r._handlers[t]=e:(n.off(t,h),delete r._handlers[t]))}),r},r.emit=function(t,e){d=e.target,n.emit(t,e)},r.destroy=function(){var t=n.element.hammer,e=t.indexOf(r);-1!==e&&t.splice(e,1),t.length||delete n.element.hammer,r._handlers={},n.destroy()},r);function e(t){return t.match(/[^ ]+/g)}function h(t){if("hammer.input"!==t.type){if(t.srcEvent._handled||(t.srcEvent._handled={}),t.srcEvent._handled[t.type])return;t.srcEvent._handled[t.type]=!0}for(var e=!1,i=(t.stopPropagation=function(){e=!0},t.srcEvent.stopPropagation.bind(t.srcEvent)),o=("function"==typeof i&&(t.srcEvent.stopPropagation=function(){i(),t.stopPropagation()}),t.firstTarget=d);o&&!e;){var n=o.hammer;if(n)for(var s,r=0;r<n.length;r++)if(s=n[r]._handlers[t.type])for(var a=0;a<s.length&&!e;a++)s[a](t);o=o.parentNode}}}})?o.apply(e,[]):o)&&(t.exports=e)},function(z,A,B){var n=window,F=document,l=void 0,j=["","webkit","Moz","MS","ms","o"],H=F.createElement("div"),W="function",s=Math.round,c=Math.abs,Y=Date.now;function G(t,e,i){return setTimeout(X(t,i),e)}function i(t,e,i){return Array.isArray(t)&&(r(t,i[e],i),1)}function r(t,e,i){if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==l)for(o=0;o<t.length;)e.call(i,t[o],o,t),o++;else for(var o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function V(i,t,e){var o="DEPRECATED METHOD: "+t+"\n"+e+" AT \n";return function(){var t=new Error("get-stack-trace"),t=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",e=n.console&&(n.console.warn||n.console.log);return e&&e.call(n.console,o,t),i.apply(this,arguments)}}var a="function"!=typeof Object.assign?function(t){if(t===l||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(o!==l&&null!==o)for(var n in o)o.hasOwnProperty(n)&&(e[n]=o[n])}return e}:Object.assign,U=V(function(t,e,i){for(var o=Object.keys(e),n=0;n<o.length;)i&&t[o[n]]!==l||(t[o[n]]=e[o[n]]),n++;return t},"extend","Use `assign`."),q=V(function(t,e){return U(t,e,!0)},"merge","Use `assign`.");function t(t,e,i){var e=e.prototype,o=t.prototype=Object.create(e);o.constructor=t,o._super=e,i&&a(o,i)}function X(t,e){return function(){return t.apply(e,arguments)}}function Z(t,e){return typeof t==W?t.apply(e&&e[0]||l,e):t}function K(t,e){return t===l?e:t}function e(e,t,i){r(d(t),function(t){e.addEventListener(t,i,!1)})}function o(e,t,i){r(d(t),function(t){e.removeEventListener(t,i,!1)})}function J(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function h(t,e){return-1<t.indexOf(e)}function d(t){return t.trim().split(/\s+/g)}function u(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var o=0;o<t.length;){if(i&&t[o][i]==e||!i&&t[o]===e)return o;o++}return-1}function p(t){return Array.prototype.slice.call(t,0)}function Q(t,i,e){for(var o=[],n=[],s=0;s<t.length;){var r=i?t[s][i]:t[s];u(n,r)<0&&o.push(t[s]),n[s]=r,s++}return o=e?i?o.sort(function(t,e){return t[i]>e[i]}):o.sort():o}function f(t,e){for(var i,o=e[0].toUpperCase()+e.slice(1),n=0;n<j.length;){if((i=(i=j[n])?i+o:e)in t)return i;n++}return l}var $=1;function tt(t){t=t.ownerDocument||t;return t.defaultView||t.parentWindow||n}var et="ontouchstart"in n,it=f(n,"PointerEvent")!==l,ot=et&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),m="touch",nt="mouse",st=25,g=1,y=4,v=8,b=1,_=2,w=4,x=8,k=16,O=_|w,D=x|k,rt=O|D,at=["x","y"],S=["clientX","clientY"];function C(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){Z(e.options.enable,[e])&&i.handler(t)},this.init()}function ht(t,e,i){var o=i.pointers.length,n=i.changedPointers.length,s=e&g&&o-n==0,o=e&(y|v)&&o-n==0,n=(i.isFirst=!!s,i.isFinal=!!o,s&&(t.session={}),i.eventType=e,t),o=i,s=n.session,e=o.pointers,r=e.length,r=(s.firstInput||(s.firstInput=dt(o)),1<r&&!s.firstMultiple?s.firstMultiple=dt(o):1===r&&(s.firstMultiple=!1),s.firstInput),a=s.firstMultiple,h=(a||r).center,d=o.center=lt(e),r=(o.timeStamp=Y(),o.deltaTime=o.timeStamp-r.timeStamp,o.angle=pt(h,d),o.distance=E(h,d),function(t,e){var i=e.center,o=t.offsetDelta||{},n=t.prevDelta||{},s=t.prevInput||{};e.eventType!==g&&s.eventType!==y||(n=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},o=t.offsetDelta={x:i.x,y:i.y});e.deltaX=n.x+(i.x-o.x),e.deltaY=n.y+(i.y-o.y)}(s,o),o.offsetDirection=ut(o.deltaX,o.deltaY),ct(o.deltaTime,o.deltaX,o.deltaY)),h=(o.overallVelocityX=r.x,o.overallVelocityY=r.y,o.overallVelocity=c(r.x)>c(r.y)?r.x:r.y,o.scale=a?function(t,e){return E(e[0],e[1],S)/E(t[0],t[1],S)}(a.pointers,e):1,o.rotation=a?function(t,e){return pt(e[1],e[0],S)+pt(t[1],t[0],S)}(a.pointers,e):0,o.maxPointers=!s.prevInput||o.pointers.length>s.prevInput.maxPointers?o.pointers.length:s.prevInput.maxPointers,function(t,e){var i,o,n,s=t.lastInterval||e,r=e.timeStamp-s.timeStamp;{var a,h;e.eventType!=v&&(st<r||s.velocity===l)?(a=e.deltaX-s.deltaX,h=e.deltaY-s.deltaY,r=ct(r,a,h),o=r.x,n=r.y,i=c(r.x)>c(r.y)?r.x:r.y,a=ut(a,h),t.lastInterval=e):(i=s.velocity,o=s.velocityX,n=s.velocityY,a=s.direction)}e.velocity=i,e.velocityX=o,e.velocityY=n,e.direction=a}(s,o),n.element);J(o.srcEvent.target,h)&&(h=o.srcEvent.target),o.target=h,t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function dt(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:s(t.pointers[i].clientX),clientY:s(t.pointers[i].clientY)},i++;return{timeStamp:Y(),pointers:e,center:lt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function lt(t){var e=t.length;if(1===e)return{x:s(t[0].clientX),y:s(t[0].clientY)};for(var i=0,o=0,n=0;n<e;)i+=t[n].clientX,o+=t[n].clientY,n++;return{x:s(i/e),y:s(o/e)}}function ct(t,e,i){return{x:e/t||0,y:i/t||0}}function ut(t,e){return t===e?b:c(t)>=c(e)?t<0?_:w:e<0?x:k}function E(t,e,i){var o=e[(i=i||at)[0]]-t[i[0]],e=e[i[1]]-t[i[1]];return Math.sqrt(o*o+e*e)}function pt(t,e,i){var o=e[(i=i||at)[0]]-t[i[0]],e=e[i[1]]-t[i[1]];return 180*Math.atan2(e,o)/Math.PI}C.prototype={handler:function(){},init:function(){this.evEl&&e(this.element,this.evEl,this.domHandler),this.evTarget&&e(this.target,this.evTarget,this.domHandler),this.evWin&&e(tt(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&o(this.element,this.evEl,this.domHandler),this.evTarget&&o(this.target,this.evTarget,this.domHandler),this.evWin&&o(tt(this.element),this.evWin,this.domHandler)}};var ft={mousedown:g,mousemove:2,mouseup:y};function T(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,C.apply(this,arguments)}t(T,C,{handler:function(t){var e=ft[t.type];e&g&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=y),this.pressed&&(e&y&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:nt,srcEvent:t}))}});var mt={pointerdown:g,pointermove:2,pointerup:y,pointercancel:v,pointerout:v},gt={2:m,3:"pen",4:nt,5:"kinect"},yt="pointerdown",vt="pointermove pointerup pointercancel";function bt(){this.evEl=yt,this.evWin=vt,C.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}n.MSPointerEvent&&!n.PointerEvent&&(yt="MSPointerDown",vt="MSPointerMove MSPointerUp MSPointerCancel"),t(bt,C,{handler:function(t){var e=this.store,i=!1,o=t.type.toLowerCase().replace("ms",""),o=mt[o],n=gt[t.pointerType]||t.pointerType,s=n==m,r=u(e,t.pointerId,"pointerId");o&g&&(0===t.button||s)?r<0&&(e.push(t),r=e.length-1):o&(y|v)&&(i=!0),r<0||(e[r]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:n,srcEvent:t}),i&&e.splice(r,1))}});var _t={touchstart:g,touchmove:2,touchend:y,touchcancel:v};function wt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,C.apply(this,arguments)}t(wt,C,{handler:function(t){var e,i=_t[t.type];i===g&&(this.started=!0),this.started&&(e=function(t,e){var i=p(t.touches),t=p(t.changedTouches);e&(y|v)&&(i=Q(i.concat(t),"identifier",!0));return[i,t]}.call(this,t,i),i&(y|v)&&e[0].length-e[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:e[0],changedPointers:e[1],pointerType:m,srcEvent:t}))}});var xt={touchstart:g,touchmove:2,touchend:y,touchcancel:v};function kt(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},C.apply(this,arguments)}t(kt,C,{handler:function(t){var e=xt[t.type],i=function(t,e){var i=p(t.touches),o=this.targetIds;if(e&(2|g)&&1===i.length)return o[i[0].identifier]=!0,[i,i];var n,s,r=p(t.changedTouches),a=[],h=this.target;if(s=i.filter(function(t){return J(t.target,h)}),e===g)for(n=0;n<s.length;)o[s[n].identifier]=!0,n++;n=0;for(;n<r.length;)o[r[n].identifier]&&a.push(r[n]),e&(y|v)&&delete o[r[n].identifier],n++;if(a.length)return[Q(s.concat(a),"identifier",!0),a]}.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:m,srcEvent:t})}});var Ot=2500;function Dt(){C.apply(this,arguments);var t=X(this.handler,this);this.touch=new kt(this.manager,t),this.mouse=new T(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function St(t){var e,i,t=t.changedPointers[0];t.identifier===this.primaryTouch&&(e={x:t.clientX,y:t.clientY},this.lastTouches.push(e),i=this.lastTouches,setTimeout(function(){var t=i.indexOf(e);-1<t&&i.splice(t,1)},Ot))}t(Dt,C,{handler:function(t,e,i){var o=i.pointerType==m,n=i.pointerType==nt;if(!(n&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(o)!function(t,e){t&g?(this.primaryTouch=e.changedPointers[0].identifier,St.call(this,e)):t&(y|v)&&St.call(this,e)}.call(this,e,i);else if(n&&function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var n=this.lastTouches[o],s=Math.abs(e-n.x),n=Math.abs(i-n.y);if(s<=25&&n<=25)return!0}return!1}.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ct,Et,Tt=f(H.style,"touchAction"),Mt=Tt!==l,Pt="compute",It="manipulation",M="none",P="pan-x",I="pan-y",Nt=Mt&&(Ct={},Et=n.CSS&&n.CSS.supports,["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){Ct[t]=!Et||n.CSS.supports("touch-action",t)}),Ct);function Rt(t,e){this.manager=t,this.set(e)}function N(t){this.options=a({},this.defaults,t||{}),this.id=$++,this.manager=null,this.options.enable=K(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Lt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function zt(t){return t==k?"down":t==x?"up":t==_?"left":t==w?"right":""}function At(t,e){e=e.manager;return e?e.get(t):t}function R(){N.apply(this,arguments)}function Bt(){R.apply(this,arguments),this.pX=null,this.pY=null}function Ft(){R.apply(this,arguments)}function jt(){N.apply(this,arguments),this._timer=null,this._input=null}function Ht(){R.apply(this,arguments)}function Wt(){R.apply(this,arguments)}function Yt(){N.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function L(t,e){return(e=e||{}).recognizers=K(e.recognizers,L.defaults.preset),new Gt(t,e)}function Gt(t,e){this.options=a({},L.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((e=this).options.inputClass||(it?bt:ot?kt:et?Dt:T))(e,ht),this.touchAction=new Rt(this,this.options.touchAction),Vt(this,!0),r(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Vt(i,o){var n,s=i.element;s.style&&(r(i.options.cssProps,function(t,e){n=f(s.style,e),o?(i.oldCssProps[n]=s.style[n],s.style[n]=t):s.style[n]=i.oldCssProps[n]||""}),o||(i.oldCssProps={}))}Rt.prototype={set:function(t){t==Pt&&(t=this.compute()),Mt&&this.manager.element.style&&Nt[t]&&(this.manager.element.style[Tt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t,e,i=[],o=(r(this.manager.recognizers,function(t){Z(t.options.enable,[t])&&(i=i.concat(t.getTouchAction()))}),i.join(" "));return h(o,M)||(t=h(o,P),e=h(o,I),t&&e)?M:t||e?t?P:I:h(o,It)?It:"auto"},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(!this.manager.session.prevented){var o=this.actions,n=h(o,M)&&!Nt[M],s=h(o,I)&&!Nt[I],o=h(o,P)&&!Nt[P];if(n){var r=1===t.pointers.length,a=t.distance<2,t=t.deltaTime<250;if(r&&a&&t)return}return o&&s?void 0:n||s&&i&O||o&&i&D?this.preventSrc(e):void 0}e.preventDefault()},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}},N.prototype={defaults:{},set:function(t){return a(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){var e;return i(t,"recognizeWith",this)||(e=this.simultaneous)[(t=At(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},dropRecognizeWith:function(t){return i(t,"dropRecognizeWith",this)||(t=At(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){var e;return i(t,"requireFailure",this)||-1===u(e=this.requireFail,t=At(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){return i(t,"dropRequireFailure",this)||(t=At(t,this),-1<(t=u(this.requireFail,t))&&this.requireFail.splice(t,1)),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(e){var i=this,t=this.state;function o(t){i.manager.emit(t,e)}t<8&&o(i.options.event+Lt(t)),o(i.options.event),e.additionalEvent&&o(e.additionalEvent),8<=t&&o(i.options.event+Lt(t))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){t=a({},t);Z(this.options.enable,[this,t])?(56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)):(this.reset(),this.state=32)},process:function(t){},getTouchAction:function(){},reset:function(){}},t(R,N,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,o=6&e,t=this.attrTest(t);return o&&(i&v||!t)?16|e:o||t?i&y?8|e:2&e?4|e:2:32}}),t(Bt,R,{defaults:{event:"pan",threshold:10,pointers:1,direction:rt},getTouchAction:function(){var t=this.options.direction,e=[];return t&O&&e.push(I),t&D&&e.push(P),e},directionTest:function(t){var e=this.options,i=!0,o=t.distance,n=t.direction,s=t.deltaX,r=t.deltaY;return n&e.direction||(o=e.direction&O?(n=0===s?b:s<0?_:w,i=s!=this.pX,Math.abs(t.deltaX)):(n=0===r?b:r<0?x:k,i=r!=this.pY,Math.abs(t.deltaY))),t.direction=n,i&&o>e.threshold&&n&e.direction},attrTest:function(t){return R.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=zt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),t(Ft,R,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[M]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){var e;1!==t.scale&&(e=t.scale<1?"in":"out",t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),t(jt,N,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,o=t.distance<e.threshold,n=t.deltaTime>e.time;if(this._input=t,!o||!i||t.eventType&(y|v)&&!n)this.reset();else if(t.eventType&g)this.reset(),this._timer=G(function(){this.state=8,this.tryEmit()},e.time,this);else if(t.eventType&y)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&t.eventType&y?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=Y(),this.manager.emit(this.options.event,this._input)))}}),t(Ht,R,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[M]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),t(Wt,R,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:O|D,pointers:1},getTouchAction:function(){return Bt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(O|D)?e=t.overallVelocity:i&O?e=t.overallVelocityX:i&D&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&c(e)>this.options.velocity&&t.eventType&y},emit:function(t){var e=zt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),t(Yt,N,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[It]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,o=t.distance<e.threshold,n=t.deltaTime<e.time;if(this.reset(),t.eventType&g&&0===this.count)return this.failTimeout();if(o&&n&&i){if(t.eventType!=y)return this.failTimeout();o=!this.pTime||t.timeStamp-this.pTime<e.interval,n=!this.pCenter||E(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,n&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=G(function(){this.state=8,this.tryEmit()},e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=G(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),L.VERSION="2.0.7",L.defaults={domEvents:!1,touchAction:Pt,enable:!0,inputTarget:null,inputClass:null,preset:[[Ht,{enable:!1}],[Ft,{enable:!1},["rotate"]],[Wt,{direction:O}],[Bt,{direction:O},["swipe"]],[Yt],[Yt,{event:"doubletap",taps:2},["tap"]],[jt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Gt.prototype={set:function(t){return a(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);for(var i,o=this.recognizers,n=e.curRecognizer,s=((!n||8&n.state)&&(n=e.curRecognizer=null),0);s<o.length;)i=o[s],2===e.stopped||n&&i!=n&&!i.canRecognizeWith(n)?i.reset():i.recognize(t),!n&&14&i.state&&(n=e.curRecognizer=i),s++}},get:function(t){if(t instanceof N)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){var e;return i(t,"add",this)?this:((e=this.get(t.options.event))&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t)},remove:function(t){var e;return i(t,"remove",this)||(t=this.get(t))&&-1!==(t=u(e=this.recognizers,t))&&(e.splice(t,1),this.touchAction.update()),this},on:function(t,e){var i;if(t!==l&&e!==l)return i=this.handlers,r(d(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i;if(t!==l)return i=this.handlers,r(d(t),function(t){e?i[t]&&i[t].splice(u(i[t],e),1):delete i[t]}),this},emit:function(t,e){this.options.domEvents&&(i=t,o=e,(n=F.createEvent("Event")).initEvent(i,!0,!0),(n.gesture=o).target.dispatchEvent(n));var i,o,n,s=this.handlers[t]&&this.handlers[t].slice();if(s&&s.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<s.length;)s[r](e),r++}},destroy:function(){this.element&&Vt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},a(L,{INPUT_START:g,INPUT_MOVE:2,INPUT_END:y,INPUT_CANCEL:v,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:b,DIRECTION_LEFT:_,DIRECTION_RIGHT:w,DIRECTION_UP:x,DIRECTION_DOWN:k,DIRECTION_HORIZONTAL:O,DIRECTION_VERTICAL:D,DIRECTION_ALL:rt,Manager:Gt,Input:C,TouchAction:Rt,TouchInput:kt,MouseInput:T,PointerEventInput:bt,TouchMouseInput:Dt,SingleTouchInput:wt,Recognizer:N,AttrRecognizer:R,Tap:Yt,Pan:Bt,Swipe:Wt,Pinch:Ft,Rotate:Ht,Press:jt,on:e,off:o,each:r,merge:q,extend:U,assign:a,inherit:t,bindFn:X,prefixed:f}),(void 0!==n?n:"undefined"!=typeof self?self:{}).Hammer=L,(H=function(){return L}.call(A,B,A,z))!==l&&(z.exports=H)},function(t,e,i){var o;void 0!==(e="function"==typeof(o=function(){return function(t){for(var n=t&&t.preventDefault||!1,e=t&&t.container||window,o={},r={keydown:{},keyup:{}},a={},i=97;i<=122;i++)a[String.fromCharCode(i)]={code:i-97+65,shift:!1};for(i=65;i<=90;i++)a[String.fromCharCode(i)]={code:i,shift:!0};for(i=0;i<=9;i++)a[""+i]={code:48+i,shift:!1};for(i=1;i<=12;i++)a["F"+i]={code:111+i,shift:!1};for(i=0;i<=9;i++)a["num"+i]={code:96+i,shift:!1};function s(t){d(t,"keydown")}function h(t){d(t,"keyup")}function d(t,e){if(void 0!==r[e][t.keyCode]){for(var i=r[e][t.keyCode],o=0;o<i.length;o++)(void 0===i[o].shift||1==i[o].shift&&1==t.shiftKey||0==i[o].shift&&0==t.shiftKey)&&i[o].fn(t);1==n&&t.preventDefault()}}return a["num*"]={code:106,shift:!1},a["num+"]={code:107,shift:!1},a["num-"]={code:109,shift:!1},a["num/"]={code:111,shift:!1},a["num."]={code:110,shift:!1},a.left={code:37,shift:!1},a.up={code:38,shift:!1},a.right={code:39,shift:!1},a.down={code:40,shift:!1},a.space={code:32,shift:!1},a.enter={code:13,shift:!1},a.shift={code:16,shift:void 0},a.esc={code:27,shift:!1},a.backspace={code:8,shift:!1},a.tab={code:9,shift:!1},a.ctrl={code:17,shift:!1},a.alt={code:18,shift:!1},a.delete={code:46,shift:!1},a.pageup={code:33,shift:!1},a.pagedown={code:34,shift:!1},a["="]={code:187,shift:!1},a["-"]={code:189,shift:!1},a["]"]={code:221,shift:!1},a["["]={code:219,shift:!1},o.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===a[t])throw new Error("unsupported key: "+t);void 0===r[i][a[t].code]&&(r[i][a[t].code]=[]),r[i][a[t].code].push({fn:e,shift:a[t].shift})},o.bindAll=function(t,e){for(var i in void 0===e&&(e="keydown"),a)a.hasOwnProperty(i)&&o.bind(i,t,e)},o.getKey=function(t){for(var e in a)if(a.hasOwnProperty(e)){if(1==t.shiftKey&&1==a[e].shift&&t.keyCode==a[e].code)return e;if(0==t.shiftKey&&0==a[e].shift&&t.keyCode==a[e].code)return e;if(t.keyCode==a[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},o.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===a[t])throw new Error("unsupported key: "+t);if(void 0!==e){var o=[],n=r[i][a[t].code];if(void 0!==n)for(var s=0;s<n.length;s++)n[s].fn==e&&n[s].shift==a[t].shift||o.push(r[i][a[t].code][s]);r[i][a[t].code]=o}else r[i][a[t].code]=[]},o.reset=function(){r={keydown:{},keyup:{}}},o.destroy=function(){r={keydown:{},keyup:{}},e.removeEventListener("keydown",s,!0),e.removeEventListener("keyup",h,!0)},e.addEventListener("keydown",s,!0),e.addEventListener("keyup",h,!0),o}})?o.apply(e,[]):o)&&(t.exports=e)},function(t,e,i){e.util=i(1),e.DOMutil=i(8),e.DataSet=i(9),e.DataView=i(11),e.Queue=i(10),e.Timeline=i(27),e.Graph2d=i(52),e.timeline={Core:i(35),DateUtil:i(34),Range:i(32),stack:i(39),TimeStep:i(37),components:{items:{Item:i(41),BackgroundItem:i(45),BoxItem:i(43),PointItem:i(44),RangeItem:i(40)},BackgroundGroup:i(42),Component:i(33),CurrentTime:i(50),CustomTime:i(48),DataAxis:i(54),DataScale:i(55),GraphGroup:i(56),Group:i(38),ItemSet:i(36),Legend:i(60),LineGraph:i(53),TimeAxis:i(46)}},e.moment=i(2),e.Hammer=i(22),e.keycharm=i(25)},function(t,e,i){var o=s(i(28)),n=s(i(31));function s(t){return t&&t.__esModule?t:{default:t}}i(13),i(22);var h=i(2),u=i(1),d=i(9),l=i(11),c=i(32),r=i(35),p=i(46),f=i(50),m=i(48),g=i(36),a=(i(31).printStyle,i(51).allOptions),y=i(51).configureOptions;function v(t,e,i,o){if(!(this instanceof v))throw new SyntaxError("Constructor must be called with the new operator");!(Array.isArray(i)||i instanceof d||i instanceof l)&&i instanceof Object&&(n=o,o=i,i=n);var n,s=this;if(this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:h,width:null,height:null,maxHeight:null,minHeight:null},this.options=u.deepExtend({},this.defaultOptions),this._create(t),o&&void 0!==o.rtl)this.options.rtl=o.rtl;else{for(var r,a=this.dom.root;!r&&a;)r=window.getComputedStyle(a,null).direction,a=a.parentElement;this.options.rtl=r&&"rtl"==r.toLowerCase()}this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return s.timeAxis.step.scale},getStep:function(){return s.timeAxis.step.step},toScreen:s._toScreen.bind(s),toGlobalScreen:s._toGlobalScreen.bind(s),toTime:s._toTime.bind(s),toGlobalTime:s._toGlobalTime.bind(s)}},this.range=new c(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new p(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new f(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new g(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.on("tap",function(t){s.emit("click",s.getEventProperties(t))}),this.on("doubletap",function(t){s.emit("doubleClick",s.getEventProperties(t))}),this.dom.root.oncontextmenu=function(t){s.emit("contextmenu",s.getEventProperties(t))},this.fitDone=!1,this.on("changed",function(){var t,e;null==this.itemsData||s.fitDone||(s.fitDone=!0,null!=s.options.start||null!=s.options.end?(null!=s.options.start&&null!=s.options.end||(e=s.getItemRange()),t=null!=s.options.start?s.options.start:e.min,e=null!=s.options.end?s.options.end:e.max,s.setWindow(t,e,{animation:!1})):s.fit({animation:!1}))}),o&&this.setOptions(o),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}(v.prototype=new r)._createConfigurator=function(){return new o.default(this,this.dom.container,y)},v.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},v.prototype.setOptions=function(t){var e;n.default.validate(t,a);r.prototype.setOptions.call(this,t),"type"in t&&t.type!==this.options.type&&(this.options.type=t.type,t=this.itemsData)&&(e=this.getSelection(),this.setItems(null),this.setItems(t),this.setSelection(e))},v.prototype.setItems=function(t){t=t?t instanceof d||t instanceof l?t:new d(t,{type:{start:"Date",end:"Date"}}):null;this.itemsData=t,this.itemSet&&this.itemSet.setItems(t)},v.prototype.setGroups=function(t){t=t?t instanceof d||t instanceof l?t:new d(t):null;this.groupsData=t,this.itemSet.setGroups(t)},v.prototype.setData=function(t){t&&t.groups&&this.setGroups(t.groups),t&&t.items&&this.setItems(t.items)},v.prototype.setSelection=function(t,e){this.itemSet&&this.itemSet.setSelection(t),e&&e.focus&&this.focus(t,e)},v.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},v.prototype.focus=function(t,e){var i,o,n;this.itemsData&&null!=t&&(t=Array.isArray(t)?t:[t],t=this.itemsData.getDataSet().get(t,{type:{start:"Date",end:"Date"}}),o=i=null,t.forEach(function(t){var e=t.start.valueOf(),t=("end"in t?t.end:t.start).valueOf();(null===i||e<i)&&(i=e),(null===o||o<t)&&(o=t)}),null!==i)&&null!==o&&(t=(i+o)/2,n=Math.max(this.range.end-this.range.start,1.1*(o-i)),e=!e||void 0===e.animation||e.animation,this.range.setRange(t-n/2,t+n/2,e))},v.prototype.fit=function(t){var e,t=!t||void 0===t.animation||t.animation,i=this.itemsData&&this.itemsData.getDataSet();1===i.length&&void 0===i.get()[0].end?(e=this.getDataRange(),this.moveTo(e.min.valueOf(),{animation:t})):(e=this.getItemRange(),this.range.setRange(e.min,e.max,t))},v.prototype.getItemRange=function(){var n,t,e,i,o=this,s=this.getDataRange(),r=null!==s.min?s.min.valueOf():null,a=null!==s.max?s.max.valueOf():null,h=null,d=null;function l(t){return u.convert(t.data.start,"Date").valueOf()}function c(t){return t=null!=t.data.end?t.data.end:t.data.start,u.convert(t,"Date").valueOf()}return null!=r&&null!=a&&(n=(s=(s=a-r)<=0?10:s)/o.props.center.width,u.forEach(o.itemSet.items,function(t){t.show(),t.repositionX();var e,i=l(t),o=c(t);i=this.options.rtl?(e=i-(t.getWidthRight()+10)*n,o+(t.getWidthLeft()+10)*n):(e=i-(t.getWidthLeft()+10)*n,o+(t.getWidthRight()+10)*n),e<r&&(r=e,h=t),a<i&&(a=i,d=t)}.bind(o)),h)&&d&&(t=h.getWidthLeft()+10,e=d.getWidthRight()+10,0<(i=o.props.center.width-t-e))&&(a=o.options.rtl?(r=l(h)-e*s/i,c(d)+t*s/i):(r=l(h)-t*s/i,c(d)+e*s/i)),{min:null!=r?new Date(r):null,max:null!=a?new Date(a):null}},v.prototype.getDataRange=function(){var i=null,o=null,t=this.itemsData&&this.itemsData.getDataSet();return t&&t.forEach(function(t){var e=u.convert(t.start,"Date").valueOf(),t=u.convert(null!=t.end?t.end:t.start,"Date").valueOf();(null===i||e<i)&&(i=e),(null===o||o<t)&&(o=t)}),{min:null!=i?new Date(i):null,max:null!=o?new Date(o):null}},v.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY,i=(e=this.options.rtl?u.getAbsoluteRight(this.dom.centerContainer)-e:e-u.getAbsoluteLeft(this.dom.centerContainer),i-u.getAbsoluteTop(this.dom.centerContainer)),o=this.itemSet.itemFromTarget(t),n=this.itemSet.groupFromTarget(t),s=m.customTimeFromTarget(t),r=this.itemSet.options.snap||null,a=this.body.util.getScale(),h=this.body.util.getStep(),d=this._toTime(e),r=r?r(d,a,h):d,a=u.getTarget(t),h=null;return null!=o?h="item":null!=s?h="custom-time":u.hasParent(a,this.timeAxis.dom.foreground)||this.timeAxis2&&u.hasParent(a,this.timeAxis2.dom.foreground)?h="axis":u.hasParent(a,this.itemSet.dom.labelSet)?h="group-label":u.hasParent(a,this.currentTime.bar)?h="current-time":u.hasParent(a,this.dom.center)&&(h="background"),{event:t,item:o?o.id:null,group:n?n.groupId:null,what:h,pageX:(t.srcEvent||t).pageX,pageY:(t.srcEvent||t).pageY,x:e,y:i,time:d,snappedTime:r}},t.exports=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=i(29),r=(s=s)&&s.__esModule?s:{default:s};var c=i(1),s=(o(h,[{key:"setOptions",value:function(t){var e;void 0!==t&&(this.popupHistory={},this._removePopup(),e=!0,"string"==typeof t?this.options.filter=t:t instanceof Array?this.options.filter=t.join():"object"===(void 0===t?"undefined":a(t))?(void 0!==t.container&&(this.options.container=t.container),void 0!==t.filter&&(this.options.filter=t.filter),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)):"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0),!1===this.options.filter&&(e=!1),this.options.enabled=e),this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var t,e,i=this,o=(this._clean(),this.changedOptions=[],this.options.filter),n=0,s=!1;for(t in this.configureOptions)this.configureOptions.hasOwnProperty(t)&&(s=this.allowCreation=!1,"function"==typeof o?s=(s=o(t,[]))||this._handleObject(this.configureOptions[t],[t],!0):!0!==o&&-1===o.indexOf(t)||(s=!0),!1!==s&&(this.allowCreation=!0,0<n&&this._makeItem([]),this._makeHeader(t),this._handleObject(this.configureOptions[t],[t])),n++);!0===this.options.showButton&&((e=document.createElement("div")).className="vis-configuration vis-config-button",e.innerHTML="generate options",e.onclick=function(){i._printOptions()},e.onmouseover=function(){e.className="vis-configuration vis-config-button hover"},e.onmouseout=function(){e.className="vis-configuration vis-config-button"},i.optionsContainer=document.createElement("div"),i.optionsContainer.className="vis-configuration vis-config-option-container",i.domElements.push(i.optionsContainer),i.domElements.push(e)),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}},{key:"_makeItem",value:function(t){var i=arguments,o=this;if(!0===this.allowCreation){var n,s,r,e=function(){var e=document.createElement("div");for(e.className="vis-configuration vis-config-item vis-config-s"+t.length,n=i.length,s=Array(1<n?n-1:0),r=1;r<n;r++)s[r-1]=i[r];return s.forEach(function(t){e.appendChild(t)}),o.domElements.push(e),{v:o.domElements.length}}();if("object"===(void 0===e?"undefined":a(e)))return e.v}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerHTML=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=document.createElement("div");return o.className="vis-configuration vis-config-label vis-config-s"+e.length,o.innerHTML=!0===i?"<i><b>"+t+":</b></i>":t+":",o}},{key:"_makeDropdown",value:function(t,e,i){var o=document.createElement("select"),n=(o.className="vis-configuration vis-config-select",0);void 0!==e&&-1!==t.indexOf(e)&&(n=t.indexOf(e));for(var s=0;s<t.length;s++){var r=document.createElement("option");r.value=t[s],s===n&&(r.selected="selected"),r.innerHTML=t[s],o.appendChild(r)}var a=this,e=(o.onchange=function(){a._update(this.value,i)},this._makeLabel(i[i.length-1],i));this._makeItem(i,e,o)}},{key:"_makeRange",value:function(t,e,i){var o=t[0],n=t[1],s=t[2],t=t[3],r=document.createElement("input");r.className="vis-configuration vis-config-range";try{r.type="range",r.min=n,r.max=s}catch(t){}r.step=t;var t="",a=0,h=(void 0!==e?(e<0&&1.2*e<n?(r.min=Math.ceil(1.2*e),a=r.min,t="range increased"):e/1.2<n&&(r.min=Math.ceil(e/1.2),a=r.min,t="range increased"),s<1.2*e&&1!==s&&(r.max=Math.ceil(1.2*e),a=r.max,t="range increased"),r.value=e):r.value=o,document.createElement("input")),d=(h.className="vis-configuration vis-config-rangeinput",h.value=r.value,this),n=(r.onchange=function(){h.value=this.value,d._update(Number(this.value),i)},r.oninput=function(){h.value=this.value},this._makeLabel(i[i.length-1],i)),s=this._makeItem(i,n,r,h);""!==t&&this.popupHistory[s]!==a&&(this.popupHistory[s]=a,this._setupPopup(t,s))}},{key:"_setupPopup",value:function(t,e){var i,o=this;!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit&&((i=document.createElement("div")).id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerHTML=t,i.onclick=function(){o._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:e})}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t,e=this;void 0!==this.popupDiv.html&&(t=this.domElements[this.popupDiv.index].getBoundingClientRect(),this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){e._removePopup()},1800))}},{key:"_makeCheckbox",value:function(t,e,i){var o=document.createElement("input"),n=(o.type="checkbox",o.className="vis-configuration vis-config-checkbox",o.checked=t,void 0===e||(o.checked=e)===t||"object"===(void 0===t?"undefined":a(t))&&e===t.enabled||this.changedOptions.push({path:i,value:e}),this),t=(o.onchange=function(){n._update(this.checked,i)},this._makeLabel(i[i.length-1],i));this._makeItem(i,t,o)}},{key:"_makeTextInput",value:function(t,e,i){var o=document.createElement("input"),n=(o.type="text",o.className="vis-configuration vis-config-text",(o.value=e)!==t&&this.changedOptions.push({path:i,value:e}),this),t=(o.onchange=function(){n._update(this.value,i)},this._makeLabel(i[i.length-1],i));this._makeItem(i,t,o)}},{key:"_makeColorField",value:function(t,e,i){var o=this,t=t[1],n=document.createElement("div"),t=("none"!==(e=void 0===e?t:e)?(n.className="vis-configuration vis-config-colorBlock",n.style.backgroundColor=e):n.className="vis-configuration vis-config-colorBlock none",e=void 0===e?t:e,n.onclick=function(){o._showColorPicker(e,n,i)},this._makeLabel(i[i.length-1],i));this._makeItem(i,t,n)}},{key:"_showColorPicker",value:function(t,e,i){var o=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(function(t){t="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=t,o._update(t,i)}),this.colorPicker.setCloseCallback(function(){e.onclick=function(){o._showColorPicker(t,e,i)}})}},{key:"_handleObject",value:function(t){var e,i,o,n,s,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],a=2<arguments.length&&void 0!==arguments[2]&&arguments[2],h=!1,d=this.options.filter,l=!1;for(e in t)t.hasOwnProperty(e)&&(h=!0,i=t[e],o=c.copyAndExtendArray(r,e),"function"==typeof d&&!1===(h=d(e,r))&&!(i instanceof Array)&&"string"!=typeof i&&"boolean"!=typeof i&&i instanceof Object&&(this.allowCreation=!1,h=this._handleObject(i,o,!0),this.allowCreation=!1===a),!1!==h)&&(l=!0,n=this._getValue(o),i instanceof Array?this._handleArray(i,n,o):"string"==typeof i?this._makeTextInput(i,n,o):"boolean"==typeof i?this._makeCheckbox(i,n,o):i instanceof Object&&(n=!0)===(n=-1!==r.indexOf("physics")&&this.moduleOptions.physics.solver!==e?!1:n)&&(void 0!==i.enabled?(n=c.copyAndExtendArray(o,"enabled"),!0===(n=this._getValue(n))?(s=this._makeLabel(e,o,!0),this._makeItem(o,s),l=this._handleObject(i,o)||l):this._makeCheckbox(i,n,o)):(s=this._makeLabel(e,o,!0),this._makeItem(o,s),l=this._handleObject(i,o)||l)));return l}},{key:"_handleArray",value:function(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e)&&this.changedOptions.push({path:i,value:Number(e)})}},{key:"_update",value:function(t,e){t=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",t),this.initialized=!0,this.parent.setOptions(t)}},{key:"_constructOptions",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=i;t="false"!==(t="true"===t||t)&&t;for(var n=0;n<e.length;n++)"global"!==e[n]&&(void 0===o[e[n]]&&(o[e[n]]={}),n!==e.length-1?o=o[e[n]]:o[e[n]]=t);return i}},{key:"_printOptions",value:function(){var t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+JSON.stringify(t,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),h);function h(t,e,i){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,n=this,s=h;if(!(n instanceof s))throw new TypeError("Cannot call a class as a function");this.parent=t,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},c.extend(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new r.default(o),this.wrapper=void 0}e.default=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=i(22),r=i(30),l=i(1),i=(o(a,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return{black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"}[t]}},{key:"setColor",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if("none"!==t){var i=void 0,o=this._isColorString(t);if(!0===l.isString(t=void 0!==o?o:t)?!0===l.isValidRGB(t)?i={r:(o=t.substr(4).substr(0,t.length-5).split(","))[0],g:o[1],b:o[2],a:1}:!0===l.isValidRGBA(t)?i={r:(o=t.substr(5).substr(0,t.length-6).split(","))[0],g:o[1],b:o[2],a:o[3]}:!0===l.isValidHex(t)&&(i={r:(o=l.hexToRGB(t)).r,g:o.g,b:o.b,a:1}):t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b&&(o=void 0!==t.a?t.a:"1.0",i={r:t.r,g:t.g,b:t.b,a:o}),void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(t));this._setColor(i,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this;!0===(!(0<arguments.length&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=l.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){!0===(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=l.extend({},t)),this.color=t;var e=l.RGBToHSV(t.r,t.g,t.b),i=2*Math.PI,o=this.r*e.s,n=this.centerCoordinates.x+o*Math.sin(i*e.h),o=this.centerCoordinates.y+o*Math.cos(i*e.h);this.colorPickerSelector.style.left=n-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=l.RGBToHSV(this.color.r,this.color.g,this.color.b),t=(e.v=t/100,l.HSVToRGB(e.h,e.s,e.v));t.a=this.color.a,this.color=t,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.color,e=l.RGBToHSV(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d"),o=(void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.colorPickerCanvas.clientWidth),n=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,o,n),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),i.fill(),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var t;this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext?(t=this.colorPickerCanvas.getContext("2d"),this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)):((t=document.createElement("DIV")).style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)),this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var e=this;this.opacityRange.onchange=function(){e._setOpacity(this.value)},this.opacityRange.oninput=function(){e._setOpacity(this.value)},this.brightnessRange.onchange=function(){e._setBrightness(this.value)},this.brightnessRange.oninput=function(){e._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new s(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),r.onTouch(this.hammer,function(t){e._moveSelector(t)}),this.hammer.on("tap",function(t){e._moveSelector(t)}),this.hammer.on("panstart",function(t){e._moveSelector(t)}),this.hammer.on("panmove",function(t){e._moveSelector(t)}),this.hammer.on("panend",function(t){e._moveSelector(t)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){for(var t,e,i,o=this.colorPickerCanvas.getContext("2d"),n=(void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1)),o.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.colorPickerCanvas.clientWidth),s=this.colorPickerCanvas.clientHeight,r=(o.clearRect(0,0,n,s),void 0),a=void 0,h=(this.centerCoordinates={x:.5*n,y:.5*s},this.r=.49*n,2*Math.PI/360),d=1/this.r,r=0;r<360;r++)for(a=0;a<this.r;a++)t=this.centerCoordinates.x+a*Math.sin(h*r),e=this.centerCoordinates.y+a*Math.cos(h*r),i=l.HSVToRGB(r*(1/360),a*d,1),o.fillStyle="rgb("+i.r+","+i.g+","+i.b+")",o.fillRect(t-.5,e-.5,2,2);o.strokeStyle="rgba(0,0,0,1)",o.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),o.stroke(),this.hueCircle=o.getImageData(0,0,n,s)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),i=t.center.x-e.left,t=t.center.y-e.top,e=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,i=i-o,t=t-e,n=Math.atan2(i,t),i=.98*Math.min(Math.sqrt(i*i+t*t),o),t=Math.cos(n)*i+e,e=Math.sin(n)*i+o;this.colorPickerSelector.style.top=t-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=e-.5*this.colorPickerSelector.clientWidth+"px";o=(o=n/(2*Math.PI))<0?1+o:o,t=i/this.r,e=l.RGBToHSV(this.color.r,this.color.g,this.color.b),e.h=o,e.s=t,n=l.HSVToRGB(e.h,e.s,e.v);n.a=this.color.a,this.color=n,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),a);function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,e=this,i=a;if(!(e instanceof i))throw new TypeError("Cannot call a class as a function");this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}e.default=i},function(t,e,i){i(22);e.onTouch=function(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)},e.onRelease=function(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)},e.offTouch=function(t,e){t.off("hammer.input",e.inputHandler)},e.offRelease=e.offTouch,e.disablePreventDefaultVertically=function(t){return t.getTouchAction=function(){return["pan-y"]},t}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var c=i(1),h=!1,r=void 0,i="background: #FFeeee; color: #dd0000",n=(n(u,null,[{key:"validate",value:function(t,e,i){h=!1;var o=r=e;return void 0!==i&&(o=e[i]),u.parse(t,o,[]),h}},{key:"parse",value:function(t,e,i){for(var o in t)t.hasOwnProperty(o)&&u.check(o,t,e,i)}},{key:"check",value:function(t,e,i,o){void 0===i[t]&&void 0===i.__any__?u.getSuggestion(t,i,o):void 0===i[t]&&void 0!==i.__any__?"object"===u.getType(e[t])&&void 0!==i.__any__.__type__?u.checkFields(t,e,i,"__any__",i.__any__.__type__,o):u.checkFields(t,e,i,"__any__",i.__any__,o):void 0!==i[t].__type__?u.checkFields(t,e,i,t,i[t].__type__,o):u.checkFields(t,e,i,t,i[t],o)}},{key:"checkFields",value:function(t,e,i,o,n,s){var r=u.getType(e[t]),a=n[r];void 0!==a?"array"===u.getType(a)&&-1===a.indexOf(e[t])?h=!0:"object"===r&&"__any__"!==o&&(s=c.copyAndExtendArray(s,t),u.parse(e[t],i[o],s)):void 0===n.any&&(h=!0)}},{key:"getType",value:function(t){var e=void 0===t?"undefined":o(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(t,e,i){e=u.findInOptions(t,e,i,!1),i=u.findInOptions(t,r,[],!0);void 0!==e.indexMatch||i.distance<=4&&e.distance>i.distance||e.distance,h=!0}},{key:"findInOptions",value:function(t,e,i){var o,n=3<arguments.length&&void 0!==arguments[3]&&arguments[3],s=1e9,r="",a=[],h=t.toLowerCase(),d=void 0;for(o in e){var l;void 0!==e[o].__type__&&!0===n?s>(l=u.findInOptions(t,e[o],c.copyAndExtendArray(i,o))).distance&&(r=l.closestMatch,a=l.path,s=l.distance,d=l.indexMatch):(-1!==o.toLowerCase().indexOf(h)&&(d=o),(l=u.levenshteinDistance(t,o))<s&&(r=o,a=c.copyArray(i),s=l))}return{closestMatch:r,path:a,distance:s,indexMatch:d}}},{key:"printLocation",value:function(t,e){for(var i="\n\n"+(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",o=0;o<t.length;o++){for(var n=0;n<o+1;n++)i+="  ";i+=t[o]+": {\n"}for(var s=0;s<t.length+1;s++)i+="  ";i+=e+"\n";for(var r=0;r<t.length+1;r++){for(var a=0;a<t.length-r;a++)i+="  ";i+="}\n"}return i+"\n\n"}},{key:"print",value:function(t){return JSON.stringify(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;for(var i,o=[],n=0;n<=e.length;n++)o[n]=[n];for(i=0;i<=t.length;i++)o[0][i]=i;for(n=1;n<=e.length;n++)for(i=1;i<=t.length;i++)e.charAt(n-1)==t.charAt(i-1)?o[n][i]=o[n-1][i-1]:o[n][i]=Math.min(o[n-1][i-1]+1,Math.min(o[n][i-1]+1,o[n-1][i]+1));return o[e.length][t.length]}}]),u);function u(){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function")}e.default=n,e.printStyle=i},function(t,e,i){var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m=i(1),o=(i(30),i(2)),n=i(33),g=i(34);function s(t,e){var i=o().hours(0).minutes(0).seconds(0).milliseconds(0);this.start=i.clone().add(-3,"days").valueOf(),this.end=i.clone().add(4,"days").valueOf(),this.body=t,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:o,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10},this.options=m.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.setOptions(e)}function r(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError('Unknown direction "'+t+'". Choose "horizontal" or "vertical".')}(s.prototype=new n).setOptions=function(t){t&&(m.selectiveExtend(["direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","horizontalScroll"],this.options,t),"start"in t||"end"in t)&&this.setRange(t.start,t.end)},s.prototype.setRange=function(t,e,i,o){!0!==o&&(o=!1);var n=null!=t?m.convert(t,"Date").valueOf():null,s=null!=e?m.convert(e,"Date").valueOf():null;if(this._cancelAnimation(),i){var r,a,h=this,d=this.start,l=this.end,c="object"===(void 0===i?"undefined":f(i))&&"duration"in i?i.duration:500,t="object"===(void 0===i?"undefined":f(i))&&"easingFunction"in i?i.easingFunction:"easeInOutQuad",u=m.easingFunctions[t];if(u)return r=(new Date).valueOf(),a=!1,function t(){var e,i;h.props.touch.dragging||(i=(new Date).valueOf()-r,e=u(i/c),p=h._applyRange((i=c<i)||null===n?n:d+(n-d)*e,i||null===s?s:l+(s-l)*e),g.updateHiddenDates(h.options.moment,h.body,h.options.hiddenDates),a=a||p,p&&h.body.emitter.emit("rangechange",{start:new Date(h.start),end:new Date(h.end),byUser:o}),i?a&&h.body.emitter.emit("rangechanged",{start:new Date(h.start),end:new Date(h.end),byUser:o}):h.animationTimer=setTimeout(t,20))}();throw new Error("Unknown easing function "+JSON.stringify(t)+". Choose from: "+Object.keys(m.easingFunctions).join(", "))}var p=this._applyRange(n,s);g.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),p&&(e={start:new Date(this.start),end:new Date(this.end),byUser:o},this.body.emitter.emit("rangechange",e),this.body.emitter.emit("rangechanged",e))},s.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},s.prototype._applyRange=function(t,e){var i,o=null!=t?m.convert(t,"Date").valueOf():this.start,n=null!=e?m.convert(e,"Date").valueOf():this.end,s=null!=this.options.max?m.convert(this.options.max,"Date").valueOf():null,r=null!=this.options.min?m.convert(this.options.min,"Date").valueOf():null;if(isNaN(o)||null===o)throw new Error('Invalid start "'+t+'"');if(isNaN(n)||null===n)throw new Error('Invalid end "'+e+'"');n<o&&(n=o),null!==r&&o<r&&(o+=i=r-o,n+=i,null!=s)&&s<n&&(n=s),null!==s&&s<n&&(o-=i=n-s,n-=i,null!=r)&&o<r&&(o=r),null!==this.options.zoomMin&&n-o<(t=(t=parseFloat(this.options.zoomMin))<0?0:t)&&(this.end-this.start===t&&o>this.start&&n<this.end?(o=this.start,n=this.end):(o-=(i=t-(n-o))/2,n+=i/2)),null!==this.options.zoomMax&&(e=(e=parseFloat(this.options.zoomMax))<0?0:e)<n-o&&(this.end-this.start===e&&o<this.start&&n>this.end?(o=this.start,n=this.end):(o+=(i=n-o-e)/2,n-=i/2));s=this.start!=o||this.end!=n;return o>=this.start&&o<=this.end||n>=this.start&&n<=this.end||this.start>=o&&this.start<=n||this.end>=o&&this.end<=n||this.body.emitter.emit("checkRangedItems"),this.start=o,this.end=n,s},s.prototype.getRange=function(){return{start:this.start,end:this.end}},s.prototype.conversion=function(t,e){return s.conversion(this.start,this.end,t,e)},s.conversion=function(t,e,i,o){return void 0===o&&(o=0),0!=i&&e-t!=0?{offset:t,scale:i/(e-t-o)}:{offset:0,scale:1}},s.prototype._onDragStart=function(t){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(t)&&this.props.touch.allowDragging&&(this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root)&&(this.body.dom.root.style.cursor="move")},s.prototype._onDrag=function(t){var e,i,o,n,s;t&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(r(o=this.options.direction),e="horizontal"==o?t.deltaX:t.deltaY,e-=this.deltaDifference,i=this.props.touch.end-this.props.touch.start,i-=g.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),o="horizontal"==o?this.body.domProps.center.width:this.body.domProps.center.height,o=this.options.rtl?e/o*i:-e/o*i,i=this.props.touch.start+o,o=this.props.touch.end+o,n=g.snapAwayFromHidden(this.body.hiddenDates,i,this.previousDelta-e,!0),s=g.snapAwayFromHidden(this.body.hiddenDates,o,this.previousDelta-e,!0),n!=i||s!=o?(this.deltaDifference+=e,this.props.touch.start=n,this.props.touch.end=s,this._onDrag(t)):(this.previousDelta=e,this._applyRange(i,o),n=new Date(this.start),s=new Date(this.end),this.body.emitter.emit("rangechange",{start:n,end:s,byUser:!0}),this.body.emitter.emit("panmove")))},s.prototype._onDragEnd=function(t){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0}))},s.prototype._onMouseWheel=function(t){t.preventDefault();var e,i,o=0;t.wheelDelta?o=t.wheelDelta/120:t.detail&&(o=-t.detail/3),this.options.zoomKey&&!t[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable?this.options.horizontalScroll&&(i=o*(this.end-this.start)/20,e=this.start-i,i=this.end-i,this.setRange(e,i)):this.options.zoomable&&this.options.moveable&&this._isInsideRange(t)&&o&&(e=o<0?1-o/5:1/(1+o/5),i=this.getPointer({x:t.clientX,y:t.clientY},this.body.dom.center),t=this._pointerToDate(i),this.zoom(e,t,o))},s.prototype._onTouch=function(t){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0},s.prototype._onPinch=function(t){var e,i,o,n,s;this.options.zoomable&&this.options.moveable&&(this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(t.center,this.body.dom.center)),e=1/(t.scale+this.scaleOffset),n=this._pointerToDate(this.props.touch.center),s=g.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),i=n-(o=g.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,n))+(this.props.touch.start-(n-o))*e,o=n+(s=s-o)+(this.props.touch.end-(n+s))*e,this.startToFront=1-e<=0,this.endToFront=e-1<=0,n=g.snapAwayFromHidden(this.body.hiddenDates,i,1-e,!0),s=g.snapAwayFromHidden(this.body.hiddenDates,o,e-1,!0),n==i&&s==o||(this.props.touch.start=n,this.props.touch.end=s,this.scaleOffset=1-t.scale,i=n,o=s),this.setRange(i,o,!1,!0),this.startToFront=!1,this.endToFront=!0)},s.prototype._isInsideRange=function(t){var t=t.center?t.center.x:t.clientX,t=(t=this.options.rtl?t-m.getAbsoluteLeft(this.body.dom.centerContainer):m.getAbsoluteRight(this.body.dom.centerContainer)-t,this.body.util.toTime(t));return t>=this.start&&t<=this.end},s.prototype._pointerToDate=function(t){var e=this.options.direction;return r(e),"horizontal"==e?this.body.util.toTime(t.x).valueOf():(e=this.body.domProps.center.height,e=this.conversion(e),t.y/e.scale+e.offset)},s.prototype.getPointer=function(t,e){return this.options.rtl?{x:m.getAbsoluteRight(e)-t.x,y:t.y-m.getAbsoluteTop(e)}:{x:t.x-m.getAbsoluteLeft(e),y:t.y-m.getAbsoluteTop(e)}},s.prototype.zoom=function(t,e,i){null==e&&(e=(this.start+this.end)/2);var o=g.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),n=g.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,e),o=o-n,n=e-n+(this.start-(e-n))*t,e=e+o+(this.end-(e+o))*t,o=(this.startToFront=!(0<i),this.endToFront=!(0<-i),g.snapAwayFromHidden(this.body.hiddenDates,n,i,!0)),t=g.snapAwayFromHidden(this.body.hiddenDates,e,-i,!0);o==n&&t==e||(n=o,e=t),this.setRange(n,e,!1,!0),this.startToFront=!1,this.endToFront=!0},s.prototype.move=function(t){var e=this.end-this.start,i=this.start+e*t,e=this.end+e*t;this.start=i,this.end=e},s.prototype.moveTo=function(t){var t=(this.start+this.end)/2-t,e=this.start-t,t=this.end-t;this.setRange(e,t)},t.exports=s},function(t,e,i){var o=i(1);function n(t,e){this.options=null,this.props=null}n.prototype.setOptions=function(t){t&&o.extend(this.options,t)},n.prototype.redraw=function(){return!1},n.prototype.destroy=function(){},n.prototype._isResized=function(){var t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,t},t.exports=n},function(t,y){y.convertHiddenOptions=function(t,e,i){if(i&&!Array.isArray(i))return y.convertHiddenOptions(t,e,[i]);if(e.hiddenDates=[],i&&1==Array.isArray(i)){for(var o,n=0;n<i.length;n++)void 0===i[n].repeat&&((o={}).start=t(i[n].start).toDate().valueOf(),o.end=t(i[n].end).toDate().valueOf(),e.hiddenDates.push(o));e.hiddenDates.sort(function(t,e){return t.start-e.start})}},y.updateHiddenDates=function(t,e,i){if(i&&!Array.isArray(i))return y.updateHiddenDates(t,e,[i]);if(i&&void 0!==e.domProps.centerContainer.width){y.convertHiddenOptions(t,e,i);for(var o=t(e.range.start),n=t(e.range.end),s=(e.range.end-e.range.start)/e.domProps.centerContainer.width,r=0;r<i.length;r++)if(void 0!==i[r].repeat){var a=t(i[r].start),h=t(i[r].end);if("Invalid Date"==a._d)throw new Error("Supplied start date is not valid: "+i[r].start);if("Invalid Date"==h._d)throw new Error("Supplied end date is not valid: "+i[r].end);if(4*s<=h-a){var d=0,l=n.clone();switch(i[r].repeat){case"daily":a.day()!=h.day()&&(d=1),a.dayOfYear(o.dayOfYear()),a.year(o.year()),a.subtract(7,"days"),h.dayOfYear(o.dayOfYear()),h.year(o.year()),h.subtract(7-d,"days"),l.add(1,"weeks");break;case"weekly":var c=h.diff(a,"days"),u=a.day();a.date(o.date()),a.month(o.month()),a.year(o.year()),h=a.clone(),a.day(u),h.day(u),h.add(c,"days"),a.subtract(1,"weeks"),h.subtract(1,"weeks"),l.add(1,"weeks");break;case"monthly":a.month()!=h.month()&&(d=1),a.month(o.month()),a.year(o.year()),a.subtract(1,"months"),h.month(o.month()),h.year(o.year()),h.subtract(1,"months"),h.add(d,"months"),l.add(1,"months");break;case"yearly":a.year()!=h.year()&&(d=1),a.year(o.year()),a.subtract(1,"years"),h.year(o.year()),h.subtract(1,"years"),h.add(d,"years"),l.add(1,"years");break;default:return}for(;a<l;)switch(e.hiddenDates.push({start:a.valueOf(),end:h.valueOf()}),i[r].repeat){case"daily":a.add(1,"days"),h.add(1,"days");break;case"weekly":a.add(1,"weeks"),h.add(1,"weeks");break;case"monthly":a.add(1,"months"),h.add(1,"months");break;case"yearly":a.add(1,"y"),h.add(1,"y");break;default:return}e.hiddenDates.push({start:a.valueOf(),end:h.valueOf()})}}y.removeDuplicates(e);var p=y.isHidden(e.range.start,e.hiddenDates),f=y.isHidden(e.range.end,e.hiddenDates),m=e.range.start,g=e.range.end;1==p.hidden&&(m=1==e.range.startToFront?p.startDate-1:p.endDate+1),1==f.hidden&&(g=1==e.range.endToFront?f.startDate-1:f.endDate+1),1!=p.hidden&&1!=f.hidden||e.range._applyRange(m,g)}},y.removeDuplicates=function(t){for(var e=t.hiddenDates,i=[],o=0;o<e.length;o++)for(var n=0;n<e.length;n++)o!=n&&1!=e[n].remove&&1!=e[o].remove&&(e[n].start>=e[o].start&&e[n].end<=e[o].end?e[n].remove=!0:e[n].start>=e[o].start&&e[n].start<=e[o].end?(e[o].end=e[n].end,e[n].remove=!0):e[n].end>=e[o].start&&e[n].end<=e[o].end&&(e[o].start=e[n].start,e[n].remove=!0));for(o=0;o<e.length;o++)!0!==e[o].remove&&i.push(e[o]);t.hiddenDates=i,t.hiddenDates.sort(function(t,e){return t.start-e.start})},y.printDates=function(t){for(var e=0;e<t.length;e++);},y.stepOverHiddenDates=function(t,e,i){for(var o=!1,n=e.current.valueOf(),s=0;s<e.hiddenDates.length;s++){var r=e.hiddenDates[s].start,a=e.hiddenDates[s].end;if(r<=n&&n<a){o=!0;break}}1==o&&n<e._end.valueOf()&&n!=i&&(i=t(i),t=t(a),i.year()!=t.year()?e.switchedYear=!0:i.month()!=t.month()?e.switchedMonth=!0:i.dayOfYear()!=t.dayOfYear()&&(e.switchedDay=!0),e.current=t)},y.toScreen=function(t,e,i){var o,n,s;return 0==t.body.hiddenDates.length?(s=t.range.conversion(i),(e.valueOf()-s.offset)*s.scale):(1==(o=y.isHidden(e,t.body.hiddenDates)).hidden&&(e=o.startDate),o=y.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end),e<t.range.start?(s=t.range.conversion(i,o),n=y.getHiddenDurationBeforeStart(t.body.hiddenDates,e,s.offset),e=t.options.moment(e).toDate().valueOf(),-(s.offset-(e+=n).valueOf())*s.scale):(s=(e=e>t.range.end?(n={start:t.range.start,end:e},y.correctTimeForHidden(t.options.moment,t.body.hiddenDates,n,e)):y.correctTimeForHidden(t.options.moment,t.body.hiddenDates,t.range,e),t.range.conversion(i,o)),(e.valueOf()-s.offset)*s.scale))},y.toTime=function(t,e,i){var o;return 0==t.body.hiddenDates.length?(o=t.range.conversion(i),new Date(e/o.scale+o.offset)):(o=y.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end),o=(t.range.end-t.range.start-o)*e/i,e=y.getAccumulatedHiddenDuration(t.body.hiddenDates,t.range,o),new Date(e+o+t.range.start))},y.getHiddenDurationBetween=function(t,e,i){for(var o=0,n=0;n<t.length;n++){var s=t[n].start,r=t[n].end;e<=s&&r<i&&(o+=r-s)}return o},y.getHiddenDurationBeforeStart=function(t,e,i){for(var o=0,n=0;n<t.length;n++){var s=t[n].start,r=t[n].end;e<=s&&r<=i&&(o+=r-s)}return o},y.correctTimeForHidden=function(t,e,i,o){return o=t(o).toDate().valueOf(),o-=y.getHiddenDurationBefore(t,e,i,o)},y.getHiddenDurationBefore=function(t,e,i,o){var n=0;o=t(o).toDate().valueOf();for(var s=0;s<e.length;s++){var r=e[s].start,a=e[s].end;r>=i.start&&a<i.end&&a<=o&&(n+=a-r)}return n},y.getAccumulatedHiddenDuration=function(t,e,i){for(var o=0,n=0,s=e.start,r=0;r<t.length;r++){var a=t[r].start,h=t[r].end;if(a>=e.start&&h<e.end){if(n+=a-s,s=h,i<=n)break;o+=h-a}}return o},y.snapAwayFromHidden=function(t,e,i,o){t=y.isHidden(e,t);return 1==t.hidden?i<0?1==o?t.startDate-(t.endDate-e)-1:t.startDate-1:1==o?t.endDate+(e-t.startDate)+1:t.endDate+1:e},y.isHidden=function(t,e){for(var i=0;i<e.length;i++){var o=e[i].start,n=e[i].end;if(o<=t&&t<n)return{hidden:!0,startDate:o,endDate:n}}return{hidden:!1,startDate:o,endDate:n}}},function(t,e,i){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=i(13),a=i(22),r=i(30),h=i(1),s=(i(9),i(11),i(32),i(36),i(46)),d=i(47),l=i(34),c=i(48);function u(){}o(u.prototype),u.prototype._create=function(t){this.dom={},this.dom.container=t,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",function(){!0===this.initialDrawDone&&this._redraw()}.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));var i=this,e=(this.on("_change",function(t){t&&1==t.queue?i._redrawTimer||(i._redrawTimer=setTimeout(function(){i._redrawTimer=null,i._redraw()},0)):i._redraw()}),this.hammer=new a(this.dom.root),this.hammer.get("pinch").set({enable:!0}));r.disablePreventDefaultVertically(e),this.hammer.get("pan").set({threshold:5,direction:a.DIRECTION_HORIZONTAL}),this.listeners={};function o(t){var e;this.isActive()&&this.emit("mousewheel",t),!this.options.zoomKey||t[this.options.zoomKey]||this.options.horizontalScroll||(e=0,t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e=this.props.scrollTop+120*e,this.isActive()&&(this._setScrollTop(e),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-e,this.dom.right.parentNode.scrollTop=-e),this._redraw(),this.emit("scroll",t)),t.preventDefault())}function n(t){var e;i.options.verticalScroll&&(t.preventDefault(),i.isActive())&&(e=-t.target.scrollTop,i._setScrollTop(e),i._redraw(),i.emit("scrollSide",t))}["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(e){function t(t){i.isActive()&&i.emit(e,t)}i.hammer.on(e,t),i.listeners[e]=t}),r.onTouch(this.hammer,function(t){i.emit("touch",t)}.bind(this)),r.onRelease(this.hammer,function(t){i.emit("release",t)}.bind(this)),this.dom.centerContainer.addEventListener?(this.dom.centerContainer.addEventListener("mousewheel",o.bind(this),!1),this.dom.centerContainer.addEventListener("DOMMouseScroll",o.bind(this),!1)):this.dom.centerContainer.attachEvent("onmousewheel",o.bind(this)),this.dom.left.parentNode.addEventListener("scroll",n.bind(this)),this.dom.right.parentNode.addEventListener("scroll",n.bind(this));var s=!1;if(this.dom.center.addEventListener("dragover",function(t){if(t.preventDefault&&t.preventDefault(),t.target.className.includes("vis")&&!s)return t.dataTransfer.dropEffect="move",!(s=!0)}.bind(this),!1),this.dom.center.addEventListener("drop",function(t){try{if(!JSON.parse(t.dataTransfer.getData("text/plain")).content)return}catch(t){return!1}return s=!1,t.center={x:t.x,y:t.y},i.itemSet._onAddItem(t),!1}.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,!t)throw new Error("No container provided");t.appendChild(this.dom.root)},u.prototype.setOptions=function(e){if(e){var i,t;if(h.selectiveExtend(["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"],this.options,e),this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),this.options.orientation={item:void 0,axis:void 0},"orientation"in e&&("string"==typeof e.orientation?this.options.orientation={item:e.orientation,axis:e.orientation}:"object"===n(e.orientation)&&("item"in e.orientation&&(this.options.orientation.item=e.orientation.item),"axis"in e.orientation)&&(this.options.orientation.axis=e.orientation.axis)),"both"===this.options.orientation.axis?this.timeAxis2||((i=this.timeAxis2=new s(this.body)).setOptions=function(t){t=t?h.extend({},t):{};t.orientation="top",s.prototype.setOptions.call(i,t)},this.components.push(i)):this.timeAxis2&&(-1!==(t=this.components.indexOf(this.timeAxis2))&&this.components.splice(t,1),this.timeAxis2.destroy(),this.timeAxis2=null),"function"==typeof e.drawPoints&&(e.drawPoints={onRender:e.drawPoints}),"hiddenDates"in this.options&&l.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in e&&(e.clickToUse?this.activator||(this.activator=new d(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in e)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}var o;this.components.forEach(function(t){return t.setOptions(e)}),"configure"in e&&(this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(e.configure),o=h.deepExtend({},this.options),this.components.forEach(function(t){h.deepExtend(o,t.options)}),this.configurator.setModuleOptions({global:o})),this._origRedraw?this._redraw():(this._origRedraw=this._redraw.bind(this),this._redraw=h.throttle(this._origRedraw))},u.prototype.isActive=function(){return!this.activator||this.activator.active},u.prototype.destroy=function(){for(var t in this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator),this.listeners)this.listeners.hasOwnProperty(t)&&delete this.listeners[t];this.listeners=null,this.hammer=null,this.components.forEach(function(t){return t.destroy()}),this.body=null},u.prototype.setCustomTime=function(t,e){var i=this.customTimes.filter(function(t){return e===t.options.id});if(0===i.length)throw new Error("No custom time bar found with id "+JSON.stringify(e));0<i.length&&i[0].setCustomTime(t)},u.prototype.getCustomTime=function(e){var t=this.customTimes.filter(function(t){return t.options.id===e});if(0===t.length)throw new Error("No custom time bar found with id "+JSON.stringify(e));return t[0].getCustomTime()},u.prototype.setCustomTimeTitle=function(t,e){var i=this.customTimes.filter(function(t){return t.options.id===e});if(0===i.length)throw new Error("No custom time bar found with id "+JSON.stringify(e));if(0<i.length)return i[0].setCustomTitle(t)},u.prototype.getEventProperties=function(t){return{event:t}},u.prototype.addCustomTime=function(t,e){t=void 0!==t?h.convert(t,"Date").valueOf():new Date;if(this.customTimes.some(function(t){return t.options.id===e}))throw new Error("A custom time with id "+JSON.stringify(e)+" already exists");t=new c(this.body,h.extend({},this.options,{time:t,id:e}));return this.customTimes.push(t),this.components.push(t),this._redraw(),e},u.prototype.removeCustomTime=function(e){var t=this.customTimes.filter(function(t){return t.options.id===e});if(0===t.length)throw new Error("No custom time bar found with id "+JSON.stringify(e));t.forEach(function(t){this.customTimes.splice(this.customTimes.indexOf(t),1),this.components.splice(this.components.indexOf(t),1),t.destroy()}.bind(this))},u.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},u.prototype.fit=function(t){var e,i,o=this.getDataRange();null===o.min&&null===o.max||(i=o.max-o.min,e=new Date(o.min.valueOf()-.01*i),o=new Date(o.max.valueOf()+.01*i),i=!t||void 0===t.animation||t.animation,this.range.setRange(e,o,i))},u.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},u.prototype.setWindow=function(t,e,i){var o;1==arguments.length?(o=void 0===t.animation||t.animation,this.range.setRange(t.start,t.end,o)):(o=!i||void 0===i.animation||i.animation,this.range.setRange(t,e,o))},u.prototype.moveTo=function(t,e){var i=this.range.end-this.range.start,t=h.convert(t,"Date").valueOf(),e=!e||void 0===e.animation||e.animation;this.range.setRange(t-i/2,t+i/2,e)},u.prototype.getWindow=function(){var t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}},u.prototype.zoomIn=function(t){var e,i;!t||t<0||1<t||(i=(e=this.getWindow()).start.valueOf(),e=e.end.valueOf(),this.setWindow({start:i+(i=((i=e-i)-i/(1+t))/2),end:e-i}))},u.prototype.zoomOut=function(t){var e,i;!t||t<0||1<t||(i=(e=this.getWindow()).start.valueOf(),e=e.end.valueOf(),this.setWindow({start:i-(i=e-i)*t/2,end:e+i*t/2}))},u.prototype.redraw=function(){this._redraw()},u.prototype._redraw=function(){this.redrawCount++;var e=!1,t=this.options,i=this.props,o=this.dom;if(o&&o.container&&0!=o.root.offsetWidth){l.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==t.orientation?(h.addClassName(o.root,"vis-top"),h.removeClassName(o.root,"vis-bottom")):(h.removeClassName(o.root,"vis-top"),h.addClassName(o.root,"vis-bottom")),o.root.style.maxHeight=h.option.asSize(t.maxHeight,""),o.root.style.minHeight=h.option.asSize(t.minHeight,""),o.root.style.width=h.option.asSize(t.width,""),i.border.left=(o.centerContainer.offsetWidth-o.centerContainer.clientWidth)/2,i.border.right=i.border.left,i.border.top=(o.centerContainer.offsetHeight-o.centerContainer.clientHeight)/2,i.border.bottom=i.border.top;var n=o.root.offsetHeight-o.root.clientHeight,s=o.root.offsetWidth-o.root.clientWidth,r=(0===o.centerContainer.clientHeight&&(i.border.left=i.border.top,i.border.right=i.border.left),0===o.root.clientHeight&&(s=n),i.center.height=o.center.offsetHeight,i.left.height=o.left.offsetHeight,i.right.height=o.right.offsetHeight,i.top.height=o.top.clientHeight||-i.border.top,i.bottom.height=o.bottom.clientHeight||-i.border.bottom,Math.max(i.left.height,i.center.height,i.right.height)),r=i.top.height+r+i.bottom.height+n+i.border.top+i.border.bottom,r=(o.root.style.height=h.option.asSize(t.height,r+"px"),i.root.height=o.root.offsetHeight,i.background.height=i.root.height-n,i.root.height-i.top.height-i.bottom.height-n),n=(i.centerContainer.height=r,i.leftContainer.height=r,i.rightContainer.height=i.leftContainer.height,i.root.width=o.root.offsetWidth,i.background.width=i.root.width-s,this.initialDrawDone||(i.scrollbarWidth=h.getScrollBarWidth()),this.options.verticalScroll?this.options.rtl?(i.left.width=o.leftContainer.clientWidth||-i.border.left,i.right.width=o.rightContainer.clientWidth+i.scrollbarWidth||-i.border.right):(i.left.width=o.leftContainer.clientWidth+i.scrollbarWidth||-i.border.left,i.right.width=o.rightContainer.clientWidth||-i.border.right):(i.left.width=o.leftContainer.clientWidth||-i.border.left,i.right.width=o.rightContainer.clientWidth||-i.border.right),i.leftContainer.width=i.left.width,i.rightContainer.width=i.right.width,i.root.width-i.left.width-i.right.width-s),r=(i.center.width=n,i.centerContainer.width=n,i.top.width=n,i.bottom.width=n,o.background.style.height=i.background.height+"px",o.backgroundVertical.style.height=i.background.height+"px",o.backgroundHorizontal.style.height=i.centerContainer.height+"px",o.centerContainer.style.height=i.centerContainer.height+"px",o.leftContainer.style.height=i.leftContainer.height+"px",o.rightContainer.style.height=i.rightContainer.height+"px",o.background.style.width=i.background.width+"px",o.backgroundVertical.style.width=i.centerContainer.width+"px",o.backgroundHorizontal.style.width=i.background.width+"px",o.centerContainer.style.width=i.center.width+"px",o.top.style.width=i.top.width+"px",o.bottom.style.width=i.bottom.width+"px",o.background.style.left="0",o.background.style.top="0",o.backgroundVertical.style.left=i.left.width+i.border.left+"px",o.backgroundVertical.style.top="0",o.backgroundHorizontal.style.left="0",o.backgroundHorizontal.style.top=i.top.height+"px",o.centerContainer.style.left=i.left.width+"px",o.centerContainer.style.top=i.top.height+"px",o.leftContainer.style.left="0",o.leftContainer.style.top=i.top.height+"px",o.rightContainer.style.left=i.left.width+i.center.width+"px",o.rightContainer.style.top=i.top.height+"px",o.top.style.left=i.left.width+"px",o.top.style.top="0",o.bottom.style.left=i.left.width+"px",o.bottom.style.top=i.top.height+i.centerContainer.height+"px",this._updateScrollTop()),s=("top"!=t.orientation.item&&(r+=Math.max(this.props.centerContainer.height-this.props.center.height-this.props.border.top-this.props.border.bottom,0)),o.center.style.left="0",o.center.style.top=r+"px",o.left.style.left="0",o.right.style.left="0",0==this.props.scrollTop?"hidden":""),n=this.props.scrollTop==this.props.scrollTopMin?"hidden":"",i=(o.shadowTop.style.visibility=s,o.shadowBottom.style.visibility=n,o.shadowTopLeft.style.visibility=s,o.shadowBottomLeft.style.visibility=n,o.shadowTopRight.style.visibility=s,o.shadowBottomRight.style.visibility=n,this.options.verticalScroll?(o.shadowTopRight.style.visibility="hidden",o.shadowBottomRight.style.visibility="hidden",o.shadowTopLeft.style.visibility="hidden",o.shadowBottomLeft.style.visibility="hidden"):(o.left.style.top=r+"px",o.right.style.top=r+"px"),this.props.center.height>this.props.centerContainer.height);this.hammer.get("pan").set({direction:i?a.DIRECTION_ALL:a.DIRECTION_HORIZONTAL}),this.components.forEach(function(t){e=t.redraw()||e});if(e){if(this.redrawCount<5)return void this.body.emitter.emit("_change")}else this.redrawCount=0;this.initialDrawDone=!0,this.body.emitter.emit("changed")}},u.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},u.prototype.setCurrentTime=function(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)},u.prototype.getCurrentTime=function(){if(this.currentTime)return this.currentTime.getCurrentTime();throw new Error("Option showCurrentTime must be true")},u.prototype._toTime=function(t){return l.toTime(this,t,this.props.center.width)},u.prototype._toGlobalTime=function(t){return l.toTime(this,t,this.props.root.width)},u.prototype._toScreen=function(t){return l.toScreen(this,t,this.props.center.width)},u.prototype._toGlobalScreen=function(t){return l.toScreen(this,t,this.props.root.width)},u.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},u.prototype._startAutoResize=function(){var t=this;this._stopAutoResize(),this._onResize=function(){1!=t.options.autoResize?t._stopAutoResize():!t.dom.root||t.dom.root.offsetWidth==t.props.lastWidth&&t.dom.root.offsetHeight==t.props.lastHeight||(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight,t.body.emitter.emit("_change"))},h.addEventListener(window,"resize",this._onResize),t.dom.root&&(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},u.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(h.removeEventListener(window,"resize",this._onResize),this._onResize=null)},u.prototype._onTouch=function(t){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},u.prototype._onPinch=function(t){this.touch.allowDragging=!1},u.prototype._onDrag=function(t){var e;t&&this.touch.allowDragging&&(t=t.deltaY,e=this._getScrollTop(),t=this._setScrollTop(this.touch.initialScrollTop+t),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),t!=e)&&this.emit("verticalDrag")},u.prototype._setScrollTop=function(t){return this.props.scrollTop=t,this._updateScrollTop(),this.props.scrollTop},u.prototype._updateScrollTop=function(){var t=Math.min(this.props.centerContainer.height-this.props.center.height,0);return t!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=t-this.props.scrollTopMin),this.props.scrollTopMin=t),0<this.props.scrollTop&&(this.props.scrollTop=0),this.props.scrollTop<t&&(this.props.scrollTop=t),this.props.scrollTop},u.prototype._getScrollTop=function(){return this.props.scrollTop},u.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},t.exports=u},function(t,e,i){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=i(22),g=i(1),s=i(9),r=i(11),a=i(37),h=i(33),d=i(38),l=i(42),c=i(43),u=i(44),p=i(40),f=i(45),m="__ungrouped__",y="__background__";function v(t,e){this.body=t,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,groupOrderSwap:function(t,e,i){var o=e.order;e.order=t.order,t.order=o},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:!1,editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:a.snap,onAdd:function(t,e){e(t)},onUpdate:function(t,e){e(t)},onMove:function(t,e){e(t)},onRemove:function(t,e){e(t)},onMoving:function(t,e){e(t)},onAddGroup:function(t,e){e(t)},onMoveGroup:function(t,e){e(t)},onRemoveGroup:function(t,e){e(t)},margin:{item:{horizontal:10,vertical:10},axis:20},tooltipOnItemUpdateTime:!1},this.options=g.extend({},this.defaultOptions),this.options.rtl=e.rtl,this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime},this.dom={},this.props={},this.hammer=null;var o=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,i){o._onAdd(e.items)},update:function(t,e,i){o._onUpdate(e.items)},remove:function(t,e,i){o._onRemove(e.items)}},this.groupListeners={add:function(t,e,i){o._onAddGroups(e.items)},update:function(t,e,i){o._onUpdateGroups(e.items)},remove:function(t,e,i){o._onRemoveGroups(e.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.stackDirty=!0,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(e)}v.prototype=new h,v.types={background:f,box:c,range:p,point:u},v.prototype._create=function(){var t=document.createElement("div"),e=(t.className="vis-itemset",(t["timeline-itemset"]=this).dom.frame=t,document.createElement("div")),e=(e.className="vis-background",t.appendChild(e),this.dom.background=e,document.createElement("div")),t=(e.className="vis-foreground",t.appendChild(e),this.dom.foreground=e,document.createElement("div")),e=(t.className="vis-axis",this.dom.axis=t,document.createElement("div")),t=(e.className="vis-labelset",this.dom.labelSet=e,this._updateUngrouped(),new l(y,null,this));t.show(),this.groups[y]=t,this.hammer=new n(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(t){t.isFirst&&this._onTouch(t)}.bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:n.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.options.rtl?this.groupHammer=new n(this.body.dom.rightContainer):this.groupHammer=new n(this.body.dom.leftContainer),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:n.DIRECTION_HORIZONTAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.show()},v.prototype.setOptions=function(i){var t;i&&(g.selectiveExtend(["type","rtl","align","order","stack","selectable","multiselect","itemsAlwaysDraggable","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","hide","snap","groupOrderSwap","tooltipOnItemUpdateTime"],this.options,i),"orientation"in i&&("string"==typeof i.orientation?this.options.orientation.item="top"===i.orientation?"top":"bottom":"object"===o(i.orientation)&&"item"in i.orientation&&(this.options.orientation.item=i.orientation.item)),"margin"in i&&("number"==typeof i.margin?(this.options.margin.axis=i.margin,this.options.margin.item.horizontal=i.margin,this.options.margin.item.vertical=i.margin):"object"===o(i.margin)&&(g.selectiveExtend(["axis"],this.options.margin,i.margin),"item"in i.margin)&&("number"==typeof i.margin.item?(this.options.margin.item.horizontal=i.margin.item,this.options.margin.item.vertical=i.margin.item):"object"===o(i.margin.item)&&g.selectiveExtend(["horizontal","vertical"],this.options.margin.item,i.margin.item))),"editable"in i&&("boolean"==typeof i.editable?(this.options.editable.updateTime=i.editable,this.options.editable.updateGroup=i.editable,this.options.editable.add=i.editable,this.options.editable.remove=i.editable):"object"===o(i.editable)&&g.selectiveExtend(["updateTime","updateGroup","add","remove"],this.options.editable,i.editable)),"groupEditable"in i&&("boolean"==typeof i.groupEditable?(this.options.groupEditable.order=i.groupEditable,this.options.groupEditable.add=i.groupEditable,this.options.groupEditable.remove=i.groupEditable):"object"===o(i.groupEditable)&&g.selectiveExtend(["order","add","remove"],this.options.groupEditable,i.groupEditable)),t=function(t){var e=i[t];if(e){if(!(e instanceof Function))throw new Error("option "+t+" must be a function "+t+"(item, callback)");this.options[t]=e}}.bind(this),["onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(t),this.markDirty())},v.prototype.markDirty=function(t){this.groupIds=[],this.stackDirty=!0,t&&t.refreshItems&&g.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()})},v.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},v.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},v.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right:this.body.dom.left).appendChild(this.dom.labelSet)},v.prototype.setSelection=function(t){var e,i,o,n;for(null==t&&(t=[]),Array.isArray(t)||(t=[t]),e=0,i=this.selection.length;e<i;e++)o=this.selection[e],(n=this.items[o])&&n.unselect();for(this.selection=[],e=0,i=t.length;e<i;e++)o=t[e],(n=this.items[o])&&(this.selection.push(o),n.select())},v.prototype.getSelection=function(){return this.selection.concat([])},v.prototype.getVisibleItems=function(){var t,e,i,o=this.body.range.getRange(),n=(this.options.rtl?(e=this.body.util.toScreen(o.start),t=this.body.util.toScreen(o.end)):(t=this.body.util.toScreen(o.start),e=this.body.util.toScreen(o.end)),[]);for(i in this.groups)if(this.groups.hasOwnProperty(i))for(var s=this.groups[i].visibleItems,r=0;r<s.length;r++){var a=s[r];this.options.rtl?a.right<t&&a.right+a.width>e&&n.push(a.id):a.left<e&&a.left+a.width>t&&n.push(a.id)}return n},v.prototype._deselect=function(t){for(var e=this.selection,i=0,o=e.length;i<o;i++)if(e[i]==t){e.splice(i,1);break}},v.prototype.redraw=function(){var t=this.options.margin,i=this.body.range,e=g.option.asSize,o=this.options.orientation.item,n=!1,s=this.dom.frame,r=(this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,s.className="vis-itemset",n=this._orderGroups()||n,i.end-i.start),a=((r!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth)&&(this.stackDirty=!0),this.lastVisibleInterval=r,this.props.lastWidth=this.props.width,this.stackDirty),h=this._firstGroup(),d={item:t.item,axis:t.axis},l={item:t.item,axis:t.item.vertical/2},c=0,r=t.axis+t.item.vertical;return this.groups[y].redraw(i,l,a),g.forEach(this.groups,function(t){var e=t.redraw(i,t==h?d:l,a);n=e||n,c+=t.height}),c=Math.max(c,r),this.stackDirty=!1,s.style.height=e(c),this.props.width=s.offsetWidth,this.props.height=c,this.dom.axis.style.top=e("top"==o?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",n=this._isResized()||n},v.prototype._firstGroup=function(){var t="top"==this.options.orientation.item?0:this.groupIds.length-1,t=this.groupIds[t];return this.groups[t]||this.groups[m]||null},v.prototype._updateUngrouped=function(){var t,e,i,o=this.groups[m];this.groups[y];if(this.groupsData){if(o)for(e in o.hide(),delete this.groups[m],this.items)this.items.hasOwnProperty(e)&&((t=this.items[e]).parent&&t.parent.remove(t),i=this._getGroupId(t.data),(i=this.groups[i])&&i.add(t)||t.hide())}else if(!o){o=new d(null,null,this);for(e in this.groups[m]=o,this.items)this.items.hasOwnProperty(e)&&(t=this.items[e],o.add(t));o.show()}},v.prototype.getLabelSet=function(){return this.dom.labelSet},v.prototype.setItems=function(t){var e,i,o=this,n=this.itemsData;if(t){if(!(t instanceof s||t instanceof r))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;n&&(g.forEach(this.itemListeners,function(t,e){n.off(e,t)}),e=n.getIds(),this._onRemove(e)),this.itemsData&&(i=this.id,g.forEach(this.itemListeners,function(t,e){o.itemsData.on(e,t,i)}),e=this.itemsData.getIds(),this._onAdd(e),this._updateUngrouped()),this.body.emitter.emit("_change",{queue:!0})},v.prototype.getItems=function(){return this.itemsData},v.prototype.setGroups=function(t){var e,i,o=this;if(this.groupsData&&(g.forEach(this.groupListeners,function(t,e){o.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e)),t){if(!(t instanceof s||t instanceof r))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;this.groupsData&&(i=this.id,g.forEach(this.groupListeners,function(t,e){o.groupsData.on(e,t,i)}),e=this.groupsData.getIds(),this._onAddGroups(e)),this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},v.prototype.getGroups=function(){return this.groupsData},v.prototype.removeItem=function(e){var t=this.itemsData.get(e),i=this.itemsData.getDataSet();t&&this.options.onRemove(t,function(t){t&&i.remove(e)})},v.prototype._getType=function(t){return t.type||this.options.type||(t.end?"range":"box")},v.prototype._getGroupId=function(t){return"background"==this._getType(t)&&null==t.group?y:this.groupsData?t.group:m},v.prototype._onAdd=v.prototype._onUpdate=function(t){var r=this;t.forEach(function(t){var e,i=r.itemsData.get(t,r.itemOptions),o=r.items[t],n=i?r._getType(i):null,s=v.types[n];if(o&&(s&&o instanceof s?r._updateItem(o,i):(e=o.selected,r._removeItem(o),o=null)),!o&&i){if(!s)throw"rangeoverflow"==n?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+n+'"');(o=new s(i,r.conversion,r.options)).id=t,r._addItem(o),e&&(this.selection.push(t),o.select())}}.bind(this)),this._order(),this.stackDirty=!0,this.body.emitter.emit("_change",{queue:!0})},v.prototype._onRemove=function(t){var e=0,i=this;t.forEach(function(t){t=i.items[t];t&&(e++,i._removeItem(t))}),e&&(this._order(),this.stackDirty=!0,this.body.emitter.emit("_change",{queue:!0}))},v.prototype._order=function(){g.forEach(this.groups,function(t){t.order()})},v.prototype._onUpdateGroups=function(t){this._onAddGroups(t)},v.prototype._onAddGroups=function(t){var r=this;t.forEach(function(t){var e=r.groupsData.get(t),i=r.groups[t];if(i)i.setData(e);else{if(t==m||t==y)throw new Error("Illegal group id. "+t+" is a reserved id.");var o,n,s=Object.create(r.options);for(o in g.extend(s,{height:null}),i=new d(t,e,r),r.groups[t]=i,r.items)r.items.hasOwnProperty(o)&&(n=r.items[o]).data.group==t&&i.add(n);i.order(),i.show()}}),this.body.emitter.emit("_change",{queue:!0})},v.prototype._onRemoveGroups=function(t){var i=this.groups;t.forEach(function(t){var e=i[t];e&&(e.hide(),delete i[t])}),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},v.prototype._orderGroups=function(){var t,e,i;return!!this.groupsData&&(t=this.groupsData.getIds({order:this.options.groupOrder}),(e=!g.equalArray(t,this.groupIds))&&(i=this.groups,t.forEach(function(t){i[t].hide()}),t.forEach(function(t){i[t].show()}),this.groupIds=t),e)},v.prototype._addItem=function(t){this.items[t.id]=t;var e=this._getGroupId(t.data),e=this.groups[e];e&&e.add(t)},v.prototype._updateItem=function(t,e){var i=t.data.group,o=t.data.subgroup;t.setData(e),(i!=t.data.group||o!=t.data.subgroup)&&((e=this.groups[i])&&e.remove(t),o=this._getGroupId(t.data),i=this.groups[o])&&i.add(t)},v.prototype._removeItem=function(t){t.hide(),delete this.items[t.id];var e=this.selection.indexOf(t.id);-1!=e&&this.selection.splice(e,1),t.parent&&t.parent.remove(t)},v.prototype._constructByEndArray=function(t){for(var e=[],i=0;i<t.length;i++)t[i]instanceof p&&e.push(t[i]);return e},v.prototype._onTouch=function(t){this.touchParams.item=this.itemFromTarget(t),this.touchParams.dragLeftItem=t.target.dragLeftItem||!1,this.touchParams.dragRightItem=t.target.dragRightItem||!1,this.touchParams.itemProps=null},v.prototype._getGroupIndex=function(t){for(var e=0;e<this.groupIds.length;e++)if(t==this.groupIds[e])return e},v.prototype._onDragStart=function(i){var t,e,o,n,s=this.touchParams.item||null,r=this;s&&(s.selected||this.options.itemsAlwaysDraggable)?(this.options.editable.updateTime||this.options.editable.updateGroup||s.editable)&&!1!==s.editable&&(n=this.touchParams.dragLeftItem,e=this.touchParams.dragRightItem,this.touchParams.itemIsDragging=!0,n?(t={item:n,initialX:i.center.x,dragLeft:!0,data:this._cloneItemData(s.data)},this.touchParams.itemProps=[t]):e?(t={item:e,initialX:i.center.x,dragRight:!0,data:this._cloneItemData(s.data)},this.touchParams.itemProps=[t]):(this.touchParams.selectedItem=s,o=this._getGroupIndex(s.data.group),n=this.options.itemsAlwaysDraggable&&!s.selected?[s.id]:this.getSelection(),this.touchParams.itemProps=n.map(function(t){var t=r.items[t],e=r._getGroupIndex(t.data.group);return{item:t,initialX:i.center.x,groupOffset:o-e,data:this._cloneItemData(t.data)}}.bind(this))),i.stopPropagation()):this.options.editable.add&&(i.srcEvent.ctrlKey||i.srcEvent.metaKey)&&this._onDragStartAddItem(i)},v.prototype._onDragStartAddItem=function(t){var e=this.options.snap||null,i=(i=this.options.rtl?(i=g.getAbsoluteRight(this.dom.frame))-t.center.x+10:(i=g.getAbsoluteLeft(this.dom.frame),t.center.x-i-10),this.body.util.toTime(i)),o=this.body.util.getScale(),n=this.body.util.getStep(),e=e?e(i,o,n):i,o={type:"range",start:e,end:e,content:"new item"},n=g.randomUUID(),i=(o[this.itemsData._fieldId]=n,this.groupFromTarget(t)),e=(i&&(o.group=i.groupId),new p(o,this.conversion,this.options)),i=(e.id=n,e.data=this._cloneItemData(o),this._addItem(e),{item:e,initialX:t.center.x,data:e.data});this.options.rtl?i.dragLeft=!0:i.dragRight=!0,this.touchParams.itemProps=[i],t.stopPropagation()},v.prototype._onDrag=function(a){var h,d,l,c,u,t,p,e;this.touchParams.itemProps&&(a.stopPropagation(),d=(h=this).options.snap||null,l=this.options.rtl?this.body.dom.root.offsetLeft+this.body.domProps.right.width:this.body.dom.root.offsetLeft+this.body.domProps.left.width,c=this.body.util.getScale(),u=this.body.util.getStep(),t=this.touchParams.selectedItem,e=h.options.editable.updateGroup,p=null,e&&t&&null!=t.data.group&&(e=h.groupFromTarget(a))&&(p=this._getGroupIndex(e.groupId)),this.touchParams.itemProps.forEach(function(e){var t,i,o,n,s=h.body.util.toTime(a.center.x-l),r=h.body.util.toTime(e.initialX-l),r=(s=this.options.rtl?-(s-r):s-r,this._cloneItemData(e.item.data));!1!==e.item.editable&&(!h.options.editable.updateTime&&!0!==e.item.editable||(e.dragLeft?this.options.rtl?null!=r.end&&(o=g.convert(e.data.end,"Date"),n=new Date(o.valueOf()+s),r.end=d?d(n,c,u):n):null!=r.start&&(t=g.convert(e.data.start,"Date"),i=new Date(t.valueOf()+s),r.start=d?d(i,c,u):i):e.dragRight?this.options.rtl?null!=r.start&&(t=g.convert(e.data.start,"Date"),i=new Date(t.valueOf()+s),r.start=d?d(i,c,u):i):null!=r.end&&(o=g.convert(e.data.end,"Date"),n=new Date(o.valueOf()+s),r.end=d?d(n,c,u):n):null!=r.start&&(t=g.convert(e.data.start,"Date").valueOf(),i=new Date(t+s),null!=r.end?(n=(o=g.convert(e.data.end,"Date")).valueOf()-t.valueOf(),r.start=d?d(i,c,u):i,r.end=new Date(r.start.valueOf()+n)):r.start=d?d(i,c,u):i)),!(h.options.editable.updateGroup||!0===e.item.editable)||e.dragLeft||e.dragRight||null==p||null!=r.group&&(s=p-e.groupOffset,s=Math.max(0,s),s=Math.min(h.groupIds.length-1,s),r.group=h.groupIds[s]),r=this._cloneItemData(r),h.options.onMoving(r,function(t){t&&e.item.setData(this._cloneItemData(t,"Date"))}.bind(this)))}.bind(this)),this.stackDirty=!0,this.body.emitter.emit("_change"))},v.prototype._moveToGroup=function(t,e){var i,e=this.groups[e];e&&e.groupId!=t.data.group&&((i=t.parent).remove(t),i.order(),e.add(t),e.order(),t.data.group=e.groupId)},v.prototype._onDragEnd=function(t){var o,n;this.touchParams.itemProps&&(t.stopPropagation(),n=(o=this).itemsData.getDataSet(),t=this.touchParams.itemProps,this.touchParams.itemProps=null,this.touchParams.itemIsDragging=!1,t.forEach(function(e){var t,i=e.item.id;null!=o.itemsData.get(i,o.itemOptions)?(t=this._cloneItemData(e.item.data),o.options.onMove(t,function(t){t?(t[n._fieldId]=i,n.update(t)):(e.item.setData(e.data),o.stackDirty=!0,o.body.emitter.emit("_change"))})):o.options.onAdd(e.item.data,function(t){o._removeItem(e.item),t&&o.itemsData.getDataSet().add(t),o.stackDirty=!0,o.body.emitter.emit("_change")})}.bind(this)))},v.prototype._onGroupDragStart=function(t){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(t),this.groupTouchParams.group)&&(t.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder}))},v.prototype._onGroupDrag=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this.groupFromTarget(t);if(e&&e.height!=this.groupTouchParams.group.height){var i=e.top<this.groupTouchParams.group.top,t=t.center?t.center.y:t.clientY,o=g.getAbsoluteTop(e.dom.foreground),n=this.groupTouchParams.group.height;if(i){if(o+n<t)return}else if(t<o+e.height-n)return}if(e&&e!=this.groupTouchParams.group){var i=(d=this.groupsData).get(e.groupId),t=d.get(this.groupTouchParams.group.groupId),s=(t&&i&&(this.options.groupOrderSwap(t,i,this.groupsData),this.groupsData.update(t),this.groupsData.update(i)),this.groupsData.getIds({order:this.options.groupOrder}));if(!g.equalArray(s,this.groupTouchParams.originalOrder))for(var r,a,h,d=this.groupsData,l=this.groupTouchParams.originalOrder,c=this.groupTouchParams.group.groupId,u=Math.min(l.length,s.length),p=0,f=0,m=0;p<u;){for(;p+f<u&&p+m<u&&s[p+f]==l[p+m];)p++;if(u<=p+f)break;s[p+f]==c?f=1:l[p+m]==c?m=1:(r=s.indexOf(l[p+m]),h=d.get(s[p+f]),a=d.get(l[p+m]),this.options.groupOrderSwap(h,a,d),d.update(h),d.update(a),h=s[p+f],s[p+f]=l[p+m],s[r]=h,p++)}}}},v.prototype._onGroupDragEnd=function(t){var h,d,l;this.options.groupEditable.order&&this.groupTouchParams.group&&(t.stopPropagation(),d=(h=this).groupTouchParams.group.groupId,l=h.groupsData.getDataSet(),t=g.extend({},l.get(d)),h.options.onMoveGroup(t,function(t){if(t)t[l._fieldId]=d,l.update(t);else{var e=l.getIds({order:h.options.groupOrder});if(!g.equalArray(e,h.groupTouchParams.originalOrder))for(var i=h.groupTouchParams.originalOrder,o=Math.min(i.length,e.length),n=0;n<o;){for(;n<o&&e[n]==i[n];)n++;if(o<=n)break;var s=e.indexOf(i[n]),r=l.get(e[n]),a=l.get(i[n]),r=(h.options.groupOrderSwap(r,a,l),groupsData.update(r),groupsData.update(a),e[n]);e[n]=i[n],e[s]=r,n++}}}),h.body.emitter.emit("groupDragged",{groupId:d}))},v.prototype._onSelectItem=function(t){var e,i;this.options.selectable&&(e=t.srcEvent&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey),i=t.srcEvent&&t.srcEvent.shiftKey,e||i?this._onMultiSelectItem(t):(e=this.getSelection(),i=(i=this.itemFromTarget(t))?[i.id]:[],this.setSelection(i),(0<(i=this.getSelection()).length||0<e.length)&&this.body.emitter.emit("select",{items:i,event:t})))},v.prototype._onMouseOver=function(t){var e=this.itemFromTarget(t);e&&this.body.emitter.emit("itemover",{item:e.id,event:t})},v.prototype._onMouseOut=function(t){var e=this.itemFromTarget(t);e&&this.body.emitter.emit("itemout",{item:e.id,event:t})},v.prototype._onAddItem=function(e){var i,t,o,n,s,r,a,h;this.options.selectable&&this.options.editable.add&&(t=(i=this).options.snap||null,(o=this.itemFromTarget(e))?(h=i.itemsData.get(o.id),this.options.onUpdate(h,function(t){t&&i.itemsData.getDataSet().update(t)})):(o=this.options.rtl?(r=g.getAbsoluteRight(this.dom.frame))-e.center.x:(r=g.getAbsoluteLeft(this.dom.frame),e.center.x-r),r=this.body.util.toTime(o),n=this.body.util.getScale(),s=this.body.util.getStep(),r={start:t?t(r,n,s):r,content:"new item"},"drop"==e.type?(h=JSON.parse(e.dataTransfer.getData("text/plain")),r.content=h.content,r.type=h.type||"box",r[this.itemsData._fieldId]=h.id||g.randomUUID(),("range"==h.type||h.end&&h.start)&&(h.end?r.end=new Date(r.start._i).getTime()+new Date(h.end).getTime()-new Date(h.start).getTime():(a=this.body.util.toTime(o+this.props.width/5),r.end=t?t(a,n,s):a))):(r[this.itemsData._fieldId]=g.randomUUID(),"range"===this.options.type&&(a=this.body.util.toTime(o+this.props.width/5),r.end=t?t(a,n,s):a)),(h=this.groupFromTarget(e))&&(r.group=h.groupId),r=this._cloneItemData(r),this.options.onAdd(r,function(t){t&&(i.itemsData.getDataSet().add(t),"drop"==e.type)&&i.setSelection([t.id])})))},v.prototype._onMultiSelectItem=function(t){if(this.options.selectable){var e=this.itemFromTarget(t);if(e){var i=this.options.multiselect?this.getSelection():[];if((t.srcEvent&&t.srcEvent.shiftKey||!1)&&this.options.multiselect){var o,n,s=this.itemsData.get(e.id).group,r=void 0,a=(this.options.multiselectPerGroup&&0<i.length&&(r=this.itemsData.get(i[0]).group),this.options.multiselectPerGroup&&null!=r&&r!=s||i.push(e.id),v._getItemRange(this.itemsData.get(i,this.itemOptions)));if(!this.options.multiselectPerGroup||r==s)for(var h in i=[],this.items)this.items.hasOwnProperty(h)&&(o=(h=this.items[h]).data.start,n=void 0!==h.data.end?h.data.end:o,!(o>=a.min&&n<=a.max)||this.options.multiselectPerGroup&&r!=this.itemsData.get(h.id).group||h instanceof f||i.push(h.id))}else{s=i.indexOf(e.id);-1==s?i.push(e.id):i.splice(s,1)}this.setSelection(i),this.body.emitter.emit("select",{items:this.getSelection(),event:t})}}},v._getItemRange=function(t){var e=null,i=null;return t.forEach(function(t){(null==i||t.start<i)&&(i=t.start),null!=t.end?(null==e||t.end>e)&&(e=t.end):(null==e||t.start>e)&&(e=t.start)}),{min:i,max:e}},v.prototype.itemFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-item"))return e["timeline-item"];e=e.parentNode}return null},v.prototype.groupFromTarget=function(t){for(var e=t.center?t.center.y:t.clientY,i=0;i<this.groupIds.length;i++){var o=this.groupIds[i],o=this.groups[o],n=o.dom.foreground,s=g.getAbsoluteTop(n);if(s<e&&e<s+n.offsetHeight)return o;if("top"===this.options.orientation.item){if(i===this.groupIds.length-1&&s<e)return o}else if(0===i&&e<s+n.offset)return o}return null},v.itemSetFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-itemset"))return e["timeline-itemset"];e=e.parentNode}return null},v.prototype._cloneItemData=function(t,e){t=g.extend({},t);return e=e||this.itemsData.getDataSet()._options.type,null!=t.start&&(t.start=g.convert(t.start,e&&e.start||"Date")),null!=t.end&&(t.end=g.convert(t.end,e&&e.end||"Date")),t},t.exports=v},function(t,e,i){var n=i(2),o=i(34),s=i(1);function r(t,e,i,o){this.moment=n,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(t,e,i),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Array.isArray(o)?this.hiddenDates=o:this.hiddenDates=null!=o?[o]:[],this.format=r.FORMAT}r.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},r.prototype.setMoment=function(t){this.moment=t,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())},r.prototype.setFormat=function(t){var e=s.deepExtend({},r.FORMAT);this.format=s.deepExtend(e,t)},r.prototype.setRange=function(t,e,i){if(!(t instanceof Date&&e instanceof Date))throw"No legal start or end date in method setRange";this._start=null!=t?this.moment(t.valueOf()):new Date,this._end=null!=e?this.moment(e.valueOf()):new Date,this.autoScale&&this.setMinimumStep(i)},r.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},r.prototype.roundToMinor=function(){switch(this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}},r.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},r.prototype.next=function(){var t=this.current.valueOf();if(this.current.month()<6)switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.subtract(this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}else switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==t&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,o.stepOverHiddenDates(this.moment,this,t)},r.prototype.getCurrent=function(){return this.current},r.prototype.setScale=function(t){t&&"string"==typeof t.scale&&(this.scale=t.scale,this.step=0<t.step?t.step:1,this.autoScale=!1)},r.prototype.setAutoScale=function(t){this.autoScale=t},r.prototype.setMinimumStep=function(t){var e;null!=t&&(e=31104e6,t<31104e9&&(this.scale="year",this.step=1e3),t<15552e9&&(this.scale="year",this.step=500),t<31104e8&&(this.scale="year",this.step=100),t<50*e&&(this.scale="year",this.step=50),t<10*e&&(this.scale="year",this.step=10),t<5*e&&(this.scale="year",this.step=5),t<e&&(this.scale="year",this.step=1),t<7776e6&&(this.scale="month",this.step=3),t<2592e6&&(this.scale="month",this.step=1),t<432e6&&(this.scale="day",this.step=5),t<1728e5&&(this.scale="day",this.step=2),t<864e5&&(this.scale="day",this.step=1),t<432e5&&(this.scale="weekday",this.step=1),t<144e5&&(this.scale="hour",this.step=4),t<36e5&&(this.scale="hour",this.step=1),t<9e5&&(this.scale="minute",this.step=15),t<6e5&&(this.scale="minute",this.step=10),t<3e5&&(this.scale="minute",this.step=5),t<6e4&&(this.scale="minute",this.step=1),t<15e3&&(this.scale="second",this.step=15),t<1e4&&(this.scale="second",this.step=10),t<5e3&&(this.scale="second",this.step=5),t<1e3&&(this.scale="second",this.step=1),t<200&&(this.scale="millisecond",this.step=200),t<100&&(this.scale="millisecond",this.step=100),t<50&&(this.scale="millisecond",this.step=50),t<10&&(this.scale="millisecond",this.step=10),t<5&&(this.scale="millisecond",this.step=5),t<1)&&(this.scale="millisecond",this.step=1)},r.snap=function(t,e,i){var o=n(t);if("year"==e){var t=o.year()+Math.round(o.month()/12);o.year(Math.round(t/i)*i),o.month(0),o.date(0),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("month"==e)15<o.date()?(o.date(1),o.add(1,"month")):o.date(1),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0);else if("day"==e){switch(i){case 5:case 2:o.hours(24*Math.round(o.hours()/24));break;default:o.hours(12*Math.round(o.hours()/12))}o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("weekday"==e){switch(i){case 5:case 2:o.hours(12*Math.round(o.hours()/12));break;default:o.hours(6*Math.round(o.hours()/6))}o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("hour"==e)4===i?o.minutes(60*Math.round(o.minutes()/60)):o.minutes(30*Math.round(o.minutes()/30)),o.seconds(0),o.milliseconds(0);else if("minute"==e){switch(i){case 15:case 10:o.minutes(5*Math.round(o.minutes()/5)),o.seconds(0);break;case 5:o.seconds(60*Math.round(o.seconds()/60));break;default:o.seconds(30*Math.round(o.seconds()/30))}o.milliseconds(0)}else if("second"==e)switch(i){case 15:case 10:o.seconds(5*Math.round(o.seconds()/5)),o.milliseconds(0);break;case 5:o.milliseconds(1e3*Math.round(o.milliseconds()/1e3));break;default:o.milliseconds(500*Math.round(o.milliseconds()/500))}else"millisecond"==e&&(t=5<i?i/2:1,o.milliseconds(Math.round(o.milliseconds()/t)*t));return o},r.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var t=this.moment(this.current);switch(this.scale){case"millisecond":return 0==t.milliseconds();case"second":return 0==t.seconds();case"minute":return 0==t.hours()&&0==t.minutes();case"hour":return 0==t.hours();case"weekday":case"day":return 1==t.date();case"month":return 0==t.month();default:return!1}},r.prototype.getLabelMinor=function(t){var e;return null==t&&(t=this.current),"function"==typeof this.format.minorLabels?this.format.minorLabels(t,this.scale,this.step):(e=this.format.minorLabels[this.scale])&&0<e.length?this.moment(t).format(e):""},r.prototype.getLabelMajor=function(t){var e;return null==t&&(t=this.current),"function"==typeof this.format.majorLabels?this.format.majorLabels(t,this.scale,this.step):(e=this.format.majorLabels[this.scale])&&0<e.length?this.moment(t).format(e):""},r.prototype.getClassName=function(){var e=this.moment,t=this.moment(this.current),i=t.locale?t.locale("en"):t.lang("en"),o=this.step;function n(t){return t/o%2==0?" vis-even":" vis-odd"}function s(t){return t.isSame(new Date,"day")?" vis-today":t.isSame(e().add(1,"day"),"day")?" vis-tomorrow":t.isSame(e().add(-1,"day"),"day")?" vis-yesterday":""}function r(t){return t.isSame(new Date,"month")?" vis-current-month":""}switch(this.scale){case"millisecond":return s(i)+n(i.milliseconds()).trim();case"second":return s(i)+n(i.seconds()).trim();case"minute":return s(i)+n(i.minutes()).trim();case"hour":return"vis-h"+i.hours()+(4==this.step?"-h"+(i.hours()+4):"")+s(i)+n(i.hours());case"weekday":return"vis-"+i.format("dddd").toLowerCase()+s(i)+(i.isSame(new Date,"week")?" vis-current-week":"")+n(i.date());case"day":return"vis-day"+i.date()+" vis-"+i.format("MMMM").toLowerCase()+s(i)+r(i)+this.step<=2?s(i):""+this.step<=2?" vis-"+i.format("dddd").toLowerCase():""+n(i.date()-1);case"month":return"vis-"+i.format("MMMM").toLowerCase()+r(i)+n(i.month());case"year":var a=i.year();return"vis-year"+a+(i.isSame(new Date,"year")?" vis-current-year":"")+n(a);default:return""}},t.exports=r},function(t,e,i){var c=i(1),d=i(39);i(40);function o(t,e,i){this.groupId=t,this.subgroups={},this.subgroupIndex=0,this.subgroupOrderer=e&&e.subgroupOrder,this.itemSet=i,this.isVisible=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var o=this;this.itemSet.body.emitter.on("checkRangedItems",function(){o.checkRangedItems=!0}),this._create(),this.setData(e)}o.prototype._create=function(){var t=document.createElement("div"),e=(this.itemSet.options.groupEditable.order?t.className="vis-label draggable":t.className="vis-label",this.dom.label=t,document.createElement("div")),t=(e.className="vis-inner",t.appendChild(e),this.dom.inner=e,document.createElement("div"));t.className="vis-group",(t["timeline-group"]=this).dom.foreground=t,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.innerHTML="?",this.dom.background.appendChild(this.dom.marker)},o.prototype.setData=function(t){var e=this.itemSet.options&&this.itemSet.options.groupTemplate?(i=this.itemSet.options.groupTemplate.bind(this))(t,this.dom.inner):t&&t.content;if(e instanceof Element){for(this.dom.inner.appendChild(e);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(e)}else e instanceof Object?i(t,this.dom.inner):this.dom.inner.innerHTML=null!=e?e:this.groupId||"";this.dom.label.title=t&&t.title||"",this.dom.inner.firstChild?c.removeClassName(this.dom.inner,"vis-hidden"):c.addClassName(this.dom.inner,"vis-hidden");var i=t&&t.className||null;i!=this.className&&(this.className&&(c.removeClassName(this.dom.label,this.className),c.removeClassName(this.dom.foreground,this.className),c.removeClassName(this.dom.background,this.className),c.removeClassName(this.dom.axis,this.className)),c.addClassName(this.dom.label,i),c.addClassName(this.dom.foreground,i),c.addClassName(this.dom.background,i),c.addClassName(this.dom.axis,i),this.className=i),this.style&&(c.removeCssText(this.dom.label,this.style),this.style=null),t&&t.style&&(c.addCssText(this.dom.label,t.style),this.style=t.style)},o.prototype.getLabelWidth=function(){return this.props.label.width},o.prototype.redraw=function(t,e,i){var o,n=!1,s=this.dom.marker.clientHeight,s=(s!=this.lastMarkerHeight&&(this.lastMarkerHeight=s,c.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()}),i=!0),this._calculateSubGroupHeights(),this.isVisible=this._isGroupVisible(t,e),this.dom.foreground);if(this.top=s.offsetTop,this.right=s.offsetLeft,this.width=s.offsetWidth,this.isVisible=this._isGroupVisible(t,e),"function"==typeof this.itemSet.options.order?(i&&(c.forEach((o=this).items,function(t){t.displayed||(t.redraw(),o.visibleItems.push(t)),t.repositionX(!1)}),r=this.orderedItems.byStart.slice().sort(function(t,e){return o.itemSet.options.order(t.data,e.data)}),d.stack(r,e,!0)),this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,t)):(this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,t),this.itemSet.options.stack?d.stack(this.visibleItems,e,i):d.nostack(this.visibleItems,e,this.subgroups)),!this.isVisible&&this.height)return!1;var r=this._calculateHeight(e),s=this.dom.foreground;this.top=s.offsetTop,this.right=s.offsetLeft,this.width=s.offsetWidth,n=c.updateProperty(this,"height",r)||n,n=c.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||n,n=c.updateProperty(this.props.label,"height",this.dom.inner.clientHeight)||n,this.dom.background.style.height=r+"px",this.dom.foreground.style.height=r+"px",this.dom.label.style.height=r+"px";for(var a=0,h=this.visibleItems.length;a<h;a++)this.visibleItems[a].repositionY(e);return n},o.prototype._calculateSubGroupHeights=function(){var e;0<Object.keys(this.subgroups).length&&((e=this).resetSubgroups(),c.forEach(this.visibleItems,function(t){void 0!==t.data.subgroup&&(e.subgroups[t.data.subgroup].height=Math.max(e.subgroups[t.data.subgroup].height,t.height),e.subgroups[t.data.subgroup].visible=!0)}))},o.prototype._isGroupVisible=function(t,e){return this.top<=t.body.domProps.centerContainer.height-t.body.domProps.scrollTop+e.axis&&this.top+this.height+e.axis>=-t.body.domProps.scrollTop},o.prototype._calculateHeight=function(t){var e,i,o,n=this.visibleItems,n=0<n.length?(e=n[0].top,i=n[0].top+n[0].height,c.forEach(n,function(t){e=Math.min(e,t.top),i=Math.max(i,t.top+t.height)}),e>t.axis&&(o=e-t.axis,i-=o,c.forEach(n,function(t){t.top-=o})),i+t.item.vertical/2):0;return n=Math.max(n,this.props.label.height)},o.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},o.prototype.hide=function(){var t=this.dom.label,t=(t.parentNode&&t.parentNode.removeChild(t),this.dom.foreground),t=(t.parentNode&&t.parentNode.removeChild(t),this.dom.background),t=(t.parentNode&&t.parentNode.removeChild(t),this.dom.axis);t.parentNode&&t.parentNode.removeChild(t)},o.prototype.add=function(t){var e;(this.items[t.id]=t).setParent(this),void 0!==t.data.subgroup&&(void 0===this.subgroups[t.data.subgroup]&&(this.subgroups[t.data.subgroup]={height:0,visible:!1,index:this.subgroupIndex,items:[]},this.subgroupIndex++),this.subgroups[t.data.subgroup].items.push(t)),this.orderSubgroups(),-1==this.visibleItems.indexOf(t)&&(e=this.itemSet.body.range,this._checkIfVisible(t,this.visibleItems,e))},o.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var t=[];if("string"==typeof this.subgroupOrderer){for(var e in this.subgroups)t.push({subgroup:e,sortField:this.subgroups[e].items[0].data[this.subgroupOrderer]});t.sort(function(t,e){return t.sortField-e.sortField})}else if("function"==typeof this.subgroupOrderer){for(var e in this.subgroups)t.push(this.subgroups[e].items[0].data);t.sort(this.subgroupOrderer)}if(0<t.length)for(var i=0;i<t.length;i++)this.subgroups[t[i].subgroup].index=i}},o.prototype.resetSubgroups=function(){for(var t in this.subgroups)this.subgroups.hasOwnProperty(t)&&(this.subgroups[t].visible=!1)},o.prototype.remove=function(t){delete this.items[t.id],t.setParent(null);var e,i=this.visibleItems.indexOf(t);-1!=i&&this.visibleItems.splice(i,1),void 0!==t.data.subgroup&&(i=this.subgroups[t.data.subgroup])&&(e=i.items.indexOf(t),i.items.splice(e,1),i.items.length||(delete this.subgroups[t.data.subgroup],this.subgroupIndex--),this.orderSubgroups())},o.prototype.removeFromDataSet=function(t){this.itemSet.removeItem(t.id)},o.prototype.order=function(){for(var t=c.toArray(this.items),e=[],i=[],o=0;o<t.length;o++)void 0!==t[o].data.end&&i.push(t[o]),e.push(t[o]);this.orderedItems={byStart:e,byEnd:i},d.orderByStart(this.orderedItems.byStart),d.orderByEnd(this.orderedItems.byEnd)},o.prototype._updateVisibleItems=function(t,e,i){var o=[],n={};if(this.isVisible||"__background__"==this.groupId){var s=(i.end-i.start)/4,r=i.start-s,a=i.end+s,s=function(t){return t<r?-1:t<=a?0:1};if(0<e.length)for(l=0;l<e.length;l++)this._checkIfVisibleWithReference(e[l],o,n,i);var h=c.binarySearchCustom(t.byStart,s,"data","start");if(this._traceVisible(h,t.byStart,o,n,function(t){return t.data.start<r||t.data.start>a}),1==this.checkRangedItems)for(this.checkRangedItems=!1,l=0;l<t.byEnd.length;l++)this._checkIfVisibleWithReference(t.byEnd[l],o,n,i);else{h=c.binarySearchCustom(t.byEnd,s,"data","end");this._traceVisible(h,t.byEnd,o,n,function(t){return t.data.end<r||t.data.end>a})}for(l=0;l<o.length;l++)(d=o[l]).displayed||d.show(),d.repositionX()}else for(var d,l=0;l<e.length;l++)(d=e[l]).displayed&&d.hide();return o},o.prototype._traceVisible=function(t,e,i,o,n){if(-1!=t){for(var s=t;0<=s;s--){if(n(r=e[s]))break;void 0===o[r.id]&&(o[r.id]=!0,i.push(r))}for(var r,s=t+1;s<e.length;s++){if(n(r=e[s]))break;void 0===o[r.id]&&(o[r.id]=!0,i.push(r))}}},o.prototype._checkIfVisible=function(t,e,i){t.isVisible(i)?(t.displayed||t.show(),t.repositionX(),e.push(t)):t.displayed&&t.hide()},o.prototype._checkIfVisibleWithReference=function(t,e,i,o){t.isVisible(o)?void 0===i[t.id]&&(i[t.id]=!0,e.push(t)):t.displayed&&t.hide()},t.exports=o},function(t,l){l.orderByStart=function(t){t.sort(function(t,e){return t.data.start-e.data.start})},l.orderByEnd=function(t){t.sort(function(t,e){return("end"in t.data?t.data.end:t.data.start)-("end"in e.data?e.data.end:e.data.start)})},l.stack=function(t,e,i){var o,n;if(i)for(o=0,n=t.length;o<n;o++)t[o].top=null;for(o=0,n=t.length;o<n;o++){var s=t[o];if(s.stack&&null===s.top){s.top=e.axis;do{for(var r=null,a=0,h=t.length;a<h;a++){var d=t[a];if(null!==d.top&&d!==s&&d.stack&&l.collision(s,d,e.item,d.options.rtl)){r=d;break}}}while(null!=r&&(s.top=r.top+r.height+e.item.vertical),r)}}},l.nostack=function(t,e,i){for(var o,n=0,s=t.length;n<s;n++)if(void 0!==t[n].data.subgroup){for(var r in o=e.axis,i)i.hasOwnProperty(r)&&1==i[r].visible&&i[r].index<i[t[n].data.subgroup].index&&(o+=i[r].height+e.item.vertical);t[n].top=o}else t[n].top=e.axis},l.collision=function(t,e,i,o){return o?t.right-i.horizontal+.001<e.right+e.width&&t.right+t.width+i.horizontal-.001>e.right&&t.top-i.vertical+.001<e.top+e.height&&t.top+t.height+i.vertical-.001>e.top:t.left-i.horizontal+.001<e.left+e.width&&t.left+t.width+i.horizontal-.001>e.left&&t.top-i.vertical+.001<e.top+e.height&&t.top+t.height+i.vertical-.001>e.top}},function(t,e,i){i(22);var o=i(41);function n(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,this.options=i,t){if(null==t.start)throw new Error('Property "start" missing in item '+t.id);if(null==t.end)throw new Error('Property "end" missing in item '+t.id)}o.call(this,t,e,i)}(n.prototype=new o(null,null,null)).baseClassName="vis-item vis-range",n.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},n.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},(t=this.dom).box=document.createElement("div"),t.frame=document.createElement("div"),t.frame.className="vis-item-overflow",t.box.appendChild(t.frame),t.content=document.createElement("div"),t.content.className="vis-item-content",t.frame.appendChild(t.content),(t.box["timeline-item"]=this).dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.box)}this.displayed=!0,this.dirty&&(this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box),e=(this.options.editable.updateTime||this.options.editable.updateGroup||!0===this.editable)&&!1!==this.editable,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly"),t.box.className=this.baseClassName+e,this.overflow="hidden"!==window.getComputedStyle(t.frame).overflow,this.dom.content.style.maxWidth="none",this.props.content.width=this.dom.content.offsetWidth,this.height=this.dom.box.offsetHeight,this.dom.content.style.maxWidth="",this.dirty=!1),this._repaintOnItemUpdateTimeTooltip(t.box),this._repaintDeleteButton(t.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()},n.prototype.show=function(){this.displayed||this.redraw()},n.prototype.hide=function(){var t;this.displayed&&((t=this.dom.box).parentNode&&t.parentNode.removeChild(t),this.displayed=!1)},n.prototype.repositionX=function(t){var e,i=this.parent.width,o=this.conversion.toScreen(this.data.start),n=this.conversion.toScreen(this.data.end),s=(void 0!==t&&!0!==t||(o<-i&&(o=-i),2*i<n&&(n=2*i)),Math.max(n-o+.5,1)),r=this.overflow?(this.options.rtl?this.right=o:this.left=o,this.width=s+this.props.content.width,this.props.content.width):(this.options.rtl?this.right=o:this.left=o,this.width=s,Math.min(n-o,this.props.content.width));switch(this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=s+"px",this.options.align){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(s-r,0)+"px":this.dom.content.style.left=Math.max(s-r,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((s-r)/2,0)+"px":this.dom.content.style.left=Math.max((s-r)/2,0)+"px";break;default:e=this.overflow?0<n?Math.max(-o,0):-r:o<0?-o:0,this.options.rtl?this.dom.content.style.right=e+"px":(this.dom.content.style.left=e+"px",this.dom.content.style.width="calc(100% - "+e+"px)")}},n.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.box;e.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"},n.prototype._repaintDragLeft=function(){var t;this.selected&&this.options.editable.updateTime&&!this.dom.dragLeft?((t=document.createElement("div")).className="vis-drag-left",(t.dragLeftItem=this).dom.box.appendChild(t),this.dom.dragLeft=t):!this.selected&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},n.prototype._repaintDragRight=function(){var t;this.selected&&this.options.editable.updateTime&&!this.dom.dragRight?((t=document.createElement("div")).className="vis-drag-right",(t.dragRightItem=this).dom.box.appendChild(t),this.dom.dragRight=t):!this.selected&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},t.exports=n},function(t,e,i){var o=i(22),n=i(1),s=i(2);function r(t,e,i){this.id=null,this.parent=null,this.data=t,this.dom=null,this.conversion=e||{},this.options=i||{},this.selected=!1,this.displayed=!1,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this.data&&this.data.hasOwnProperty("editable")&&"boolean"==typeof this.data.editable&&(this.editable=t.editable)}r.prototype.stack=!0,r.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},r.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},r.prototype.setData=function(t){null!=t.group&&this.data.group!=t.group&&this.parent.itemSet._moveToGroup(this,t.group),t.hasOwnProperty("editable")&&"boolean"==typeof t.editable&&(this.editable=t.editable),this.data=t,this.dirty=!0,this.displayed&&this.redraw()},r.prototype.setParent=function(t){this.displayed?(this.hide(),this.parent=t,this.parent&&this.show()):this.parent=t},r.prototype.isVisible=function(t){return!1},r.prototype.show=function(){return!1},r.prototype.hide=function(){return!1},r.prototype.redraw=function(){},r.prototype.repositionX=function(){},r.prototype.repositionY=function(){},r.prototype._repaintDeleteButton=function(t){var e,i=(this.options.editable.remove||!0===this.data.editable)&&!1!==this.data.editable;this.selected&&i&&!this.dom.deleteButton?(e=this,i=document.createElement("div"),this.options.rtl?i.className="vis-delete-rtl":i.className="vis-delete",i.title="Delete this item",new o(i).on("tap",function(t){t.stopPropagation(),e.parent.removeFromDataSet(e)}),t.appendChild(i),this.dom.deleteButton=i):!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},r.prototype._repaintOnItemUpdateTimeTooltip=function(t){var e,i;this.options.tooltipOnItemUpdateTime&&(e=(this.options.editable.updateTime||!0===this.data.editable)&&!1!==this.data.editable,this.selected&&e&&!this.dom.onItemUpdateTimeTooltip?((e=document.createElement("div")).className="vis-onUpdateTime-tooltip",t.appendChild(e),this.dom.onItemUpdateTimeTooltip=e):!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null),this.dom.onItemUpdateTimeTooltip)&&(this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left,t=this.parent.itemSet.body.domProps.scrollTop,("top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height)+this.parent.top-50<-t?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px"),this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?i=this.options.tooltipOnItemUpdateTime.template.bind(this)(this.data):(i="start: "+s(this.data.start).format("MM/DD/YYYY hh:mm"),this.data.end&&(i+="<br> end: "+s(this.data.end).format("MM/DD/YYYY hh:mm"))),this.dom.onItemUpdateTimeTooltip.innerHTML=i)},r.prototype._updateContents=function(t){var e,i,o;if((o=this.options.template?(e=this.parent.itemSet.itemsData.get(this.id),(i=this.options.template.bind(this))(e,t)):this.data.content)instanceof Object&&!(o instanceof Element))i(e,t);else if(this._contentToString(this.content)!==this._contentToString(o)){if(o instanceof Element)t.innerHTML="",t.appendChild(o);else if(null!=o)t.innerHTML=o;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=o}},r.prototype._updateTitle=function(t){null!=this.data.title?t.title=this.data.title||"":t.removeAttribute("vis-title")},r.prototype._updateDataAttributes=function(t){if(this.options.dataAttributes&&0<this.options.dataAttributes.length){var e=[];if(Array.isArray(this.options.dataAttributes))e=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;e=Object.keys(this.data)}for(var i=0;i<e.length;i++){var o=e[i],n=this.data[o];null!=n?t.setAttribute("data-"+o,n):t.removeAttribute("data-"+o)}}},r.prototype._updateStyle=function(t){this.style&&(n.removeCssText(t,this.style),this.style=null),this.data.style&&(n.addCssText(t,this.data.style),this.style=this.data.style)},r.prototype._contentToString=function(t){return"string"!=typeof t&&t&&"outerHTML"in t?t.outerHTML:t},r.prototype.getWidthLeft=function(){return 0},r.prototype.getWidthRight=function(){return 0},r.prototype._repaintDragCenter=function(){var t;this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter?((t=document.createElement("div")).className="vis-drag-center",(t.dragCenterItem=this).dom.box?this.dom.box.appendChild(t):this.dom.point&&this.dom.point.appendChild(t),this.dom.dragCenter=t):!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null)},t.exports=r},function(t,e,i){i(1);var o=i(38);function n(t,e,i){o.call(this,t,e,i),this.width=0,this.height=0,this.top=0,this.left=0}(n.prototype=Object.create(o.prototype)).redraw=function(t,e,i){this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,t),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var o=0,n=this.visibleItems.length;o<n;o++)this.visibleItems[o].repositionY(e);return!1},n.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},t.exports=n},function(t,e,i){var o=i(41);i(1);function n(t,e,i){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=i,t&&null==t.start)throw new Error('Property "start" missing in item '+t);o.call(this,t,e,i)}(n.prototype=new o(null,null,null)).isVisible=function(t){var e=this.options.align,i=(t.end-t.start)/t.body.dom.center.clientWidth,i=this.width*i,e="right"==e?this.data.start.getTime()>t.start&&this.data.start.getTime()-i<t.end:"left"==e?this.data.start.getTime()+i>t.start&&this.data.start.getTime()<t.end:this.data.start.getTime()+i/2>t.start&&this.data.start.getTime()-i/2<t.end;return e},n.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},(t=this.dom).box=document.createElement("DIV"),t.content=document.createElement("DIV"),t.content.className="vis-item-content",t.box.appendChild(t.content),t.line=document.createElement("DIV"),t.line.className="vis-line",t.dot=document.createElement("DIV"),t.dot.className="vis-dot",(t.box["timeline-item"]=this).dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.box)}if(!t.line.parentNode){var i=this.parent.dom.background;if(!i)throw new Error("Cannot redraw item: parent has no background container element");i.appendChild(t.line)}if(!t.dot.parentNode){var e=this.parent.dom.axis;if(!i)throw new Error("Cannot redraw item: parent has no axis container element");e.appendChild(t.dot)}this.displayed=!0,this.dirty&&(this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box),i=(this.options.editable.updateTime||this.options.editable.updateGroup||!0===this.editable)&&!1!==this.editable,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(i?" vis-editable":" vis-readonly"),t.box.className="vis-item vis-box"+e,t.line.className="vis-item vis-line"+e,t.dot.className="vis-item vis-dot"+e,i=t.box.style.right,e=t.box.style.left,this.options.rtl?t.box.style.right="0px":t.box.style.left="0px",this.props.dot.height=t.dot.offsetHeight,this.props.dot.width=t.dot.offsetWidth,this.props.line.width=t.line.offsetWidth,this.width=t.box.offsetWidth,this.height=t.box.offsetHeight,this.options.rtl?t.box.style.right=i:t.box.style.left=e,this.dirty=!1),this._repaintOnItemUpdateTimeTooltip(t.box),this._repaintDragCenter(),this._repaintDeleteButton(t.box)},n.prototype.show=function(){this.displayed||this.redraw()},n.prototype.hide=function(){var t;this.displayed&&((t=this.dom).box.parentNode&&t.box.parentNode.removeChild(t.box),t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot),this.displayed=!1)},n.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start),e=this.options.align;"right"==e?this.options.rtl?(this.right=t-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width+"px",this.dom.dot.style.left=t-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==e?this.options.rtl?(this.right=t,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t+"px",this.dom.dot.style.right=t+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t+"px",this.dom.dot.style.left=t+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=t-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.dot.width/2+"px"):(this.left=t-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width/2+"px",this.dom.dot.style.left=t-this.props.dot.width/2+"px")},n.prototype.repositionY=function(){var t,e=this.options.orientation.item,i=this.dom.box,o=this.dom.line,n=this.dom.dot;"top"==e?(i.style.top=(this.top||0)+"px",o.style.top="0",o.style.height=this.parent.top+this.top+1+"px",o.style.bottom=""):(t=(e=this.parent.itemSet.props.height)-this.parent.top-this.parent.height+this.top,i.style.top=(this.parent.height-this.top-this.height||0)+"px",o.style.top=e-t+"px",o.style.bottom="0"),n.style.top=-this.props.dot.height/2+"px"},n.prototype.getWidthLeft=function(){return this.width/2},n.prototype.getWidthRight=function(){return this.width/2},t.exports=n},function(t,e,i){var o=i(41);function n(t,e,i){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=i,t&&null==t.start)throw new Error('Property "start" missing in item '+t);o.call(this,t,e,i)}(n.prototype=new o(null,null,null)).isVisible=function(t){var e=(t.end-t.start)/t.body.dom.center.clientWidth,e=this.width*e;return this.data.start.getTime()+e>t.start&&this.data.start<t.end},n.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},(t=this.dom).point=document.createElement("div"),t.content=document.createElement("div"),t.content.className="vis-item-content",t.point.appendChild(t.content),t.dot=document.createElement("div"),t.point.appendChild(t.dot),(t.point["timeline-item"]=this).dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.point.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.point)}this.displayed=!0,this.dirty&&(this._updateContents(this.dom.content),this._updateTitle(this.dom.point),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point),e=(this.options.editable.updateTime||this.options.editable.updateGroup||!0===this.editable)&&!1!==this.editable,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly"),t.point.className="vis-item vis-point"+e,t.dot.className="vis-item vis-dot"+e,this.props.dot.width=t.dot.offsetWidth,this.props.dot.height=t.dot.offsetHeight,this.props.content.height=t.content.offsetHeight,this.options.rtl?t.content.style.marginRight=2*this.props.dot.width+"px":t.content.style.marginLeft=2*this.props.dot.width+"px",this.width=t.point.offsetWidth,this.height=t.point.offsetHeight,t.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?t.dot.style.right=this.props.dot.width/2+"px":t.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1),this._repaintOnItemUpdateTimeTooltip(t.point),this._repaintDragCenter(),this._repaintDeleteButton(t.point)},n.prototype.show=function(){this.displayed||this.redraw()},n.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},n.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=t-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=t-this.props.dot.width,this.dom.point.style.left=this.left+"px")},n.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.point;e.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"},n.prototype.getWidthLeft=function(){return this.props.dot.width},n.prototype.getWidthRight=function(){return this.props.dot.width},t.exports=n},function(t,e,i){i(22);var o=i(41),l=i(42),i=i(40);function n(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,t){if(null==t.start)throw new Error('Property "start" missing in item '+t.id);if(null==t.end)throw new Error('Property "end" missing in item '+t.id)}o.call(this,t,e,i)}(n.prototype=new o(null,null,null)).baseClassName="vis-item vis-background",n.prototype.stack=!1,n.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},n.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},(t=this.dom).box=document.createElement("div"),t.frame=document.createElement("div"),t.frame.className="vis-item-overflow",t.box.appendChild(t.frame),t.content=document.createElement("div"),t.content.className="vis-item-content",t.frame.appendChild(t.content),this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(t.box)}this.displayed=!0,this.dirty&&(this._updateContents(this.dom.content),this._updateTitle(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box),e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":""),t.box.className=this.baseClassName+e,this.overflow="hidden"!==window.getComputedStyle(t.content).overflow,this.props.content.width=this.dom.content.offsetWidth,this.height=0,this.dirty=!1)},n.prototype.show=i.prototype.show,n.prototype.hide=i.prototype.hide,n.prototype.repositionX=i.prototype.repositionX,n.prototype.repositionY=function(t){var e,i="top"===this.options.orientation.item;if(this.dom.content.style.top=i?"":"0",this.dom.content.style.bottom=i?"0":"",void 0!==this.data.subgroup){var o=this.data.subgroup,n=this.parent.subgroups,s=n[o].index;if(1==i){e=this.parent.subgroups[o].height+t.item.vertical,e+=0==s?t.axis-.5*t.item.vertical:0;var r=this.parent.top;for(a in n)n.hasOwnProperty(a)&&1==n[a].visible&&n[a].index<s&&(r+=n[a].height+t.item.vertical);r+=0!=s?t.axis-.5*t.item.vertical:0,this.dom.box.style.top=r+"px"}else{var a,h,r=this.parent.top,d=0;for(a in n)n.hasOwnProperty(a)&&1==n[a].visible&&(d+=h=n[a].height+t.item.vertical,n[a].index>s)&&(r+=h);e=this.parent.subgroups[o].height+t.item.vertical,this.dom.box.style.top=this.parent.height-d+r+"px"}this.dom.box.style.bottom=""}else this.parent instanceof l?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.top=i?"0":"",this.dom.box.style.bottom=i?"":"0"):(e=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=e+"px"},t.exports=n},function(t,e,i){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g=i(1),n=i(33),y=i(37),v=i(34),s=i(2);function r(t,e){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:y.FORMAT,moment:s,timeAxis:null},this.options=g.extend({},this.defaultOptions),this.body=t,this._create(),this.setOptions(e)}(r.prototype=new n).setOptions=function(t){t&&(g.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,t),g.selectiveDeepExtend(["format"],this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.axis=t.orientation:"object"===o(t.orientation)&&"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis)),"locale"in t)&&("function"==typeof s.locale?s.locale(t.locale):s.lang(t.locale))},r.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},r.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},r.prototype.redraw=function(){var t=this.props,e=this.dom.foreground,i=this.dom.background,o="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,n=e.parentNode!==o,s=(this._calculateCharSize(),this.options.showMinorLabels&&"none"!==this.options.orientation.axis),r=this.options.showMajorLabels&&"none"!==this.options.orientation.axis,s=(t.minorLabelHeight=s?t.minorCharHeight:0,t.majorLabelHeight=r?t.majorCharHeight:0,t.height=t.minorLabelHeight+t.majorLabelHeight,t.width=e.offsetWidth,t.minorLineHeight=this.body.domProps.root.height-t.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom:this.body.domProps.top).height,t.minorLineWidth=1,t.majorLineHeight=t.minorLineHeight+t.majorLabelHeight,t.majorLineWidth=1,e.nextSibling),r=i.nextSibling;return e.parentNode&&e.parentNode.removeChild(e),i.parentNode&&i.parentNode.removeChild(i),e.style.height=this.props.height+"px",this._repaintLabels(),s?o.insertBefore(e,s):o.appendChild(e),r?this.body.dom.backgroundVertical.insertBefore(i,r):this.body.dom.backgroundVertical.appendChild(i),this._isResized()||n},r.prototype._repaintLabels=function(){var t,e,i,o,n,s=this.options.orientation.axis,r=g.convert(this.body.range.start,"Number"),a=g.convert(this.body.range.end,"Number"),h=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),h=h-v.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,h),d=(h-=this.body.util.toTime(0).valueOf(),new y(new Date(r),new Date(a),h,this.body.hiddenDates)),r=(d.setMoment(this.options.moment),this.options.format&&d.setFormat(this.options.format),this.options.timeAxis&&d.setScale(this.options.timeAxis),this.step=d,this.dom),l=(r.redundant.lines=r.lines,r.redundant.majorTexts=r.majorTexts,r.redundant.minorTexts=r.minorTexts,r.lines=[],r.majorTexts=[],r.minorTexts=[],0),c=void 0,u=0;for(d.start(),f=d.getCurrent(),p=this.body.util.toScreen(f);d.hasNext()&&u<1e3;){u++,e=d.isMajor(),n=d.getClassName(),o=d.getLabelMinor(),t=p,d.next();var p,f=d.getCurrent(),m=(d.isMajor(),.4*l<=(l=(p=this.body.util.toScreen(f))-t));this.options.showMinorLabels&&m&&(this._repaintMinorText(t,o,s,n).style.width=l+"px"),e&&this.options.showMajorLabels?(0<t&&(null==c&&(c=t),this._repaintMajorText(t,d.getLabelMajor(),s,n)),i=this._repaintMajorLine(t,l,s,n)):m?i=this._repaintMinorLine(t,l,s,n):i&&(i.style.width=parseInt(i.style.width)+l+"px")}1e3===u&&0,this.options.showMajorLabels&&(a=this.body.util.toTime(0),r=(h=d.getLabelMajor(a)).length*(this.props.majorCharWidth||10)+10,null==c||r<c)&&this._repaintMajorText(0,h,s,n),g.forEach(this.dom.redundant,function(t){for(;t.length;){var e=t.pop();e&&e.parentNode&&e.parentNode.removeChild(e)}})},r.prototype._repaintMinorText=function(t,e,i,o){var n,s=this.dom.redundant.minorTexts.shift();return s||(n=document.createTextNode(""),(s=document.createElement("div")).appendChild(n),this.dom.foreground.appendChild(s)),this.dom.minorTexts.push(s),s.childNodes[0].nodeValue=e,s.style.top="top"==i?this.props.majorLabelHeight+"px":"0",this.options.rtl?(s.style.left="",s.style.right=t+"px"):s.style.left=t+"px",s.className="vis-text vis-minor "+o,s},r.prototype._repaintMajorText=function(t,e,i,o){var n,s=this.dom.redundant.majorTexts.shift();return s||(n=document.createTextNode(e),(s=document.createElement("div")).appendChild(n),this.dom.foreground.appendChild(s)),this.dom.majorTexts.push(s),s.childNodes[0].nodeValue=e,s.className="vis-text vis-major "+o,s.style.top="top"==i?"0":this.props.minorLabelHeight+"px",this.options.rtl?(s.style.left="",s.style.right=t+"px"):s.style.left=t+"px",s},r.prototype._repaintMinorLine=function(t,e,i,o){var n=this.dom.redundant.lines.shift(),s=(n||(n=document.createElement("div"),this.dom.background.appendChild(n)),this.dom.lines.push(n),this.props);return n.style.top="top"==i?s.majorLabelHeight+"px":this.body.domProps.top.height+"px",n.style.height=s.minorLineHeight+"px",this.options.rtl?(n.style.left="",n.style.right=t-s.minorLineWidth/2+"px",n.className="vis-grid vis-vertical-rtl vis-minor "+o):(n.style.left=t-s.minorLineWidth/2+"px",n.className="vis-grid vis-vertical vis-minor "+o),n.style.width=e+"px",n},r.prototype._repaintMajorLine=function(t,e,i,o){var n=this.dom.redundant.lines.shift(),s=(n||(n=document.createElement("div"),this.dom.background.appendChild(n)),this.dom.lines.push(n),this.props);return n.style.top="top"==i?"0":this.body.domProps.top.height+"px",this.options.rtl?(n.style.left="",n.style.right=t-s.majorLineWidth/2+"px",n.className="vis-grid vis-vertical-rtl vis-major "+o):(n.style.left=t-s.majorLineWidth/2+"px",n.className="vis-grid vis-vertical vis-major "+o),n.style.height=s.majorLineHeight+"px",n.style.width=e+"px",n};r.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};t.exports=r},function(t,e,i){var o=i(25),n=i(13),s=i(22),r=i(1);function a(e){this.active=!1,this.dom={container:e},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=s(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var i=this;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(t){i.hammer.on(t,function(t){t.stopPropagation()})}),document&&document.body&&(this.onClick=function(t){!function(t,e){for(;t;){if(t===e)return 1;t=t.parentNode}return}(t.target,e)&&i.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=o(),this.escListener=this.deactivate.bind(this)}n(a.prototype),a.current=null,a.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},a.prototype.activate=function(){a.current&&a.current.deactivate(),(a.current=this).active=!0,this.dom.overlay.style.display="none",r.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},a.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",r.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},a.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()},t.exports=a},function(t,e,i){var o=i(22),n=i(1),s=i(33),r=i(2),a=i(49);function h(t,e){this.body=t,this.defaultOptions={moment:r,locales:a,locale:"en",id:void 0,title:void 0},this.options=n.extend({},this.defaultOptions),e&&e.time?this.customTime=e.time:this.customTime=new Date,this.eventParams={},this.setOptions(e),this._create()}(h.prototype=new s).setOptions=function(t){t&&n.selectiveExtend(["moment","locale","locales","id"],this.options,t)},h.prototype._create=function(){var t=document.createElement("div"),e=(t["custom-time"]=this,t.className="vis-custom-time "+(this.options.id||""),t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t,document.createElement("div"));e.style.position="relative",e.style.top="0px",e.style.left="-10px",e.style.height="100%",e.style.width="20px",t.appendChild(e),this.hammer=new o(e),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:o.DIRECTION_HORIZONTAL})},h.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},h.prototype.redraw=function(){var t=this.body.dom.backgroundVertical,t=(this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar)),this.body.util.toScreen(this.customTime)),e=this.options.locales[this.options.locale],i=(e||(this.warned||(this.warned=!0),e=this.options.locales.en),this.options.title);return void 0===i&&(i=(i=e.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")).charAt(0).toUpperCase()+i.substring(1)),this.bar.style.left=t+"px",this.bar.title=i,!1},h.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},h.prototype.setCustomTime=function(t){this.customTime=n.convert(t,"Date"),this.redraw()},h.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},h.prototype.setCustomTitle=function(t){this.options.title=t},h.prototype._onDragStart=function(t){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,t.stopPropagation()},h.prototype._onDrag=function(t){var e;this.eventParams.dragging&&(e=this.body.util.toScreen(this.eventParams.customTime)+t.deltaX,e=this.body.util.toTime(e),this.setCustomTime(e),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf())}),t.stopPropagation())},h.prototype._onDragEnd=function(t){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf())}),t.stopPropagation())},h.customTimeFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("custom-time"))return e["custom-time"];e=e.parentNode}return null},t.exports=h},function(t,e){e.en={current:"current",time:"time"},e.en_EN=e.en,e.en_US=e.en,e.it={current:"attuale",time:"tempo"},e.it_IT=e.it,e.it_CH=e.it,e.nl={current:"huidige",time:"tijd"},e.nl_NL=e.nl,e.nl_BE=e.nl,e.de={current:"Aktuelle",time:"Zeit"},e.de_DE=e.de},function(t,e,i){var o=i(1),n=i(33),s=i(2),r=i(49);function a(t,e){this.body=t,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:s,locales:r,locale:"en"},this.options=o.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(e)}(a.prototype=new n)._create=function(){var t=document.createElement("div");t.className="vis-current-time",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t},a.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},a.prototype.setOptions=function(t){t&&o.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,t)},a.prototype.redraw=function(){var t,e,i;return this.options.showCurrentTime?(t=this.body.dom.backgroundVertical,this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar),this.start()),t=this.options.moment((new Date).valueOf()+this.offset),e=this.body.util.toScreen(t),(i=this.options.locales[this.options.locale])||(this.warned||(this.warned=!0),i=this.options.locales.en),i=(i=i.current+" "+i.time+": "+t.format("dddd, MMMM Do YYYY, H:mm:ss")).charAt(0).toUpperCase()+i.substring(1),this.options.rtl?this.bar.style.right=e+"px":this.bar.style.left=e+"px",this.bar.title=i):(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop()),!1},a.prototype.start=function(){var i=this;!function t(){i.stop();var e=1/i.body.range.conversion(i.body.domProps.center.width).scale/10;1e3<(e=e<30?30:e)&&(e=1e3),i.redraw(),i.body.emitter.emit("currentTimeTick"),i.currentTimeTimer=setTimeout(t,e)}()},a.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},a.prototype.setCurrentTime=function(t){var t=o.convert(t,"Date").valueOf(),e=(new Date).valueOf();this.offset=t-e,this.redraw()},a.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},t.exports=a},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",n="number",s="date",r="object",a="moment";e.allOptions={configure:{enabled:{boolean:o},filter:{boolean:o,function:"function"},container:{dom:"dom"},__type__:{object:r,boolean:o,function:"function"}},align:{string:i},rtl:{boolean:o,undefined:"undefined"},verticalScroll:{boolean:o,undefined:"undefined"},horizontalScroll:{boolean:o,undefined:"undefined"},autoResize:{boolean:o},clickToUse:{boolean:o},dataAttributes:{string:i,array:"array"},editable:{add:{boolean:o,undefined:"undefined"},remove:{boolean:o,undefined:"undefined"},updateGroup:{boolean:o,undefined:"undefined"},updateTime:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:r}},end:{number:n,date:s,string:i,moment:a},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:r,function:"function"}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:r,function:"function"}},__type__:{object:r}},moment:{function:"function"},groupOrder:{string:i,function:"function"},groupEditable:{add:{boolean:o,undefined:"undefined"},remove:{boolean:o,undefined:"undefined"},order:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:r}},groupOrderSwap:{function:"function"},height:{string:i,number:n},hiddenDates:{start:{date:s,number:n,string:i,moment:a},end:{date:s,number:n,string:i,moment:a},repeat:{string:i},__type__:{object:r,array:"array"}},itemsAlwaysDraggable:{boolean:o},locale:{string:i},locales:{__any__:{any:"any"},__type__:{object:r}},margin:{axis:{number:n},item:{horizontal:{number:n,undefined:"undefined"},vertical:{number:n,undefined:"undefined"},__type__:{object:r,number:n}},__type__:{object:r,number:n}},max:{date:s,number:n,string:i,moment:a},maxHeight:{number:n,string:i},maxMinorChars:{number:n},min:{date:s,number:n,string:i,moment:a},minHeight:{number:n,string:i},moveable:{boolean:o},multiselect:{boolean:o},multiselectPerGroup:{boolean:o},onAdd:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},order:{function:"function"},orientation:{axis:{string:i,undefined:"undefined"},item:{string:i,undefined:"undefined"},__type__:{string:i,object:r}},selectable:{boolean:o},showCurrentTime:{boolean:o},showMajorLabels:{boolean:o},showMinorLabels:{boolean:o},stack:{boolean:o},snap:{function:"function",null:"null"},start:{date:s,number:n,string:i,moment:a},template:{function:"function"},groupTemplate:{function:"function"},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:o,object:r}},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:n,undefined:"undefined"},__type__:{object:r}},type:{string:i},width:{string:i,number:n},zoomable:{boolean:o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:n},zoomMin:{number:n},__type__:{object:r}},e.configureOptions={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,start:"",tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}}},function(t,e,i){var o=s(i(28)),n=s(i(31));function s(t){return t&&t.__esModule?t:{default:t}}i(13),i(22);var r=i(2),h=i(1),a=i(9),d=i(11),l=i(32),c=i(35),u=i(46),p=i(50),f=i(48),m=i(53),g=(i(31).printStyle,i(61).allOptions),y=i(61).configureOptions;function v(t,e,i,o){!(Array.isArray(i)||i instanceof a||i instanceof d)&&i instanceof Object&&(n=o,o=i,i=n);var n,s=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:r,width:null,height:null,maxHeight:null,minHeight:null},this.options=h.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:s._toScreen.bind(s),toGlobalScreen:s._toGlobalScreen.bind(s),toTime:s._toTime.bind(s),toGlobalTime:s._toGlobalTime.bind(s)}},this.range=new l(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new u(this.body),this.components.push(this.timeAxis),this.currentTime=new p(this.body),this.components.push(this.currentTime),this.linegraph=new m(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(t){s.emit("click",s.getEventProperties(t))}),this.on("doubletap",function(t){s.emit("doubleClick",s.getEventProperties(t))}),this.dom.root.oncontextmenu=function(t){s.emit("contextmenu",s.getEventProperties(t))},o&&this.setOptions(o),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}(v.prototype=new c).setOptions=function(t){n.default.validate(t,g);c.prototype.setOptions.call(this,t)},v.prototype.setItems=function(t){var e=null==this.itemsData,t=t?t instanceof a||t instanceof d?t:new a(t,{type:{start:"Date",end:"Date"}}):null;this.itemsData=t,this.linegraph&&this.linegraph.setItems(t),e&&(null!=this.options.start||null!=this.options.end?(t=null!=this.options.start?this.options.start:null,e=null!=this.options.end?this.options.end:null,this.setWindow(t,e,{animation:!1})):this.fit({animation:!1}))},v.prototype.setGroups=function(t){t=t?t instanceof a||t instanceof d?t:new a(t):null;this.groupsData=t,this.linegraph.setGroups(t)},v.prototype.getLegend=function(t,e,i){return void 0===e&&(e=15),void 0===i&&(i=15),void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].getLegend(e,i):"cannot find group:'"+t+"'"},v.prototype.isGroupVisible=function(t){return void 0!==this.linegraph.groups[t]&&this.linegraph.groups[t].visible&&(void 0===this.linegraph.options.groups.visibility[t]||1==this.linegraph.options.groups.visibility[t])},v.prototype.getDataRange=function(){var t,e=null,i=null;for(t in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(t)&&1==this.linegraph.groups[t].visible)for(var o=0;o<this.linegraph.groups[t].itemsData.length;o++)var n=this.linegraph.groups[t].itemsData[o],n=h.convert(n.x,"Date").valueOf(),e=null==e||n<e?n:e,i=null==i||i<n?n:i;return{min:null!=e?new Date(e):null,max:null!=i?new Date(i):null}},v.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY,e=e-h.getAbsoluteLeft(this.dom.centerContainer),i=i-h.getAbsoluteTop(this.dom.centerContainer),o=this._toTime(e),n=f.customTimeFromTarget(t),s=h.getTarget(t),r=null,n=(h.hasParent(s,this.timeAxis.dom.foreground)||this.timeAxis2&&h.hasParent(s,this.timeAxis2.dom.foreground)?r="axis":h.hasParent(s,this.linegraph.yAxisLeft.dom.frame)||h.hasParent(s,this.linegraph.yAxisRight.dom.frame)?r="data-axis":h.hasParent(s,this.linegraph.legendLeft.dom.frame)||h.hasParent(s,this.linegraph.legendRight.dom.frame)?r="legend":null!=n?r="custom-time":h.hasParent(s,this.currentTime.bar)?r="current-time":h.hasParent(s,this.dom.center)&&(r="background"),[]),s=this.linegraph.yAxisLeft,a=this.linegraph.yAxisRight;return s.hidden||n.push(s.screenToValue(i)),a.hidden||n.push(a.screenToValue(i)),{event:t,what:r,pageX:(t.srcEvent||t).pageX,pageY:(t.srcEvent||t).pageY,x:e,y:i,time:o,value:n}},v.prototype._createConfigurator=function(){return new o.default(this,this.dom.container,y)},t.exports=v},function(t,e,i){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p=i(1),l=i(8),s=i(9),r=i(11),n=i(33),a=i(54),h=i(56),d=i(60),c=i(57),u=i(59),f=i(58),m="__ungrouped__";function g(t,e){this.id=p.randomUUID(),this.body=t,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=p.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var o=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,i){o._onAdd(e.items)},update:function(t,e,i){o._onUpdate(e.items)},remove:function(t,e,i){o._onRemove(e.items)}},this.groupListeners={add:function(t,e,i){o._onAddGroups(e.items)},update:function(t,e,i){o._onUpdateGroups(e.items)},remove:function(t,e,i){o._onRemoveGroups(e.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){o.lastStart=o.body.range.start,o.svg.style.left=p.option.asSize(-o.props.width),o.forceGraphUpdate=!0,o.redraw.call(o)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}(g.prototype=new n)._create=function(){var t=document.createElement("div");t.className="vis-line-graph",this.dom.frame=t,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",t.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new a(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new a(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new d(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new d(this.body,this.options.legend,"right",this.options.groups),this.show()},g.prototype.setOptions=function(t){t&&(void 0===t.graphHeight&&void 0!==t.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==t.graphHeight&&parseInt((t.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),p.selectiveDeepExtend(["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"],this.options,t),p.mergeOptions(this.options,t,"interpolation"),p.mergeOptions(this.options,t,"drawPoints"),p.mergeOptions(this.options,t,"shaded"),p.mergeOptions(this.options,t,"legend"),t.interpolation&&"object"==o(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==t.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==t.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(m))&&this.groups[m].setOptions(t),this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},g.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},g.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},g.prototype.setItems=function(t){var e,i,o=this,n=this.itemsData;if(t){if(!(t instanceof s||t instanceof r))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;n&&(p.forEach(this.itemListeners,function(t,e){n.off(e,t)}),e=n.getIds(),this._onRemove(e)),this.itemsData&&(i=this.id,p.forEach(this.itemListeners,function(t,e){o.itemsData.on(e,t,i)}),e=this.itemsData.getIds(),this._onAdd(e))},g.prototype.setGroups=function(t){var e,i,o=this;if(this.groupsData){p.forEach(this.groupListeners,function(t,e){o.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null;for(var n=0;n<e.length;n++)this._removeGroup(e[n])}if(t){if(!(t instanceof s||t instanceof r))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;this.groupsData&&(i=this.id,p.forEach(this.groupListeners,function(t,e){o.groupsData.on(e,t,i)}),e=this.groupsData.getIds(),this._onAddGroups(e))},g.prototype._onUpdate=function(t){this._updateAllGroupData()},g.prototype._onAdd=function(t){this._onUpdate(t)},g.prototype._onRemove=function(t){this._onUpdate(t)},g.prototype._onUpdateGroups=function(t){this._updateAllGroupData()},g.prototype._onAddGroups=function(t){this._onUpdateGroups(t)},g.prototype._onRemoveGroups=function(t){for(var e=0;e<t.length;e++)this._removeGroup(t[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},g.prototype._removeGroup=function(t){this.groups.hasOwnProperty(t)&&(("right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t),this.legendRight):(this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t),this.legendLeft)).redraw(),delete this.groups[t])},g.prototype._updateGroup=function(t,e){this.groups.hasOwnProperty(e)?(this.groups[e].update(t),("right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight)).removeGroup(e)):(this.groups[e]=new h(t,e,this.options,this.groupsUsingDefaultStyles),("right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft)).addGroup(e,this.groups[e])),this.legendLeft.redraw(),this.legendRight.redraw()},g.prototype._updateAllGroupData=function(){if(null!=this.itemsData){for(var t={},e=this.itemsData.get(),i={},o=0;o<e.length;o++){var n=(r=e[o]).group;i.hasOwnProperty(n=null==n?m:n)?i[n]++:i[n]=1}for(var s,o=0;o<e.length;o++){var r,n=(r=e[o]).group,a=(t.hasOwnProperty(n=null==n?m:n)||(t[n]=new Array(i[n])),p.bridgeObject(r)),h=(a.x=p.convert(r.x,"Date"),a.orginalY=r.y,a.y=Number(r.y),t[n].length-i[n]--);t[n][h]=a}for(n in this.groups)!this.groups.hasOwnProperty(n)||t.hasOwnProperty(n)||(t[n]=new Array(0));for(n in t)t.hasOwnProperty(n)&&(0==t[n].length?this.groups.hasOwnProperty(n)&&this._removeGroup(n):(s=void 0,null==(s=null!=this.groupsData?this.groupsData.get(n):s)&&(s={id:n,content:this.options.defaultGroup+n}),this._updateGroup(s,n),this.groups[n].setItems(t[n])));this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},g.prototype.redraw=function(){var t=!1,e=(this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,t=this._isResized()||t,this.body.range.end-this.body.range.start),i=e!=this.lastVisibleInterval;return this.lastVisibleInterval=e,1==t&&(this.svg.style.width=p.option.asSize(3*this.props.width),this.svg.style.left=p.option.asSize(-this.props.width),-1==(this.options.height+"").indexOf("%")&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==t||1==i||1==this.abortedGraphUpdate||1==this.forceGraphUpdate?(t=this._updateGraph()||t,this.forceGraphUpdate=!1):0!=this.lastStart&&(e=this.body.range.start-this.lastStart,i=this.body.range.end-this.body.range.start,0!=this.props.width)&&(i=this.props.width/i,this.svg.style.left=-this.props.width-e*i+"px"),this.legendLeft.redraw(),this.legendRight.redraw(),t},g.prototype._getSortedGroupIds=function(){var t,e,i=[];for(t in this.groups)!this.groups.hasOwnProperty(t)||1!=(e=this.groups[t]).visible||void 0!==this.options.groups.visibility[t]&&1!=this.options.groups.visibility[t]||i.push({id:t,zIndex:e.options.zIndex});p.insertSort(i,function(t,e){t=t.zIndex,e=e.zIndex;return(t=void 0===t?0:t)==(e=void 0===e?0:e)?0:t<e?-1:1});for(var o=new Array(i.length),n=0;n<i.length;n++)o[n]=i[n].id;return o},g.prototype._updateGraph=function(){if(l.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var t={},e=this.body.util.toGlobalTime(-this.body.domProps.root.width),i=this.body.util.toGlobalTime(2*this.body.domProps.root.width),o=this._getSortedGroupIds();if(0<o.length){var n={};for(this._getRelevantData(o,n,e,i),this._applySampling(o,n),r=0;r<o.length;r++)this._convertXcoordinates(n[o[r]]);if(this._getYRanges(o,n,t),1==this._updateYAxis(o,t))return l.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0;this.abortedGraphUpdate=!1;for(var s=void 0,r=0;r<o.length;r++)h=this.groups[o[r]],!0!==this.options.stack||"line"!==this.options.style||null!=h.options.excludeFromStacking&&h.options.excludeFromStacking||(null!=s&&(this._stack(n[h.id],n[s.id]),1==h.options.shaded.enabled)&&"group"!==h.options.shaded.orientation&&("top"==h.options.shaded.orientation&&"group"!==s.options.shaded.orientation?(s.options.shaded.orientation="group",s.options.shaded.groupId=h.id):(h.options.shaded.orientation="group",h.options.shaded.groupId=s.id)),s=h),this._convertYcoordinates(n[o[r]],h);var a,h,d={};for(r=0;r<o.length;r++)"line"===(h=this.groups[o[r]]).options.style&&1==h.options.shaded.enabled&&null!=(a=n[o[r]])&&0!=a.length&&(d.hasOwnProperty(o[r])||(d[o[r]]=u.calcPath(a,h)),"group"===h.options.shaded.orientation?(a=h.options.shaded.groupId,-1!==o.indexOf(a)&&(d.hasOwnProperty(a)||(d[a]=u.calcPath(n[a],this.groups[a])),u.drawShading(d[o[r]],h,d[a],this.framework))):u.drawShading(d[o[r]],h,void 0,this.framework));for(c.draw(o,n,this.framework),r=0;r<o.length;r++)if(h=this.groups[o[r]],0<n[o[r]].length)switch(h.options.style){case"line":d.hasOwnProperty(o[r])||(d[o[r]]=u.calcPath(n[o[r]],h)),u.draw(d[o[r]],h,this.framework);case"point":case"points":"point"!=h.options.style&&"points"!=h.options.style&&1!=h.options.drawPoints.enabled||f.draw(n[o[r]],h,this.framework)}}}return l.cleanupElements(this.svgElements),!1},g.prototype._stack=function(t,e){for(var i,o,n=0,s=0;s<t.length;s++){for(var r=void 0,a=void 0,h=n;h<e.length;h++){if(e[h].x===t[s].x){r=e[h],a=e[h],n=h;break}if(e[h].x>t[s].x){a=e[h],r=0==h?a:e[h-1],n=h;break}}void 0===a&&(r=e[e.length-1],a=e[e.length-1]),i=a.x-r.x,o=a.y-r.y,t[s].y=0==i?t[s].orginalY+a.y:t[s].orginalY+o/i*(t[s].x-r.x)+r.y}},g.prototype._getRelevantData=function(t,e,i,o){var n,s;if(0<t.length)for(n=0;n<t.length;n++){var r,a=(r=this.groups[t[n]]).getItems();if(1==r.options.sort){for(var h=function(t,e){return t.getTime()==e.getTime()?0:t<e?-1:1},d=Math.max(0,p.binarySearchValue(a,i,"x","before",h)),l=Math.min(a.length,p.binarySearchValue(a,o,"x","after",h)+1),c=(l<=0&&(l=a.length),new Array(l-d)),u=d;u<l;u++)s=r.itemsData[u],c[u-d]=s;e[t[n]]=c}else e[t[n]]=r.itemsData}},g.prototype._applySampling=function(t,e){if(0<t.length)for(var i=0;i<t.length;i++)if(1==this.groups[t[i]].options.sampling){var o=e[t[i]];if(0<o.length){for(var n=o.length,s=n/(this.body.util.toGlobalScreen(o[o.length-1].x)-this.body.util.toGlobalScreen(o[0].x)),r=Math.min(Math.ceil(.2*n),Math.max(1,Math.round(s))),a=new Array(n),h=0;h<n;h+=r)a[Math.round(h/r)]=o[h];e[t[i]]=a.splice(0,Math.round(n/r))}}},g.prototype._getYRanges=function(t,e,i){var o,n,s,r,a=[],h=[];if(0<t.length){for(s=0;s<t.length;s++)o=e[t[s]],r=this.groups[t[s]].options,0<o.length&&(n=this.groups[t[s]],!0===r.stack&&"bar"===r.style?"left"===r.yAxisOrientation?a=a.concat(n.getItems()):h=h.concat(n.getItems()):i[t[s]]=n.getYRange(o,t[s]));c.getStackedYRange(a,i,t,"__barStackLeft","left"),c.getStackedYRange(h,i,t,"__barStackRight","right")}},g.prototype._updateYAxis=function(t,e){var i,o,n=!1,s=!1,r=!1,a=1e9,h=1e9,d=-1e9,l=-1e9;if(0<t.length){for(var c=0;c<t.length;c++){var u=this.groups[t[c]];u&&"right"!=u.options.yAxisOrientation?(s=!0,d=-(a=1e9)):u&&u.options.yAxisOrientation&&(r=!0,l=-(h=1e9))}for(c=0;c<t.length;c++)e.hasOwnProperty(t[c])&&!0!==e[t[c]].ignore&&(i=e[t[c]].min,o=e[t[c]].max,"right"!=e[t[c]].yAxisOrientation?(s=!0,a=i<a?i:a,d=d<o?o:d):(r=!0,h=i<h?i:h,l=l<o?o:l));1==s&&this.yAxisLeft.setRange(a,d),1==r&&this.yAxisRight.setRange(h,l)}n=this._toggleAxisVisiblity(s,this.yAxisLeft)||n,n=this._toggleAxisVisiblity(r,this.yAxisRight)||n,1==r&&1==s?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!s,this.yAxisRight.masterAxis=this.yAxisLeft;0==this.yAxisRight.master&&(this.yAxisLeft.lineOffset=1==r?this.yAxisRight.width:0,n=this.yAxisLeft.redraw()||n);for(var n=this.yAxisRight.redraw()||n,p=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"],c=0;c<p.length;c++)-1!=t.indexOf(p[c])&&t.splice(t.indexOf(p[c]),1);return n},g.prototype._toggleAxisVisiblity=function(t,e){var i=!1;return 0==t?e.dom.frame.parentNode&&0==e.hidden&&(e.hide(),i=!0):e.dom.frame.parentNode||1!=e.hidden||(e.show(),i=!0),i},g.prototype._convertXcoordinates=function(t){for(var e=this.body.util.toScreen,i=0;i<t.length;i++)t[i].screen_x=e(t[i].x)+this.props.width,t[i].screen_y=t[i].y},g.prototype._convertYcoordinates=function(t,e){var i=this.yAxisLeft,o=Number(this.svg.style.height.replace("px",""));"right"==e.options.yAxisOrientation&&(i=this.yAxisRight);for(var n=0;n<t.length;n++)t[n].screen_y=Math.round(i.convertValue(t[n].y));e.setZeroPosition(Math.min(o,i.convertValue(0)))},t.exports=g},function(t,e,i){var s=i(1),r=i(8),o=i(33),a=i(55);function n(t,e,i,o){this.id=s.randomUUID(),this.body=t,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=o,this.linegraphSVG=i,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=s.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(e),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var n=this;this.body.emitter.on("verticalDrag",function(){n.dom.lineContainer.style.top=n.body.domProps.scrollTop+"px"})}(n.prototype=new o).addGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1},n.prototype.updateGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.amountOfGroups+=1),this.groups[t]=e},n.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],--this.amountOfGroups)},n.prototype.setOptions=function(t){var e;t&&(e=!1,this.options.orientation!=t.orientation&&void 0!==t.orientation&&(e=!0),s.selectiveDeepExtend(["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"],this.options,t),this.minWidth=Number((""+this.options.width).replace("px","")),!0===e)&&this.dom.frame&&(this.hide(),this.show())},n.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},n.prototype._redrawGroupIcons=function(){r.prepareElements(this.svgElements);var t=this.options.iconWidth,e=11.5,i="left"===this.options.orientation?4:this.width-t-4,o=Object.keys(this.groups);o.sort(function(t,e){return t<e?-1:1});for(var n=0;n<o.length;n++){var s=o[n];!0!==this.groups[s].visible||void 0!==this.linegraphOptions.visibility[s]&&!0!==this.linegraphOptions.visibility[s]||(this.groups[s].getLegend(t,15,this.framework,i,e),e+=19)}r.cleanupElements(this.svgElements),this.iconsRemoved=!1},n.prototype._cleanupIcons=function(){!1===this.iconsRemoved&&(r.prepareElements(this.svgElements),r.cleanupElements(this.svgElements),this.iconsRemoved=!0)},n.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left:this.body.dom.right).appendChild(this.dom.frame),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},n.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},n.prototype.setRange=function(t,e){this.range.start=t,this.range.end=e},n.prototype.redraw=function(){var t,e,i,o,n,s,r=!1,a=0;for(t in this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px",this.groups)!this.groups.hasOwnProperty(t)||!0!==this.groups[t].visible||void 0!==this.linegraphOptions.visibility[t]&&!0!==this.linegraphOptions.visibility[t]||a++;return 0===this.amountOfGroups||0===a?this.hide():(this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=!0===this.options.visible?Number((""+this.options.width).replace("px","")):0,e=this.props,(i=this.dom.frame).className="vis-data-axis",this._calculateCharSize(),o=this.options.orientation,n=this.options.showMinorLabels,s=this.options.showMajorLabels,e.minorLabelHeight=n?e.minorCharHeight:0,e.majorLabelHeight=s?e.majorCharHeight:0,e.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,e.minorLineHeight=1,e.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,e.majorLineHeight=1,"left"===o?(i.style.top="0",i.style.left="0",i.style.bottom="",i.style.width=this.width+"px",i.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(i.style.top="",i.style.bottom="0",i.style.left="0",i.style.width=this.width+"px",i.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),r=this._redrawLabels(),r=this._isResized()||r,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(o)),r},n.prototype._redrawLabels=function(){var o=this,n=(r.prepareElements(this.DOMelements.lines),r.prepareElements(this.DOMelements.labels),this.options.orientation),t=null!=this.options[n].range?this.options[n].range:{},e=!0,i=(null!=t.max&&(this.range.end=t.max,e=!1),!0);null!=t.min&&(this.range.start=t.min,i=!1),this.scale=new a(this.range.start,this.range.end,i,e,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[n].format),!1===this.master&&null!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0;this.scale.getLines().forEach(function(t){var e=t.y,i=t.major;o.options.showMinorLabels&&!1===i&&o._redrawLabel(e-2,t.val,n,"vis-y-axis vis-minor",o.props.minorCharHeight),i&&0<=e&&o._redrawLabel(e-2,t.val,n,"vis-y-axis vis-major",o.props.majorCharHeight),!0===o.master&&(i?o._redrawLine(e,n,"vis-grid vis-horizontal vis-major",o.options.majorLinesOffset,o.props.majorLineWidth):o._redrawLine(e,n,"vis-grid vis-horizontal vis-minor",o.options.minorLinesOffset,o.props.minorLineWidth))});t=0,void 0!==this.options[n].title&&void 0!==this.options[n].title.text&&(t=this.props.titleCharHeight),i=!0===this.options.icons?Math.max(this.options.iconWidth,t)+this.options.labelOffsetX+15:t+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-i&&!0===this.options.visible?(this.width=this.maxLabelSize+i,this.options.width=this.width+"px",r.cleanupElements(this.DOMelements.lines),r.cleanupElements(this.DOMelements.labels),this.redraw(),!0):this.maxLabelSize<this.width-i&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+i),this.options.width=this.width+"px",r.cleanupElements(this.DOMelements.lines),r.cleanupElements(this.DOMelements.labels),this.redraw(),!0):(r.cleanupElements(this.DOMelements.lines),r.cleanupElements(this.DOMelements.labels),!1)},n.prototype.convertValue=function(t){return this.scale.convertValue(t)},n.prototype.screenToValue=function(t){return this.scale.screenToValue(t)},n.prototype._redrawLabel=function(t,e,i,o,n){var s=r.getDOMElement("div",this.DOMelements.labels,this.dom.frame),o=(s.className=o,s.innerHTML=e,"left"===i?(s.style.left="-"+this.options.labelOffsetX+"px",s.style.textAlign="right"):(s.style.right="-"+this.options.labelOffsetX+"px",s.style.textAlign="left"),s.style.top=t-.5*n+this.options.labelOffsetY+"px",e+="",Math.max(this.props.majorCharWidth,this.props.minorCharWidth));this.maxLabelSize<e.length*o&&(this.maxLabelSize=e.length*o)},n.prototype._redrawLine=function(t,e,i,o,n){var s;!0===this.master&&((s=r.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer)).className=i,s.innerHTML="","left"===e?s.style.left=this.width-o+"px":s.style.right=this.width-o+"px",s.style.width=n+"px",s.style.top=t+"px")},n.prototype._redrawTitle=function(t){var e;r.prepareElements(this.DOMelements.title),void 0!==this.options[t].title&&void 0!==this.options[t].title.text&&((e=r.getDOMElement("div",this.DOMelements.title,this.dom.frame)).className="vis-y-axis vis-title vis-"+t,e.innerHTML=this.options[t].title.text,void 0!==this.options[t].title.style&&s.addCssText(e,this.options[t].title.style),"left"===t?e.style.left=this.props.titleCharHeight+"px":e.style.right=this.props.titleCharHeight+"px",e.style.width=this.height+"px"),r.cleanupElements(this.DOMelements.title)},n.prototype._calculateCharSize=function(){var t,e;"minorCharHeight"in this.props||(t=document.createTextNode("0"),(e=document.createElement("div")).className="vis-y-axis vis-minor vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.minorCharHeight=e.clientHeight,this.props.minorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)),"majorCharHeight"in this.props||(t=document.createTextNode("0"),(e=document.createElement("div")).className="vis-y-axis vis-major vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.majorCharHeight=e.clientHeight,this.props.majorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)),"titleCharHeight"in this.props||(t=document.createTextNode("0"),(e=document.createElement("div")).className="vis-y-axis vis-title vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.titleCharHeight=e.clientHeight,this.props.titleCharWidth=e.clientWidth,this.dom.frame.removeChild(e))},t.exports=n},function(t,e){function i(t,e,i,o,n,s){var r,a=6<arguments.length&&void 0!==arguments[6]&&arguments[6],h=7<arguments.length&&void 0!==arguments[7]&&arguments[7];this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=n,this.majorCharHeight=s,this._start=t,this._end=e,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=a,this.autoScaleStart=i,this.autoScaleEnd=o,this.formattingFunction=h,(i||o)&&(r=this,n=function(t){var e=t-t%(r.magnitudefactor*r.minorSteps[r.minorStepIdx]);return t%(r.magnitudefactor*r.minorSteps[r.minorStepIdx])>r.magnitudefactor*r.minorSteps[r.minorStepIdx]*.5?e+r.magnitudefactor*r.minorSteps[r.minorStepIdx]:e},i&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=n(this._start)),o&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=n(this._end)),this.determineScale())}i.prototype.setCharHeight=function(t){this.majorCharHeight=t},i.prototype.setHeight=function(t){this.containerHeight=t},i.prototype.determineScale=function(){for(var t=this._end-this._start,e=(this.scale=this.containerHeight/t,this.majorCharHeight/this.scale),i=0<t?Math.round(Math.log(t)/Math.LN10):0,t=(this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,i),0),o=!1,n=t=i<0?i:t;Math.abs(n)<=Math.abs(i);n++){this.magnitudefactor=Math.pow(10,n);for(var s=0;s<this.minorSteps.length;s++)if(e<=this.magnitudefactor*this.minorSteps[s]){o=!0,this.minorStepIdx=s;break}if(!0===o)break}},i.prototype.is_major=function(t){return t%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0},i.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},i.prototype.getFirstMajor=function(){var t=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(t-this._start%t)%t)},i.prototype.formatValue=function(t){var e=t.toPrecision(5);return"number"==typeof(e="function"==typeof this.formattingFunction?this.formattingFunction(t):e)?""+e:"string"==typeof e?e:t.toPrecision(5)},i.prototype.getLines=function(){for(var t=[],e=this.getStep(),i=(e-this._start%e)%e,o=this._start+i;1e-5<this._end-o;o+=e)o!=this._start&&t.push({major:this.is_major(o),y:this.convertValue(o),val:this.formatValue(o)});return t},i.prototype.followScale=function(t){for(var e=this.minorStepIdx,i=this._start,o=this._end,n=this,s=function(){n.magnitudefactor*=2},r=function(){n.magnitudefactor/=2},a=(t.minorStepIdx<=1&&this.minorStepIdx<=1||1<t.minorStepIdx&&1<this.minorStepIdx||(t.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2!=e&&s(),s):(this.minorStepIdx=2,1!=e&&r(),r))(),t.getLines(),t.convertValue(0)),h=t.getStep()*t.scale,d=!1,l=0;!d&&l++<5;){this.scale=h/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var c=this.containerHeight/this.scale,u=(this._start=i,this._end=this._start+c,this._end*this.scale),p=this.magnitudefactor*this.majorSteps[this.minorStepIdx],f=this.getFirstMajor()-t.getFirstMajor();this.zeroAlign?(this._end+=(a-u)/this.scale,this._start=this._end-c):(this.autoScaleStart?this._start-=f/this.scale:this._start+=p-f/this.scale,this._end=this._start+c),!this.autoScaleEnd&&this._end>o+1e-5?(r(),d=!1):d=this.autoScaleStart||!(this._start<i-1e-5)||this.zeroAlign&&0<=i?!(this.autoScaleStart&&this.autoScaleEnd&&c<o-i&&(s(),1)):(r(),!1)}},i.prototype.convertValue=function(t){return this.containerHeight-(t-this._start)*this.scale},i.prototype.screenToValue=function(t){return(this.containerHeight-t)/this.scale+this._start},t.exports=i},function(t,e,i){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=i(1),s=(i(8),i(57)),r=i(59),a=i(58);function h(t,e,i,o){this.id=e;this.options=n.selectiveBridgeObject(["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"],i),this.usingDefaultStyle=void 0===t.className,this.groupsUsingDefaultStyles=o,this.zeroPosition=0,this.update(t),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===t.visible||t.visible}h.prototype.setItems=function(t){null!=t?(this.itemsData=t,1==this.options.sort&&n.insertSort(this.itemsData,function(t,e){return t.x>e.x?1:-1})):this.itemsData=[]},h.prototype.getItems=function(){return this.itemsData},h.prototype.setZeroPosition=function(t){this.zeroPosition=t},h.prototype.setOptions=function(t){void 0!==t&&(n.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"],this.options,t),"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),n.mergeOptions(this.options,t,"interpolation"),n.mergeOptions(this.options,t,"drawPoints"),n.mergeOptions(this.options,t,"shaded"),t.interpolation)&&"object"==o(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))},h.prototype.update=function(t){this.group=t,this.content=t.content||"graph",this.className=t.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===t.visible||t.visible,this.style=t.style,this.setOptions(t.options)},h.prototype.getLegend=function(t,e,i,o,n){switch(null==i&&(i={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]}),null==o&&(o=0),null==n&&(n=.5*e),this.options.style){case"line":r.drawIcon(this,o,n,t,e,i);break;case"points":case"point":a.drawIcon(this,o,n,t,e,i);break;case"bar":s.drawIcon(this,o,n,t,e,i)}return{icon:i.svg,label:this.content,orientation:this.options.yAxisOrientation}},h.prototype.getYRange=function(t){for(var e=t[0].y,i=t[0].y,o=0;o<t.length;o++)e=e>t[o].y?t[o].y:e,i=i<t[o].y?t[o].y:i;return{min:e,max:i,yAxisOrientation:this.options.yAxisOrientation}},t.exports=h},function(t,e,i){var m=i(8),g=i(58);function y(t,e){}y.drawIcon=function(t,e,i,o,n,s){var r=.5*n,a=m.getSVGElement("rect",s.svgElements,s.svg),a=(a.setAttributeNS(null,"x",e),a.setAttributeNS(null,"y",i-r),a.setAttributeNS(null,"width",o),a.setAttributeNS(null,"height",2*r),a.setAttributeNS(null,"class","vis-outline"),Math.round(.3*o)),h=t.options.barChart.width/a,d=Math.round(.4*n),n=Math.round(.75*n),o=Math.round((o-2*a)/3);m.drawBar(e+.5*a+o,i+r-d-1,a,d,t.className+" vis-bar",s.svgElements,s.svg,t.style),m.drawBar(e+1.5*a+o+2,i+r-n-1,a,n,t.className+" vis-bar",s.svgElements,s.svg,t.style),1==t.options.drawPoints.enabled&&(h={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size/h,className:t.className},m.drawPoint(e+.5*a+o,i+r-d-1,h,s.svgElements,s.svg),m.drawPoint(e+1.5*a+o+2,i+r-n-1,h,s.svgElements,s.svg))},y.draw=function(t,e,i){for(var o,n,s,r=[],a={},h=0,d=0;d<t.length;d++)if("bar"===(l=i.groups[t[d]]).options.style&&!0===l.visible&&(void 0===i.options.groups.visibility[t[d]]||!0===i.options.groups.visibility[t[d]]))for(s=0;s<e[t[d]].length;s++)r.push({screen_x:e[t[d]][s].screen_x,screen_y:e[t[d]][s].screen_y,x:e[t[d]][s].x,y:e[t[d]][s].y,groupId:t[d],label:e[t[d]][s].label}),h+=1;if(0!==h)for(r.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x}),y._getDataIntersections(a,r),d=0;d<r.length;d++){var l,c,u,p=null!=(l=i.groups[r[d].groupId]).options.barChart.minWidth?l.options.barChart.minWidth:.1*l.options.barChart.width,f=0;void 0===a[c=r[d].screen_x]?(d+1<r.length&&(o=Math.abs(r[d+1].screen_x-c)),n=y._getSafeDrawData(o,l,p)):(u=d+(a[c].amount-a[c].resolved),a[c].resolved,u<r.length&&(o=Math.abs(r[u].screen_x-c)),n=y._getSafeDrawData(o,l,p),a[c].resolved+=1,!0===l.options.stack&&!0!==l.options.excludeFromStacking?r[d].screen_y<l.zeroPosition?(f=a[c].accumulatedNegative,a[c].accumulatedNegative+=l.zeroPosition-r[d].screen_y):(f=a[c].accumulatedPositive,a[c].accumulatedPositive+=l.zeroPosition-r[d].screen_y):!0===l.options.barChart.sideBySide&&(n.width=n.width/a[c].amount,n.offset+=a[c].resolved*n.width-.5*n.width*(a[c].amount+1))),m.drawBar(r[d].screen_x+n.offset,r[d].screen_y-f,n.width,l.zeroPosition-r[d].screen_y,l.className+" vis-bar",i.svgElements,i.svg,l.style),!0===l.options.drawPoints.enabled&&(u={screen_x:r[d].screen_x,screen_y:r[d].screen_y-f,x:r[d].x,y:r[d].y,groupId:r[d].groupId,label:r[d].label},g.draw([u],l,i,n.offset))}},y._getDataIntersections=function(t,e){for(var i,o=0;o<e.length;o++)o+1<e.length&&(i=Math.abs(e[o+1].screen_x-e[o].screen_x)),0===(i=0<o?Math.min(i,Math.abs(e[o-1].screen_x-e[o].screen_x)):i)&&(void 0===t[e[o].screen_x]&&(t[e[o].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),t[e[o].screen_x].amount+=1)},y._getSafeDrawData=function(t,e,i){var o,n;return t<e.options.barChart.width&&0<t?(o=t<i?i:t,n=0,"left"===e.options.barChart.align?n-=.5*t:"right"===e.options.barChart.align&&(n+=.5*t)):(o=e.options.barChart.width,n=0,"left"===e.options.barChart.align?n-=.5*e.options.barChart.width:"right"===e.options.barChart.align&&(n+=.5*e.options.barChart.width)),{width:o,offset:n}},y.getStackedYRange=function(t,e,i,o,n){var s;0<t.length&&(t.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x}),y._getDataIntersections(s={},t),e[o]=y._getStackedYRange(s,t),e[o].yAxisOrientation=n,i.push(o))},y._getStackedYRange=function(t,e){for(var i,o,n=e[0].screen_y,s=e[0].screen_y,r=0;r<e.length;r++)void 0===t[i=e[r].screen_x]?(n=n>e[r].screen_y?e[r].screen_y:n,s=s<e[r].screen_y?e[r].screen_y:s):e[r].screen_y<0?t[i].accumulatedNegative+=e[r].screen_y:t[i].accumulatedPositive+=e[r].screen_y;for(o in t)t.hasOwnProperty(o)&&(n=(n=n>t[o].accumulatedNegative?t[o].accumulatedNegative:n)>t[o].accumulatedPositive?t[o].accumulatedPositive:n,s=(s=s<t[o].accumulatedNegative?t[o].accumulatedNegative:s)<t[o].accumulatedPositive?t[o].accumulatedPositive:s);return{min:n,max:s}},t.exports=y},function(t,e,i){var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=i(8);function o(t,e){}function d(t,e){return{style:(e=void 0===e?{}:e).style||t.options.drawPoints.style,styles:e.styles||t.options.drawPoints.styles,size:e.size||t.options.drawPoints.size,className:e.className||t.className}}o.draw=function(t,e,i,o){o=o||0;for(var n,s=function(t,e){var i=void 0;t.options&&t.options.drawPoints&&t.options.drawPoints.onRender&&"function"==typeof t.options.drawPoints.onRender&&(i=t.options.drawPoints.onRender);e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&"function"==typeof e.group.options.drawPoints.onRender&&(i=e.group.options.drawPoints.onRender);return i}(i,e),r=0;r<t.length;r++)s?!0!==(n=s(t[r],e))&&"object"!==(void 0===n?"undefined":a(n))||h.drawPoint(t[r].screen_x+o,t[r].screen_y,d(e,n),i.svgElements,i.svg,t[r].label):h.drawPoint(t[r].screen_x+o,t[r].screen_y,d(e),i.svgElements,i.svg,t[r].label)},o.drawIcon=function(t,e,i,o,n,s){var n=.5*n,r=h.getSVGElement("rect",s.svgElements,s.svg);r.setAttributeNS(null,"x",e),r.setAttributeNS(null,"y",i-n),r.setAttributeNS(null,"width",o),r.setAttributeNS(null,"height",2*n),r.setAttributeNS(null,"class","vis-outline"),h.drawPoint(e+.5*o,i,d(t),s.svgElements,s.svg)},t.exports=o},function(t,e,i){var a=i(8);function o(t,e){}o.calcPath=function(t,e){if(null!=t&&0<t.length)return 1==e.options.interpolation.enabled?o._catmullRom(t,e):o._linear(t)},o.drawIcon=function(t,e,i,o,n,s){var n=.5*n,r=a.getSVGElement("rect",s.svgElements,s.svg);r.setAttributeNS(null,"x",e),r.setAttributeNS(null,"y",i-n),r.setAttributeNS(null,"width",o),r.setAttributeNS(null,"height",2*n),r.setAttributeNS(null,"class","vis-outline"),(r=a.getSVGElement("path",s.svgElements,s.svg)).setAttributeNS(null,"class",t.className),void 0!==t.style&&r.setAttributeNS(null,"style",t.style),r.setAttributeNS(null,"d","M"+e+","+i+" L"+(e+o)+","+i),1==t.options.shaded.enabled&&(r=a.getSVGElement("path",s.svgElements,s.svg),"top"==t.options.shaded.orientation?r.setAttributeNS(null,"d","M"+e+", "+(i-n)+"L"+e+","+i+" L"+(e+o)+","+i+" L"+(e+o)+","+(i-n)):r.setAttributeNS(null,"d","M"+e+","+i+" L"+e+","+(i+n)+" L"+(e+o)+","+(i+n)+"L"+(e+o)+","+i),r.setAttributeNS(null,"class",t.className+" vis-icon-fill"),void 0!==t.options.shaded.style)&&""!==t.options.shaded.style&&r.setAttributeNS(null,"style",t.options.shaded.style),1==t.options.drawPoints.enabled&&(n={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size,className:t.className},a.drawPoint(e+.5*o,i,n,s.svgElements,s.svg))},o.drawShading=function(t,e,i,o){var n,s,r;1==e.options.shaded.enabled&&(r=Number(o.svg.style.height.replace("px","")),o=a.getSVGElement("path",o.svgElements,o.svg),n="L",1==e.options.interpolation.enabled&&(n="C"),s=0,s="top"==e.options.shaded.orientation?0:"bottom"==e.options.shaded.orientation?r:Math.min(Math.max(0,e.zeroPosition),r),r="group"==e.options.shaded.orientation&&null!=i?"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,n,!1)+" L"+i[i.length-1][0]+","+i[i.length-1][1]+" "+this.serializePath(i,n,!0)+i[0][0]+","+i[0][1]+" Z":"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,n,!1)+" V"+s+" H"+t[0][0]+" Z",o.setAttributeNS(null,"class",e.className+" vis-fill"),void 0!==e.options.shaded.style&&o.setAttributeNS(null,"style",e.options.shaded.style),o.setAttributeNS(null,"d",r))},o.draw=function(t,e,i){var o;null!=t&&((i=a.getSVGElement("path",i.svgElements,i.svg)).setAttributeNS(null,"class",e.className),void 0!==e.style&&i.setAttributeNS(null,"style",e.style),o="L",1==e.options.interpolation.enabled&&(o="C"),i.setAttributeNS(null,"d","M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,o,!1)))},o.serializePath=function(t,e,i){if(t.length<2)return"";var o=e;if(i)for(var n=t.length-2;0<n;n--)o+=t[n][0]+","+t[n][1]+" ";else for(n=1;n<t.length;n++)o+=t[n][0]+","+t[n][1]+" ";return o},o._catmullRomUniform=function(t){for(var e,i,o,n,s=[],r=(s.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]),t.length),a=0;a<r-1;a++)o=0==a?t[0]:t[a-1],n=t[a],e=t[a+1],i=a+2<r?t[a+2]:e,o={screen_x:(-o.screen_x+6*n.screen_x+e.screen_x)*(1/6),screen_y:(-o.screen_y+6*n.screen_y+e.screen_y)*(1/6)},n={screen_x:(n.screen_x+6*e.screen_x-i.screen_x)*(1/6),screen_y:(n.screen_y+6*e.screen_y-i.screen_y)*(1/6)},s.push([o.screen_x,o.screen_y]),s.push([n.screen_x,n.screen_y]),s.push([e.screen_x,e.screen_y]);return s},o._catmullRom=function(t,e){var i=e.options.interpolation.alpha;if(0==i||void 0===i)return this._catmullRomUniform(t);for(var o,n,s,r,a,h,d,l,c,u,p,f,m=[],g=(m.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]),t.length),y=0;y<g-1;y++)r=0==y?t[0]:t[y-1],o=t[y],n=t[y+1],s=y+2<g?t[y+2]:n,p=Math.sqrt(Math.pow(r.screen_x-o.screen_x,2)+Math.pow(r.screen_y-o.screen_y,2)),u=Math.sqrt(Math.pow(o.screen_x-n.screen_x,2)+Math.pow(o.screen_y-n.screen_y,2)),c=Math.sqrt(Math.pow(n.screen_x-s.screen_x,2)+Math.pow(n.screen_y-s.screen_y,2)),d=Math.pow(c,i),c=Math.pow(c,2*i),l=Math.pow(u,i),u=Math.pow(u,2*i),f=Math.pow(p,i),p=Math.pow(p,2*i),0<(a=3*f*(f+l))&&(a=1/a),0<(h=3*d*(d+l))&&(h=1/h),r={screen_x:(-u*r.screen_x+(f=2*p+3*f*l+u)*o.screen_x+p*n.screen_x)*a,screen_y:(-u*r.screen_y+f*o.screen_y+p*n.screen_y)*a},p={screen_x:(c*o.screen_x+(f=2*c+3*d*l+u)*n.screen_x-u*s.screen_x)*h,screen_y:(c*o.screen_y+f*n.screen_y-u*s.screen_y)*h},0==r.screen_x&&0==r.screen_y&&(r=o),0==p.screen_x&&0==p.screen_y&&(p=n),m.push([r.screen_x,r.screen_y]),m.push([p.screen_x,p.screen_y]),m.push([n.screen_x,n.screen_y]);return m},o._linear=function(t){for(var e=[],i=0;i<t.length;i++)e.push([t[i].screen_x,t[i].screen_y]);return e},t.exports=o},function(t,e,i){var n=i(1),h=i(8),i=i(33);function o(t,e,i,o){this.body=t,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=i,this.options=n.extend({},this.defaultOptions),this.linegraphOptions=o,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}(o.prototype=new i).clear=function(){this.groups={},this.amountOfGroups=0},o.prototype.addGroup=function(t,e){1!=e.options.excludeFromLegend&&(this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1)},o.prototype.updateGroup=function(t,e){this.groups[t]=e},o.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],--this.amountOfGroups)},o.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},o.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},o.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},o.prototype.setOptions=function(t){n.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,t)},o.prototype.redraw=function(){var t=0,e=Object.keys(this.groups);e.sort(function(t,e){return t<e?-1:1});for(var i=0;i<e.length;i++){var o=e[i];1!=this.groups[o].visible||void 0!==this.linegraphOptions.visibility[o]&&1!=this.linegraphOptions.visibility[o]||t++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==t)this.hide();else{this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position?(this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom=""):(n=this.body.domProps.center.height-this.body.domProps.centerContainer.height,this.dom.frame.style.bottom=4+n+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""),0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());for(var n,s="",i=0;i<e.length;i++){o=e[i];1!=this.groups[o].visible||void 0!==this.linegraphOptions.visibility[o]&&1!=this.linegraphOptions.visibility[o]||(s+=this.groups[o].content+"<br />")}this.dom.textArea.innerHTML=s,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},o.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var t=Object.keys(this.groups),e=(t.sort(function(t,e){return t<e?-1:1}),h.resetElements(this.svgElements),window.getComputedStyle(this.dom.frame).paddingTop),e=Number(e.replace("px","")),i=e,o=this.options.iconSize,n=.75*this.options.iconSize,s=e+.5*n+3;this.svg.style.width=o+5+e+"px";for(var r=0;r<t.length;r++){var a=t[r];1!=this.groups[a].visible||void 0!==this.linegraphOptions.visibility[a]&&1!=this.linegraphOptions.visibility[a]||(this.groups[a].getLegend(o,n,this.framework,i,s),s+=n+this.options.iconSpacing)}}},t.exports=o},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",n="number",s="date",r="object",a="moment";e.allOptions={configure:{enabled:{boolean:o},filter:{boolean:o,function:"function"},container:{dom:"dom"},__type__:{object:r,boolean:o,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:i},sort:{boolean:o},sampling:{boolean:o},stack:{boolean:o},graphHeight:{string:i,number:n},shaded:{enabled:{boolean:o},orientation:{string:["bottom","top","zero","group"]},groupId:{object:r},__type__:{boolean:o,object:r}},style:{string:["line","bar","points"]},barChart:{width:{number:n},minWidth:{number:n},sideBySide:{boolean:o},align:{string:["left","center","right"]},__type__:{object:r}},interpolation:{enabled:{boolean:o},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:n},__type__:{object:r,boolean:o}},drawPoints:{enabled:{boolean:o},onRender:{function:"function"},size:{number:n},style:{string:["square","circle"]},__type__:{object:r,boolean:o,function:"function"}},dataAxis:{showMinorLabels:{boolean:o},showMajorLabels:{boolean:o},icons:{boolean:o},width:{string:i,number:n},visible:{boolean:o},alignZeros:{boolean:o},left:{range:{min:{number:n},max:{number:n},__type__:{object:r}},format:{function:"function"},title:{text:{string:i,number:n},style:{string:i},__type__:{object:r}},__type__:{object:r}},right:{range:{min:{number:n},max:{number:n},__type__:{object:r}},format:{function:"function"},title:{text:{string:i,number:n},style:{string:i},__type__:{object:r}},__type__:{object:r}},__type__:{object:r}},legend:{enabled:{boolean:o},icons:{boolean:o},left:{visible:{boolean:o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:r}},right:{visible:{boolean:o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:r}},__type__:{object:r,boolean:o}},groups:{visibility:{any:"any"},__type__:{object:r}},autoResize:{boolean:o},clickToUse:{boolean:o},end:{number:n,date:s,string:i,moment:a},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:r}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:r}},__type__:{object:r}},moment:{function:"function"},height:{string:i,number:n},hiddenDates:{start:{date:s,number:n,string:i,moment:a},end:{date:s,number:n,string:i,moment:a},repeat:{string:i},__type__:{object:r,array:"array"}},locale:{string:i},locales:{__any__:{any:"any"},__type__:{object:r}},max:{date:s,number:n,string:i,moment:a},maxHeight:{number:n,string:i},maxMinorChars:{number:n},min:{date:s,number:n,string:i,moment:a},minHeight:{number:n,string:i},moveable:{boolean:o},multiselect:{boolean:o},orientation:{string:i},showCurrentTime:{boolean:o},showMajorLabels:{boolean:o},showMinorLabels:{boolean:o},start:{date:s,number:n,string:i,moment:a},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:n,undefined:"undefined"},__type__:{object:r}},width:{string:i,number:n},zoomable:{boolean:o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:n},zoomMin:{number:n},zIndex:{number:n},__type__:{object:r}},e.configureOptions={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}}},function(t,i,e){i.util=e(1),i.DOMutil=e(8),i.DataSet=e(9),i.DataView=e(11),i.Queue=e(10),i.Network=e(63),i.network={Images:e(64),dotparser:e(120),gephiParser:e(121),allOptions:e(116)},i.network.convertDot=function(t){return i.network.dotparser.DOTToGraph(t)},i.network.convertGephi=function(t,e){return i.network.gephiParser.parseGephi(t,e)},i.moment=e(2),i.Hammer=e(22),i.keycharm=e(25)},function(t,e,i){var n=w(i(64)),s=w(i(65)),r=w(i(66)),a=w(i(86)),h=w(i(95)),d=w(i(104)),l=w(i(107)),c=w(i(108)),u=w(i(109)),p=w(i(110)),f=w(i(113)),m=w(i(114)),g=w(i(115)),o=w(i(28)),y=i(31),v=w(y),b=i(116),_=w(i(117));function w(t){return t&&t.__esModule?t:{default:t}}i(119);var y=i(13),x=i(1),k=(i(9),i(11),i(120)),O=i(121),D=i(47),S=i(122);function C(t,e,i){var o=this;if(!(this instanceof C))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:S,clickToUse:!1},x.extend(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new n.default(function(){return o.body.emitter.emit("_requestRedraw")}),this.groups=new s.default,this.canvas=new c.default(this.body),this.selectionHandler=new f.default(this.body,this.canvas),this.interactionHandler=new p.default(this.body,this.canvas,this.selectionHandler),this.view=new u.default(this.body,this.canvas),this.renderer=new l.default(this.body,this.canvas),this.physics=new h.default(this.body),this.layoutEngine=new m.default(this.body),this.clustering=new d.default(this.body),this.manipulation=new g.default(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new r.default(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new a.default(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new _.default(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(e)}y(C.prototype),C.prototype.setOptions=function(t){var e,i=this;void 0!==t&&(v.default.validate(t,b.allOptions),x.selectiveDeepExtend(["locale","locales","clickToUse"],this.options,t),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new o.default(this,this.body.container,b.configureOptions,this.canvas.pixelRatio)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled&&(x.deepExtend((e={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}}).nodes,this.nodesHandler.options),x.deepExtend(e.edges,this.edgesHandler.options),x.deepExtend(e.layout,this.layoutEngine.options),x.deepExtend(e.interaction,this.selectionHandler.options),x.deepExtend(e.interaction,this.renderer.options),x.deepExtend(e.interaction,this.interactionHandler.options),x.deepExtend(e.manipulation,this.manipulation.options),x.deepExtend(e.physics,this.physics.options),x.deepExtend(e.global,this.canvas.options),x.deepExtend(e.global,this.options),this.configurator.setModuleOptions(e)),void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new D(this.canvas.frame),this.activator.on("change",function(){i.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation"))},C.prototype._updateVisibleIndices=function(){var t,e,i=this.body.nodes,o=this.body.edges;for(t in this.body.nodeIndices=[],this.body.edgeIndices=[],i)i.hasOwnProperty(t)&&!1===i[t].options.hidden&&this.body.nodeIndices.push(i[t].id);for(e in o)o.hasOwnProperty(e)&&!1===o[e].options.hidden&&this.body.edgeIndices.push(o[e].id)},C.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",function(){t._updateVisibleIndices(),t.body.emitter.emit("_requestRedraw"),t.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")})},C.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');var e;this.setOptions(t&&t.options),t&&t.dot?(e=k.DOTToGraph(t.dot),this.setData(e)):t&&t.gephi?(e=O.parseGephi(t.gephi),this.setData(e)):(this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics"))},C.prototype.destroy=function(){for(var t in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)delete this.body.nodes[t];for(var e in this.body.edges)delete this.body.edges[e];x.recursiveDOMDelete(this.body.container)},C.prototype._updateValueRange=function(t){var e,i,o=void 0,n=void 0,s=0;for(e in t)t.hasOwnProperty(e)&&void 0!==(i=t[e].getValue())&&(o=void 0===o?i:Math.min(i,o),n=void 0===n?i:Math.max(i,n),s+=i);if(void 0!==o&&void 0!==n)for(e in t)t.hasOwnProperty(e)&&t[e].setValueRange(o,n,s)},C.prototype.isActive=function(){return!this.activator||this.activator.active},C.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},C.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},C.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},C.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},C.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},C.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},C.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},C.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},C.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},C.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},C.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},C.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},C.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},C.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},C.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},C.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},C.prototype.editNodeMode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},C.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},C.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},C.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},C.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},C.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},C.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},C.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},C.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},C.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},C.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},C.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},C.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},C.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},C.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},C.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},C.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},C.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},C.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},C.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},C.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},C.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},C.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},C.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},C.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},C.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},C.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},C.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},C.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},C.prototype.getOptionsFromConfigurator=function(){var t={};return t=this.configurator?this.configurator.getOptions.apply(this.configurator):t},t.exports=C},function(t,e){function o(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0});(function(t,e,i){e&&o(t.prototype,e),i&&o(t,i)})(n,[{key:"_addImageToCache",value:function(t,e){0===e.width&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e)),this.images[t]=e}},{key:"_tryloadBrokenUrl",value:function(t,e,i){var o=this;void 0!==t&&void 0!==e&&void 0!==i&&(i.onerror=function(){o._addImageToCache(t,new Image)},i.src=e)}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e,i){var o,n=this,s=this.images[t];return s||((o=new Image).onload=function(){n._addImageToCache(t,o),n._redrawWithImage(o)},o.onerror=function(){n._tryloadBrokenUrl(t,e,o)},o.src=t,o)}}]);var i=n;function n(t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.images={},this.imageBroken={},this.callback=t}e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=i(1),i=(o(r,[{key:"setOptions",value:function(t){var e,i=["useDefaultGroups"];if(void 0!==t)for(var o in t)t.hasOwnProperty(o)&&-1===i.indexOf(o)&&(e=t[o],this.add(o,e))}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(t){var e,i=this.groups[t];return void 0===i&&(!1===this.options.useDefaultGroups&&0<this.groupsArray.length?(e=this.groupIndex%this.groupsArray.length,this.groupIndex++,(i={}).color=this.groups[this.groupsArray[e]]):(e=this.defaultIndex%this.defaultGroups.length,this.defaultIndex++,(i={}).color=this.defaultGroups[e]),this.groups[t]=i),i}},{key:"add",value:function(t,e){return this.groups[t]=e,this.groupsArray.push(t),e}}]),r);function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},s.extend(this.options,this.defaultOptions)}e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=a(i(67)),r=a(i(68));function a(t){return t&&t.__esModule?t:{default:t}}var h=i(1),d=i(9),l=i(11),i=(o(c,[{key:"bindEventListeners",value:function(){var i=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){h.forEach(i.nodesListeners,function(t,e){i.body.data.nodes&&i.body.data.nodes.off(e,t)}),delete i.body.functions.createNode,delete i.nodesListeners.add,delete i.nodesListeners.update,delete i.nodesListeners.remove,delete i.nodesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){if(s.default.parseOptions(this.options,t),void 0!==t.shape)for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&this.body.nodes[e].updateShape();if(void 0!==t.font)for(var i in r.default.parseOptions(this.options.font,t),this.body.nodes)this.body.nodes.hasOwnProperty(i)&&(this.body.nodes[i].updateLabelModule(),this.body.nodes[i]._reset());if(void 0!==t.size)for(var o in this.body.nodes)this.body.nodes.hasOwnProperty(o)&&this.body.nodes[o]._reset();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var i,e=this,o=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=this.body.data.nodes;if(t instanceof d||t instanceof l)this.body.data.nodes=t;else if(Array.isArray(t))this.body.data.nodes=new d,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new d}n&&h.forEach(this.nodesListeners,function(t,e){n.off(e,t)}),this.body.nodes={},this.body.data.nodes&&(i=e,h.forEach(e.nodesListeners,function(t,e){i.body.data.nodes.on(e,t)}),t=e.body.data.nodes.getIds(),e.add(t,!0)),!1===o&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=[],o=0;o<t.length;o++){var n=t[o],s=this.body.data.nodes.get(n),s=this.create(s);i.push(s),this.body.nodes[n]=s}this.layoutEngine.positionInitially(i),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e){for(var i=this.body.nodes,o=!1,n=0;n<t.length;n++){var s=t[n],r=i[s],a=e[n];void 0!==r?o=r.setOptions(a):(o=!0,r=this.create(a),i[s]=r)}!0===o?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,i=0;i<t.length;i++)delete e[t[i]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){return new(1<arguments.length&&void 0!==arguments[1]?arguments[1]:s.default)(t,this.body,this.images,this.groups,this.options)}},{key:"refresh",value:function(){var t,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],i=this.body.nodes;for(t in i){var o=void 0,n=(i.hasOwnProperty(t)&&(o=i[t]),this.body.data.nodes._data[t]);void 0!==o&&void 0!==n&&(!0===e&&o.setOptions({x:null,y:null}),o.setOptions({fixed:!1}),o.setOptions(n))}}},{key:"getPositions",value:function(t){var e,i={};if(void 0!==t)if(!0===Array.isArray(t))for(var o,n=0;n<t.length;n++)void 0!==this.body.nodes[t[n]]&&(o=this.body.nodes[t[n]],i[t[n]]={x:Math.round(o.x),y:Math.round(o.y)});else void 0!==this.body.nodes[t]&&(e=this.body.nodes[t],i[t]={x:Math.round(e.x),y:Math.round(e.y)});else for(var s=0;s<this.body.nodeIndices.length;s++){var r=this.body.nodes[this.body.nodeIndices[s]];i[this.body.nodeIndices[s]]={x:Math.round(r.x),y:Math.round(r.y)}}return i}},{key:"storePositions",value:function(){var t,e,i=[],o=this.body.data.nodes.getDataSet();for(t in o._data)o._data.hasOwnProperty(t)&&(e=this.body.nodes[t],o._data[t].x==Math.round(e.x)&&o._data[t].y==Math.round(e.y)||i.push({id:e.id,x:Math.round(e.x),y:Math.round(e.y)}));o.update(i)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],o={},n=0;n<i.edges.length;n++){var s=i.edges[n];s.toId==i.id?void 0===o[s.fromId]&&(e.push(s.fromId),o[s.fromId]=!0):s.fromId==i.id&&void 0===o[s.toId]&&(e.push(s.toId),o[s.toId]=!0)}return e}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],o=0;o<i.edges.length;o++)e.push(i.edges[o].id);return e}},{key:"moveNode",value:function(t,e,i){var o=this;void 0!==this.body.nodes[t]&&(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(i),setTimeout(function(){o.body.emitter.emit("startSimulation")},0))}}]),c);function c(t,e,i,o){var n=this;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.body=t,this.images=e,this.groups=i,this.layoutEngine=o,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(t,e){n.add(e.items)},update:function(t,e){n.update(e.items,e.data)},remove:function(t,e){n.remove(e.items)}},this.options={},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center"},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,o){return e===t?.5:Math.max(0,(o-t)*(1/(e-t)))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},h.extend(this.options,this.defaultOptions),this.bindEventListeners()}e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=_(i(68)),r=_(i(69)),a=_(i(71)),h=_(i(73)),d=_(i(74)),l=_(i(75)),c=_(i(77)),u=_(i(78)),p=_(i(79)),f=_(i(80)),m=_(i(81)),g=_(i(82)),y=_(i(83)),v=_(i(84)),b=_(i(85));_(i(31));function _(t){return t&&t.__esModule?t:{default:t}}var w=i(1),i=(o(x,[{key:"attachEdge",value:function(t){-1===this.edges.indexOf(t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){t=this.edges.indexOf(t);-1!=t&&this.edges.splice(t,1)}},{key:"setOptions",value:function(t){var e,i=this.options.shape;if(t){if(void 0!==t.id&&(this.id=t.id),void 0===this.id)throw"Node must have an id";if(void 0!==t.x&&(null===t.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(t.x),this.predefinedPosition=!0)),void 0!==t.y&&(null===t.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(t.y),this.predefinedPosition=!0)),void 0!==t.size&&(this.baseSize=t.size),void 0!==t.value&&(t.value=parseFloat(t.value)),("number"==typeof t.group||"string"==typeof t.group&&""!=t.group)&&(e=this.grouplist.get(t.group),w.deepExtend(this.options,e),this.options.color=w.parseColor(this.options.color)),x.parseOptions(this.options,t,!0,this.globalOptions),void 0!==this.options.image){if(!this.imagelist)throw"No imagelist provided";this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id)}return this.updateLabelModule(),this.updateShape(i),void 0!==t.hidden||void 0!==t.physics}}},{key:"updateLabelModule",value:function(){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),this.labelModule.setOptions(this.options,!0),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj);else switch(this.options.shape){case"box":this.shape=new r.default(this.options,this.body,this.labelModule);break;case"circle":this.shape=new a.default(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new h.default(this.options,this.body,this.labelModule,this.imageObj);break;case"database":this.shape=new d.default(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new l.default(this.options,this.body,this.labelModule);break;case"dot":this.shape=new c.default(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new u.default(this.options,this.body,this.labelModule);break;case"icon":this.shape=new p.default(this.options,this.body,this.labelModule);break;case"image":this.shape=new f.default(this.options,this.body,this.labelModule,this.imageObj);break;case"square":this.shape=new m.default(this.options,this.body,this.labelModule);break;case"star":this.shape=new g.default(this.options,this.body,this.labelModule);break;case"text":this.shape=new y.default(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new v.default(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new b.default(this.options,this.body,this.labelModule);break;default:this.shape=new u.default(this.options,this.body,this.labelModule)}this._reset()}},{key:"select",value:function(){this.selected=!0,this._reset()}},{key:"unselect",value:function(){this.selected=!1,this._reset()}},{key:"_reset",value:function(){this.shape.width=void 0,this.shape.height=void 0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){void 0!==this.options.value?(t=this.options.scaling.customScalingFunction(t,e,i,this.options.value),e=this.options.scaling.max-this.options.scaling.min,!0===this.options.scaling.label.enabled&&(i=this.options.scaling.label.max-this.options.scaling.label.min,this.options.font.size=this.options.scaling.label.min+t*i),this.options.size=this.options.scaling.min+t*e):(this.options.size=this.baseSize,this.options.font.size=this.baseFontSize),this.updateLabelModule()}},{key:"draw",value:function(t){this.shape.draw(t,this.x,this.y,this.selected,this.hover)}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){this.shape.resize(t,this.selected)}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"parseOptions",value:function(t,e){var i,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};w.selectiveNotDeepExtend(["color","font","fixed","shadow"],t,e,o),w.mergeOptions(t,e,"shadow",o,n),void 0!==e.color&&null!==e.color?(i=w.parseColor(e.color),w.fillIfDefined(t.color,i)):!0===o&&null===e.color&&(t.color=w.bridgeObject(n.color)),void 0!==e.fixed&&null!==e.fixed&&("boolean"==typeof e.fixed?(t.fixed.x=e.fixed,t.fixed.y=e.fixed):(void 0!==e.fixed.x&&"boolean"==typeof e.fixed.x&&(t.fixed.x=e.fixed.x),void 0!==e.fixed.y&&"boolean"==typeof e.fixed.y&&(t.fixed.y=e.fixed.y))),void 0!==e.font&&null!==e.font?s.default.parseOptions(t.font,e):!0===o&&null===e.font&&(t.font=w.bridgeObject(n.font)),void 0!==e.scaling&&w.mergeOptions(t.scaling,e.scaling,"label",o,n.scaling)}}]),x);function x(t,e,i,o,n){if(!(this instanceof x))throw new TypeError("Cannot call a class as a function");this.options=w.bridgeObject(n),this.globalOptions=n,this.body=e,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=o,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new s.default(this.body,this.options,!1),this.setOptions(t)}e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var l=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var i=e,o=[],n=!0,e=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done)&&(o.push(r.value),!i||o.length!==i);n=!0);}catch(t){e=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(e)throw s}}return o}throw new TypeError("Invalid attempt to destructure non-iterable instance")},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r=i(1),i=(o(a,[{key:"setOptions",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this.nodeOptions=t,this.fontOptions=r.deepExtend({},t.font,!0),void 0!==t.label&&(this.labelDirty=!0),void 0!==t.font&&(a.parseOptions(this.fontOptions,t,e),"string"==typeof t.font?this.baseSize=this.fontOptions.size:"object"===n(t.font)&&void 0!==t.font.size&&(this.baseSize=t.font.size))}},{key:"draw",value:function(t,e,i,o){var n,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"middle";void 0===this.nodeOptions.label||(n=this.fontOptions.size*this.body.view.scale,this.nodeOptions.label&&n<this.nodeOptions.scaling.label.drawThreshold-1)||(this.calculateLabelSize(t,o,e,i,s),this._drawBackground(t),this._drawText(t,o,e,i,s))}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;if(this.isEdgeLabel)switch(this.fontOptions.align){case"middle":t.fillRect(.5*-this.size.width,.5*-this.size.height,this.size.width,this.size.height);break;case"top":t.fillRect(.5*-this.size.width,-(this.size.height+2),this.size.width,this.size.height);break;case"bottom":t.fillRect(.5*-this.size.width,2,this.size.width,this.size.height);break;default:t.fillRect(this.size.left,this.size.top-1,this.size.width,this.size.height)}else t.fillRect(this.size.left,this.size.top-1,this.size.width,this.size.height)}}},{key:"_drawText",value:function(t,e,i,o){var n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"middle",s=this.fontOptions.size,r=s*this.body.view.scale,a=(r>=this.nodeOptions.scaling.label.maxVisible&&(s=Number(this.nodeOptions.scaling.label.maxVisible)/this.body.view.scale),this.size.yLine),r=this._getColor(r),r=l(r,2),h=r[0],r=r[1],n=this._setAlignment(t,i,a,n),n=l(n,2);i=n[0],a=n[1],t.font=(e&&this.nodeOptions.labelHighlightBold?"bold ":"")+s+"px "+this.fontOptions.face,t.fillStyle=h,this.isEdgeLabel||"left"!==this.fontOptions.align?t.textAlign="center":(t.textAlign=this.fontOptions.align,i-=.5*this.size.width),0<this.fontOptions.strokeWidth&&(t.lineWidth=this.fontOptions.strokeWidth,t.strokeStyle=r,t.lineJoin="round");for(var d=0;d<this.lineCount;d++)0<this.fontOptions.strokeWidth&&t.strokeText(this.lines[d],i,a),t.fillText(this.lines[d],i,a),a+=s}},{key:"_setAlignment",value:function(t,e,i,o){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(i=e=0,"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=4):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=4):t.textBaseline="middle"):t.textBaseline=o,[e,i]}},{key:"_getColor",value:function(t){var e=this.fontOptions.color||"#000000",i=this.fontOptions.strokeColor||"#ffffff";return t<=this.nodeOptions.scaling.label.drawThreshold&&(t=Math.max(0,Math.min(1,1-(this.nodeOptions.scaling.label.drawThreshold-t))),e=r.overrideOpacity(e,t),i=r.overrideOpacity(i,t)),[e,i]}},{key:"getTextSize",value:function(t){return{width:this._processLabel(t,1<arguments.length&&void 0!==arguments[1]&&arguments[1]),height:this.fontOptions.size*this.lineCount,lineCount:this.lineCount}}},{key:"calculateLabelSize",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"middle";!0===this.labelDirty&&(this.size.width=this._processLabel(t,e)),this.size.height=this.fontOptions.size*this.lineCount,this.size.left=i-.5*this.size.width,this.size.top=o-.5*this.size.height,this.size.yLine=o+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===n&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4),this.labelDirty=!1}},{key:"_processLabel",value:function(t,e){var i=0,o=[""],n=0;if(void 0!==this.nodeOptions.label){n=(o=String(this.nodeOptions.label).split("\n")).length,t.font=(e&&this.nodeOptions.labelHighlightBold?"bold ":"")+this.fontOptions.size+"px "+this.fontOptions.face,i=t.measureText(o[0]).width;for(var s=1;s<n;s++)var r=t.measureText(o[s]).width,i=i<r?r:i}return this.lines=o,this.lineCount=n,i}}],[{key:"parseOptions",value:function(t,e){var i,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2];"string"==typeof e.font?(i=e.font.split(" "),t.size=i[0].replace("px",""),t.face=i[1],t.color=i[2]):"object"===n(e.font)&&r.fillIfDefined(t,e.font,o),t.size=Number(t.size)}}]),a);function a(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=this,n=a;if(!(o instanceof n))throw new TypeError("Cannot call a class as a function");this.body=t,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(e),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(70);i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var o=this,t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i);if(o)return!t||"object"!=typeof t&&"function"!=typeof t?o:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,[{key:"resize",value:function(t,e){void 0===this.width&&(t=this.labelModule.getTextSize(t,e),this.width=t.width+10,this.height=t.height+10,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,o,n){this.resize(t,o),this.left=e-this.width/2,this.top=i-this.height/2;var s=this.options.borderWidth,r=this.options.borderWidthSelected||2*this.options.borderWidth,r=(t.strokeStyle=(o?this.options.color.highlight:n?this.options.color.hover:this.options.color).border,t.lineWidth=o?r:s,t.lineWidth/=this.body.view.scale,t.lineWidth=Math.min(this.width,t.lineWidth),t.fillStyle=(o?this.options.color.highlight:n?this.options.color.hover:this.options.color).background,this.options.shapeProperties.borderRadius);t.roundRect(this.left,this.top,this.width,this.height,r),this.enableShadow(t),t.fill(),this.disableShadow(t),t.save(),0<s&&(this.enableBorderDashes(t),t.stroke(),this.disableBorderDashes(t)),t.restore(),this.updateBoundingBox(e,i,t,o),this.labelModule.draw(t,e,i,o)}},{key:"updateBoundingBox",value:function(t,e,i,o){this.resize(i,o),this.left=t-.5*this.width,this.top=e-.5*this.height;i=this.options.shapeProperties.borderRadius;this.boundingBox.left=this.left-i,this.boundingBox.top=this.top-i,this.boundingBox.bottom=this.top+this.height+i,this.boundingBox.right=this.left+this.width+i}},{key:"distanceToBorder",value:function(t,e){this.resize(t);t=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+t}}]),n}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e){function o(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.body=e,this.labelModule=i,this.setOptions(t),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.boundingBox={top:0,left:0,right:0,bottom:0}}Object.defineProperty(e,"__esModule",{value:!0}),function(t,e,i){e&&o(t.prototype,e),i&&o(t,i)}(n,[{key:"setOptions",value:function(t){this.options=t}},{key:"_distanceToBorder",value:function(t,e){var i=this.options.borderWidth;return this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}},{key:"enableShadow",value:function(t){!0===this.options.shadow.enabled&&(t.shadowColor=this.options.shadow.color,t.shadowBlur=this.options.shadow.size,t.shadowOffsetX=this.options.shadow.x,t.shadowOffsetY=this.options.shadow.y)}},{key:"disableShadow",value:function(t){!0===this.options.shadow.enabled&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t){var e;!1!==this.options.shapeProperties.borderDashes&&(void 0!==t.setLineDash?(e=this.options.shapeProperties.borderDashes,t.setLineDash(e=!0===e?[5,15]:e)):this.options.shapeProperties.borderDashes=!1)}},{key:"disableBorderDashes",value:function(t){!1!==this.options.shapeProperties.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):this.options.shapeProperties.borderDashes=!1)}}]),e.default=n},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(72);i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var o=this,t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i);if(o)return!t||"object"!=typeof t&&"function"!=typeof t?o:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,[{key:"resize",value:function(t,e){void 0===this.width&&(t=this.labelModule.getTextSize(t,e),e=Math.max(t.width,t.height)+10,this.options.size=e/2,this.width=e,this.height=e,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,o,n){this.resize(t,o),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,o,n,this.options.size),this.boundingBox.top=i-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=i+this.options.size,this.updateBoundingBox(e,i),this.labelModule.draw(t,e,i,o)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),n}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t};function o(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(70);i=function(t){var e=o;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function o(t,e,i){if(this instanceof o)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,t,e,i))).labelOffset=0,t.imageLoaded=!1,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(o,[{key:"setOptions",value:function(t,e){this.options=t,e&&(this.imageObj=e)}},{key:"_resizeImage",value:function(){var t,e,i,o=!1;this.imageObj.width&&this.imageObj.height?!1===this.imageLoaded&&(o=this.imageLoaded=!0):this.imageLoaded=!1,this.width&&this.height&&!0!==o||(this.imageObj.width&&this.imageObj.height&&(e=t=0),e=!1===this.options.shapeProperties.useImageSize?this.imageObj.width>this.imageObj.height?(i=this.imageObj.width/this.imageObj.height,t=2*this.options.size*i||this.imageObj.width,2*this.options.size||this.imageObj.height):(i=this.imageObj.width&&this.imageObj.height?this.imageObj.height/this.imageObj.width:1,t=2*this.options.size,2*this.options.size*i):(t=this.imageObj.width,this.imageObj.height),this.width=t,this.height=e,this.radius=.5*this.width)}},{key:"_drawRawCircle",value:function(t,e,i,o,n,s){var r=this.options.borderWidth,a=this.options.borderWidthSelected||2*this.options.borderWidth,a=(o?a:r)/this.body.view.scale;t.lineWidth=Math.min(this.width,a),t.strokeStyle=(o?this.options.color.highlight:n?this.options.color.hover:this.options.color).border,t.fillStyle=(o?this.options.color.highlight:n?this.options.color.hover:this.options.color).background,t.circle(e,i,s),this.enableShadow(t),t.fill(),this.disableShadow(t),t.save(),0<a&&(this.enableBorderDashes(t),t.stroke(),this.disableBorderDashes(t)),t.restore()}},{key:"_drawImageAtPosition",value:function(t){if(0!=this.imageObj.width){t.globalAlpha=1,this.enableShadow(t);var e=this.imageObj.width/this.width/this.body.view.scale;if(2<e&&!0===this.options.shapeProperties.interpolation){for(var i=this.imageObj.width,o=this.imageObj.height,n=document.createElement("canvas"),s=(n.width=i,n.height=i,n.getContext("2d")),r=(e*=.5,s.drawImage(this.imageObj,0,0,i*=.5,o*=.5),0),a=1;2<e&&a<4;)s.drawImage(n,r,0,i,o,r+i,0,i/2,o/2),r+=i,e*=.5,i*=.5,o*=.5,a+=1;t.drawImage(n,r,0,i,o,this.left,this.top,this.width,this.height)}else t.drawImage(this.imageObj,this.left,this.top,this.width,this.height);this.disableShadow(t)}}},{key:"_drawImageLabel",value:function(t,e,i,o){var n,s=0;void 0!==this.height&&(s=.5*this.height,1<=(n=this.labelModule.getTextSize(t)).lineCount)&&(s+=n.height/2),n=i+s,this.options.label&&(this.labelOffset=s),this.labelModule.draw(t,e,n,o,"hanging")}}]),o}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(72);i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e,i,o){if(this instanceof n)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i))).imageObj=o,t._swapToImageResizeWhenImageLoaded=!0,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,[{key:"resize",value:function(){var t;void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height?this.width||(t=2*this.options.size,this.width=t,this.height=t,this._swapToImageResizeWhenImageLoaded=!0,this.radius=.5*this.width):(this._swapToImageResizeWhenImageLoaded&&(this.width=void 0,this.height=void 0,this._swapToImageResizeWhenImageLoaded=!1),this._resizeImage())}},{key:"draw",value:function(t,e,i,o,n){this.resize(),this.left=e-this.width/2,this.top=i-this.height/2;var s=Math.min(.5*this.height,.5*this.width);this._drawRawCircle(t,e,i,o,n,s),t.save(),t.clip(),this._drawImageAtPosition(t),t.restore(),this._drawImageLabel(t,e,i,o),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),n}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(70);i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var o=this,t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i);if(o)return!t||"object"!=typeof t&&"function"!=typeof t?o:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,[{key:"resize",value:function(t,e){void 0===this.width&&(t=this.labelModule.getTextSize(t,e).width+10,this.width=t,this.height=t,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,o,n){this.resize(t,o),this.left=e-this.width/2,this.top=i-this.height/2;var s=this.options.borderWidth,r=this.options.borderWidthSelected||2*this.options.borderWidth,r=(o?r:s)/this.body.view.scale;t.lineWidth=Math.min(this.width,r),t.strokeStyle=(o?this.options.color.highlight:n?this.options.color.hover:this.options.color).border,t.fillStyle=(o?this.options.color.highlight:n?this.options.color.hover:this.options.color).background,t.database(e-this.width/2,i-.5*this.height,this.width,this.height),this.enableShadow(t),t.fill(),this.disableShadow(t),t.save(),0<r&&(this.enableBorderDashes(t),t.stroke(),this.disableBorderDashes(t)),t.restore(),this.updateBoundingBox(e,i,t,o),this.labelModule.draw(t,e,i,o)}},{key:"updateBoundingBox",value:function(t,e,i,o){this.resize(i,o),this.left=t-.5*this.width,this.top=e-.5*this.height,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(76);i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var o=this,t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i);if(o)return!t||"object"!=typeof t&&"function"!=typeof t?o:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n){this._drawShape(t,"diamond",4,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(70);i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var o=this,t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i);if(o)return!t||"object"!=typeof t&&"function"!=typeof t?o:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,[{key:"_resizeShape",value:function(){var t;void 0===this.width&&(t=2*this.options.size,this.width=t,this.height=t,this.radius=.5*this.width)}},{key:"_drawShape",value:function(t,e,i,o,n,s,r){this._resizeShape(),this.left=o-this.width/2,this.top=n-this.height/2;var a=this.options.borderWidth,h=this.options.borderWidthSelected||2*this.options.borderWidth,h=(s?h:a)/this.body.view.scale;t.lineWidth=Math.min(this.width,h),t.strokeStyle=(s?this.options.color.highlight:r?this.options.color.hover:this.options.color).border,t.fillStyle=(s?this.options.color.highlight:r?this.options.color.hover:this.options.color).background,t[e](o,n,this.options.size),this.enableShadow(t),t.fill(),this.disableShadow(t),t.save(),0<h&&(this.enableBorderDashes(t),t.stroke(),this.disableBorderDashes(t)),t.restore(),void 0!==this.options.label&&(a=n+.5*this.height+3,this.labelModule.draw(t,o,a,s,"hanging")),this.updateBoundingBox(o,n)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+3))}}]),n}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(76);i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var o=this,t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i);if(o)return!t||"object"!=typeof t&&"function"!=typeof t?o:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n){this._drawShape(t,"circle",2,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),this.options.size}}]),n}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(70);i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var o=this,t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i);if(o)return!t||"object"!=typeof t&&"function"!=typeof t?o:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,[{key:"resize",value:function(t,e){void 0===this.width&&(t=this.labelModule.getTextSize(t,e),this.height=2*t.height,this.width=t.width+this.height,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,o,n){this.resize(t,o),this.left=e-.5*this.width,this.top=i-.5*this.height;var s=this.options.borderWidth,r=this.options.borderWidthSelected||2*this.options.borderWidth,r=(o?r:s)/this.body.view.scale;t.lineWidth=Math.min(this.width,r),t.strokeStyle=(o?this.options.color.highlight:n?this.options.color.hover:this.options.color).border,t.fillStyle=(o?this.options.color.highlight:n?this.options.color.hover:this.options.color).background,t.ellipse(this.left,this.top,this.width,this.height),this.enableShadow(t),t.fill(),this.disableShadow(t),t.save(),0<r&&(this.enableBorderDashes(t),t.stroke(),this.disableBorderDashes(t)),t.restore(),this.updateBoundingBox(e,i,t,o),this.labelModule.draw(t,e,i,o)}},{key:"updateBoundingBox",value:function(t,e,i,o){this.resize(i,o),this.left=t-.5*this.width,this.top=e-.5*this.height,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var t=.5*this.width,i=.5*this.height,o=Math.sin(e)*t,e=Math.cos(e)*i;return t*i/Math.sqrt(o*o+e*e)}}]),n}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(70);i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var o=this,t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i);if(o)return!t||"object"!=typeof t&&"function"!=typeof t?o:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,[{key:"resize",value:function(t){var e,i;void 0===this.width&&(e=Number(this.options.icon.size),i=Number(this.options.icon.size),this.width=e+10,this.height=i+10,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,o,n){this.resize(t),this.options.icon.size=this.options.icon.size||50,this.left=e-.5*this.width,this.top=i-.5*this.height,this._icon(t,e,i,o),void 0!==this.options.label&&this.labelModule.draw(t,e,i+.5*this.height+5,o),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(t,e,i,o){var n=Number(this.options.icon.size);void 0!==this.options.icon.code&&(t.font=(o?"bold ":"")+n+"px "+this.options.icon.face,t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t),t.fillText(this.options.icon.code,e,i),this.disableShadow(t))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(72);i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e,i,o){if(this instanceof n)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i))).imageObj=o,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,[{key:"resize",value:function(){this._resizeImage()}},{key:"draw",value:function(t,e,i,o,n){var s,r;this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,!0===this.options.shapeProperties.useBorderWithImage&&(s=this.options.borderWidth,r=this.options.borderWidthSelected||2*this.options.borderWidth,r=(o?r:s)/this.body.view.scale,t.lineWidth=Math.min(this.width,r),t.beginPath(),t.strokeStyle=(o?this.options.color.highlight:n?this.options.color.hover:this.options.color).border,t.fillStyle=(o?this.options.color.highlight:n?this.options.color.hover:this.options.color).background,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),t.fill(),t.save(),0<r&&(this.enableBorderDashes(t),t.stroke(),this.disableBorderDashes(t)),t.restore(),t.closePath()),this._drawImageAtPosition(t),this._drawImageLabel(t,e,i,o||n),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.resize(),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height,void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(76);i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var o=this,t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i);if(o)return!t||"object"!=typeof t&&"function"!=typeof t?o:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,[{key:"resize",value:function(){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n){this._drawShape(t,"square",2,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(76);i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var o=this,t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i);if(o)return!t||"object"!=typeof t&&"function"!=typeof t?o:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n){this._drawShape(t,"star",4,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(70);i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var o=this,t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i);if(o)return!t||"object"!=typeof t&&"function"!=typeof t?o:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,[{key:"resize",value:function(t,e){void 0===this.width&&(t=this.labelModule.getTextSize(t,e),this.width=t.width+10,this.height=t.height+10,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,o,n){this.resize(t,o||n),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t),this.labelModule.draw(t,e,i,o||n),this.disableShadow(t),this.updateBoundingBox(e,i,t,o)}},{key:"updateBoundingBox",value:function(t,e,i,o){this.resize(i,o),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(76);i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var o=this,t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i);if(o)return!t||"object"!=typeof t&&"function"!=typeof t?o:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n){this._drawShape(t,"triangle",3,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(76);i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var o=this,t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i);if(o)return!t||"object"!=typeof t&&"function"!=typeof t?o:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n){this._drawShape(t,"triangleDown",3,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=a(i(87)),r=a(i(68));function a(t){return t&&t.__esModule?t:{default:t}}var h=i(1),d=i(9),l=i(11),i=(o(c,[{key:"bindEventListeners",value:function(){var s=this;this.body.emitter.on("_forceDisableDynamicCurves",function(t){"dynamic"===t&&(t="continuous");var e,i,o,n=!1;for(e in s.body.edges)s.body.edges.hasOwnProperty(e)&&(i=s.body.edges[e],void 0!==(o=s.body.data.edges._data[e]))&&void 0!==(o=o.smooth)&&!0===o.enabled&&"dynamic"===o.type&&(void 0===t?i.setOptions({smooth:!1}):i.setOptions({smooth:{type:t}}),n=!0);!0===n&&s.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){s.reconnectEdges(),s.markAllEdgesAsDirty()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){h.forEach(s.edgesListeners,function(t,e){s.body.data.edges&&s.body.data.edges.off(e,t)}),delete s.body.functions.createEdge,delete s.edgesListeners.add,delete s.edgesListeners.update,delete s.edgesListeners.remove,delete s.edgesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){s.default.parseOptions(this.options,t),void 0!==t.color&&this.markAllEdgesAsDirty();var e=!1;if(void 0!==t.smooth)for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&(e=this.body.edges[i].updateEdgeType()||e);if(void 0!==t.font)for(var o in r.default.parseOptions(this.options.font,t),this.body.edges)this.body.edges.hasOwnProperty(o)&&this.body.edges[o].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var i=this,e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=this.body.data.edges;if(t instanceof d||t instanceof l)this.body.data.edges=t;else if(Array.isArray(t))this.body.data.edges=new d,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new d}o&&h.forEach(this.edgesListeners,function(t,e){o.off(e,t)}),this.body.edges={},this.body.data.edges&&(h.forEach(this.edgesListeners,function(t,e){i.body.data.edges.on(e,t)}),t=this.body.data.edges.getIds(),this.add(t,!0)),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=this.body.edges,o=this.body.data.edges,n=0;n<t.length;n++){var s=t[n],r=i[s],r=(r&&r.disconnect(),o.get(s,{showInternalIds:!0}));i[s]=this.create(r)}!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,i=this.body.data.edges,o=!1,n=0;n<t.length;n++){var s=t[n],r=i.get(s),a=e[s];void 0!==a?(a.disconnect(),o=a.setOptions(r)||o,a.connect()):(this.body.edges[s]=this.create(r),o=!0)}!0===o?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.edges,i=0;i<t.length;i++){var o=t[i],n=e[o];void 0!==n&&(n.cleanup(),n.disconnect(),delete e[o])}this.body.emitter.emit("_dataChanged")}},{key:"refresh",value:function(){var t,e=this.body.edges;for(t in e){var i=void 0,o=(e.hasOwnProperty(t)&&(i=e[t]),this.body.data.edges._data[t]);void 0!==i&&void 0!==o&&i.setOptions(o)}}},{key:"create",value:function(t){return new s.default(t,this.body,this.options)}},{key:"markAllEdgesAsDirty",value:function(){for(var t in this.body.edges)this.body.edges[t].edgeType.colorDirty=!0}},{key:"reconnectEdges",value:function(){var t,e,i=this.body.nodes,o=this.body.edges;for(t in i)i.hasOwnProperty(t)&&(i[t].edges=[]);for(t in o)o.hasOwnProperty(t)&&((e=o[t]).from=null,e.to=null,e.connect())}},{key:"getConnectedNodes",value:function(t){var e=[];return void 0!==this.body.edges[t]&&((t=this.body.edges[t]).fromId&&e.push(t.fromId),t.toId)&&e.push(t.toId),e}}]),c);function c(t,e,i){var o=this;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.body=t,this.images=e,this.groups=i,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(t,e){o.add(e.items)},update:function(t,e){o.update(e.items)},remove:function(t,e){o.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal"},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,o){return e===t?.5:Math.max(0,(o-t)*(1/(e-t)))}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},h.extend(this.options,this.defaultOptions),this.bindEventListeners()}e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r=c(i(68)),a=c(i(88)),h=c(i(92)),d=c(i(93)),l=c(i(94));function c(t){return t&&t.__esModule?t:{default:t}}var u=i(1),i=(o(p,[{key:"setOptions",value:function(t){var e;if(t)return this.colorDirty=!0,p.parseOptions(this.options,t,!0,this.globalOptions),void 0!==t.id&&(this.id=t.id),void 0!==t.from&&(this.fromId=t.from),void 0!==t.to&&(this.toId=t.to),void 0!==t.title&&(this.title=t.title),void 0!==t.value&&(t.value=parseFloat(t.value)),this.updateLabelModule(),e=this.updateEdgeType(),this._setInteractionWidths(),this.connect(),void 0!==t.hidden||void 0!==t.physics||e}},{key:"updateLabelModule",value:function(){this.labelModule.setOptions(this.options,!0),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=!1,e=!0,i=this.options.smooth;return void 0!==this.edgeType&&(this.edgeType instanceof h.default&&!0===i.enabled&&"dynamic"===i.type&&(e=!1),this.edgeType instanceof a.default&&!0===i.enabled&&"cubicBezier"===i.type&&(e=!1),this.edgeType instanceof d.default&&!0===i.enabled&&"dynamic"!==i.type&&"cubicBezier"!==i.type&&(e=!1),!0===(e=this.edgeType instanceof l.default&&!1===i.enabled?!1:e))&&(t=this.cleanup()),!0===e?!0===this.options.smooth.enabled?"dynamic"===this.options.smooth.type?(t=!0,this.edgeType=new h.default(this.options,this.body,this.labelModule)):"cubicBezier"===this.options.smooth.type?this.edgeType=new a.default(this.options,this.body,this.labelModule):this.edgeType=new d.default(this.options,this.body,this.labelModule):this.edgeType=new l.default(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){void 0!==this.options.value?(t=this.options.scaling.customScalingFunction(t,e,i,this.options.value),e=this.options.scaling.max-this.options.scaling.min,!0===this.options.scaling.label.enabled&&(i=this.options.scaling.label.max-this.options.scaling.label.min,this.options.font.size=this.options.scaling.label.min+t*i),this.options.width=this.options.scaling.min+t*e):(this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize),this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,!0===this.options.arrows.from.enabled&&(i.from=this.edgeType.getArrowData(t,"from",e,this.selected,this.hover),!1===this.options.arrowStrikethrough)&&(this.edgeType.fromPoint=i.from.core),!0===this.options.arrows.to.enabled&&(i.to=this.edgeType.getArrowData(t,"to",e,this.selected,this.hover),!1===this.options.arrowStrikethrough)&&(this.edgeType.toPoint=i.to.core),!0===this.options.arrows.middle.enabled&&(i.middle=this.edgeType.getArrowData(t,"middle",e,this.selected,this.hover)),this.edgeType.drawLine(t,this.selected,this.hover,e),this.drawArrows(t,i),this.drawLabel(t,e)}},{key:"drawArrows",value:function(t,e){!0===this.options.arrows.from.enabled&&this.edgeType.drawArrowHead(t,this.selected,this.hover,e.from),!0===this.options.arrows.middle.enabled&&this.edgeType.drawArrowHead(t,this.selected,this.hover,e.middle),!0===this.options.arrows.to.enabled&&this.edgeType.drawArrowHead(t,this.selected,this.hover,e.to)}},{key:"drawLabel",value:function(t,e){var i,o,n,s,r;void 0!==this.options.label&&(i=this.from,s=this.to,o=this.from.selected||this.to.selected||this.selected,i.id!=s.id?(this.labelModule.pointToSelf=!1,r=this.edgeType.getPoint(.5,e),t.save(),"horizontal"!==this.options.font.align&&(this.labelModule.calculateLabelSize(t,o,r.x,r.y),t.translate(r.x,this.labelModule.size.yLine),this._rotateForLabelAlignment(t)),this.labelModule.draw(t,r.x,r.y,o),t.restore()):(this.labelModule.pointToSelf=!0,s=this.options.selfReferenceSize,e=i.shape.width>i.shape.height?(n=i.x+.5*i.shape.width,i.y-s):(n=i.x+s,i.y-.5*i.shape.height),r=this._pointOnCircle(n,e,s,.125),this.labelModule.draw(t,r.x,r.y,o)))}},{key:"isOverlappingWith",value:function(t){var e,i,o,n,s;return!!this.connected&&(e=this.from.x,i=this.from.y,o=this.to.x,n=this.to.y,s=t.left,t=t.top,this.edgeType.getDistanceToEdge(e,i,o,n,s,t)<10)}},{key:"_rotateForLabelAlignment",value:function(t){var e=this.from.y-this.to.y,i=this.from.x-this.to.x,e=Math.atan2(e,i);(e<-1&&i<0||0<e&&i<0)&&(e+=Math.PI),t.rotate(e)}},{key:"_pointOnCircle",value:function(t,e,i,o){o=2*o*Math.PI;return{x:t+i*Math.cos(o),y:e-i*Math.sin(o)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}}],[{key:"parseOptions",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(u.selectiveDeepExtend(["arrowStrikethrough","id","from","hidden","hoverWidth","label","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width"],t,e,i),u.mergeOptions(t,e,"smooth",i,o),u.mergeOptions(t,e,"shadow",i,o),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:!0===i&&null===e.dashes&&(t.dashes=Object.create(o.dashes)),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),u.mergeOptions(t.scaling,e.scaling,"label",i,o.scaling)):!0===i&&null===e.scaling&&(t.scaling=Object.create(o.scaling)),void 0!==e.arrows&&null!==e.arrows)if("string"==typeof e.arrows){var n=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=n.indexOf("to"),t.arrows.middle.enabled=-1!=n.indexOf("middle"),t.arrows.from.enabled=-1!=n.indexOf("from")}else{if("object"!==s(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+JSON.stringify(e.arrows));u.mergeOptions(t.arrows,e.arrows,"to",i,o.arrows),u.mergeOptions(t.arrows,e.arrows,"middle",i,o.arrows),u.mergeOptions(t.arrows,e.arrows,"from",i,o.arrows)}else!0===i&&null===e.arrows&&(t.arrows=Object.create(o.arrows));void 0!==e.color&&null!==e.color?(t.color=u.deepExtend({},t.color,!0),u.isString(e.color)?(t.color.color=e.color,t.color.highlight=e.color,t.color.hover=e.color,t.color.inherit=!1):(n=!1,void 0!==e.color.color&&(t.color.color=e.color.color,n=!0),void 0!==e.color.highlight&&(t.color.highlight=e.color.highlight,n=!0),void 0!==e.color.hover&&(t.color.hover=e.color.hover,n=!0),void 0!==e.color.inherit&&(t.color.inherit=e.color.inherit),void 0!==e.color.opacity&&(t.color.opacity=Math.min(1,Math.max(0,e.color.opacity))),void 0===e.color.inherit&&!0===n&&(t.color.inherit=!1))):!0===i&&null===e.color&&(t.color=u.bridgeObject(o.color)),void 0!==e.font&&null!==e.font?r.default.parseOptions(t.font,e):!0===i&&null===e.font&&(t.font=u.bridgeObject(o.font))}}]),p);function p(t,e,i){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");if(void 0===e)throw"No body provided";this.options=u.bridgeObject(i),this.globalOptions=i,this.body=e,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.colorDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new r.default(this.body,this.options,!0),this.setOptions(t)}e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var h=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var i=e,o=[],n=!0,e=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done)&&(o.push(r.value),!i||o.length!==i);n=!0);}catch(t){e=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(e)throw s}}return o}throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(89);i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var o=this,t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i);if(o)return!t||"object"!=typeof t&&"function"!=typeof t?o:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,[{key:"_line",value:function(t,e){var i=e[0],o=e[1];t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),void 0===e||void 0===i.x?t.lineTo(this.toPoint.x,this.toPoint.y):t.bezierCurveTo(i.x,i.y,o.x,o.y,this.toPoint.x,this.toPoint.y),this.enableShadow(t),t.stroke(),this.disableShadow(t)}},{key:"_getViaCoordinates",value:function(){var t=this.from.x-this.to.x,e=this.from.y-this.to.y,i=void 0,o=void 0,n=void 0,s=void 0,r=this.options.smooth.roundness,n=(Math.abs(t)>Math.abs(e)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(o=this.from.y,s=this.to.y,i=this.from.x-r*t,this.to.x+r*t):(o=this.from.y-r*e,s=this.to.y+r*e,i=this.from.x,this.to.x);return[{x:i,y:o},{x:n,y:s}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,s){var r=6<arguments.length&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),r=h(r,2),a=r[0],r=r[1];return this._getDistanceToBezierEdge(t,e,i,o,n,s,a,r)}},{key:"getPoint",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),e=h(e,2),i=e[0],e=e[1],o=[];return o[0]=Math.pow(1-t,3),o[1]=3*t*Math.pow(1-t,2),o[2]=3*Math.pow(t,2)*(1-t),o[3]=Math.pow(t,3),{x:o[0]*this.fromPoint.x+o[1]*i.x+o[2]*e.x+o[3]*this.toPoint.x,y:o[0]*this.fromPoint.y+o[1]*i.y+o[2]*e.y+o[3]*this.toPoint.y}}}]),n}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(90);i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var o=this,t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i);if(o)return!t||"object"!=typeof t&&"function"!=typeof t?o:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,[{key:"_getDistanceToBezierEdge",value:function(t,e,i,o,n,s,r,a){for(var h,d,l,c=1e9,u=void 0,p=t,f=e,m=[0,0,0,0],u=1;u<10;u++)d=.1*u,m[0]=Math.pow(1-d,3),m[1]=3*d*Math.pow(1-d,2),m[2]=3*Math.pow(d,2)*(1-d),m[3]=Math.pow(d,3),d=m[0]*t+m[1]*r.x+m[2]*a.x+m[3]*i,l=m[0]*e+m[1]*r.y+m[2]*a.y+m[3]*o,0<u&&(c=(h=this._getDistanceToLine(p,f,d,l,n,s))<c?h:c),p=d,f=l;return c}}]),n}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(91);i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var o=this,t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i);if(o)return!t||"object"!=typeof t&&"function"!=typeof t?o:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,[{key:"_findBorderPositionBezier",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),o=0,n=0,s=1,r=this.to,a=!1;for(t.id===this.from.id&&(r=this.from,a=!0);n<=s&&o<10;){var h=.5*(n+s),d=this.getPoint(h,i),l=Math.atan2(r.y-d.y,r.x-d.x),l=r.distanceToBorder(e,l)-Math.sqrt(Math.pow(d.x-r.x,2)+Math.pow(d.y-r.y,2));if(Math.abs(l)<.2)break;l<0?!1===a?n=h:s=h:!1===a?s=h:n=h,o++}return d.t=h,d}},{key:"_getDistanceToBezierEdge",value:function(t,e,i,o,n,s,r){for(var a,h,d,l=1e9,c=void 0,u=t,p=e,c=1;c<10;c++)d=.1*c,h=Math.pow(1-d,2)*t+2*d*(1-d)*r.x+Math.pow(d,2)*i,d=Math.pow(1-d,2)*e+2*d*(1-d)*r.y+Math.pow(d,2)*o,0<c&&(l=(a=this._getDistanceToLine(u,p,h,d,n,s))<l?a:l),u=h,p=d;return l}}]),n}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var u=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var i=e,o=[],n=!0,e=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done)&&(o.push(r.value),!i||o.length!==i);n=!0);}catch(t){e=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(e)throw s}}return o}throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r=i(1),i=(o(s,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e,i,o){t.strokeStyle=this.getColor(t,e,i),t.lineWidth=this.getLineWidth(e,i),!1!==this.options.dashes?this._drawDashedLine(t,o):this._drawLine(t,o)}},{key:"_drawLine",value:function(t,e,i,o){this.from!=this.to?this._line(t,e,i,o):(e=this._getCircleData(t),o=(i=u(e,3))[0],e=i[1],i=i[2],this._circle(t,o,e,i))}},{key:"_drawDashedLine",value:function(t,e,i,o){t.lineCap="round";var n,s,r=[5,5];!0===Array.isArray(this.options.dashes)&&(r=this.options.dashes),void 0!==t.setLineDash?(t.save(),t.setLineDash(r),t.lineDashOffset=0,this.from!=this.to?this._line(t,e):(e=this._getCircleData(t),s=(e=u(e,3))[0],n=e[1],e=e[2],this._circle(t,s,n,e)),t.setLineDash([0]),t.lineDashOffset=0,t.restore()):(this.from!=this.to?t.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,r):(s=this._getCircleData(t),e=(n=u(s,3))[0],r=n[1],s=n[2],this._circle(t,e,r,s)),this.enableShadow(t),t.stroke(),this.disableShadow(t))}},{key:"findBorderPosition",value:function(t,e,i){return this.from!=this.to?this._findBorderPosition(t,e,i):this._findBorderPositionCircle(t,e,i)}},{key:"findBorderPositions",value:function(t){var e,i,o,n={},s={};return s=this.from!=this.to?(n=this._findBorderPosition(this.from,t),this._findBorderPosition(this.to,t)):(e=this._getCircleData(t),i=(e=u(e,3))[0],o=e[1],e[2],n=this._findBorderPositionCircle(this.from,t,{x:i,y:o,low:.25,high:.6,direction:-1}),this._findBorderPositionCircle(this.from,t,{x:i,y:o,low:.6,high:.8,direction:1})),{from:n,to:s}}},{key:"_getCircleData",value:function(t){var e=void 0,i=void 0,o=this.from,n=this.options.selfReferenceSize;return void 0!==t&&void 0===o.shape.width&&o.shape.resize(t),i=o.shape.width>o.shape.height?(e=o.x+.5*o.shape.width,o.y-n):(e=o.x+n,o.y-.5*o.shape.height),[e,i,n]}},{key:"_pointOnCircle",value:function(t,e,i,o){o=2*o*Math.PI;return{x:t+i*Math.cos(o),y:e-i*Math.sin(o)}}},{key:"_findBorderPositionCircle",value:function(t,e,i){for(var o,n=i.x,s=i.y,r=i.low,a=i.high,h=i.direction,d=0,l=this.options.selfReferenceSize,c=void 0,u=.5*(r+a);r<=a&&d<10&&(c=this._pointOnCircle(n,s,l,u=.5*(r+a)),o=Math.atan2(t.y-c.y,t.x-c.x),o=t.distanceToBorder(e,o)-Math.sqrt(Math.pow(c.x-t.x,2)+Math.pow(c.y-t.y,2)),!(Math.abs(o)<.05));)0<o?0<h?r=u:a=u:0<h?a=u:r=u,d++;return c.t=u,c}},{key:"getLineWidth",value:function(t,e){return!0===t?Math.max(this.selectionWidth,.3/this.body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(t,e,i){var o,n,s=this.options.color;if(!1!==s.inherit){if("both"===s.inherit&&this.from.id!==this.to.id)return t=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),n=o=void 0,o=this.from.options.color.highlight.border,n=this.to.options.color.highlight.border,!1===this.from.selected&&!1===this.to.selected?(o=r.overrideOpacity(this.from.options.color.border,this.options.color.opacity),n=r.overrideOpacity(this.to.options.color.border,this.options.color.opacity)):!0===this.from.selected&&!1===this.to.selected?n=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(o=this.from.options.color.border),t.addColorStop(0,o),t.addColorStop(1,n),t;!0===this.colorDirty&&("to"===s.inherit?(this.color.highlight=this.to.options.color.highlight.border,this.color.hover=this.to.options.color.hover.border,this.color.color=r.overrideOpacity(this.to.options.color.border,s.opacity)):(this.color.highlight=this.from.options.color.highlight.border,this.color.hover=this.from.options.color.hover.border,this.color.color=r.overrideOpacity(this.from.options.color.border,s.opacity)))}else!0===this.colorDirty&&(this.color.highlight=s.highlight,this.color.hover=s.hover,this.color.color=r.overrideOpacity(s.color,s.opacity));return!(this.colorDirty=!1)===e?this.color.highlight:!0===i?this.color.hover:this.color.color}},{key:"_circle",value:function(t,e,i,o){this.enableShadow(t),t.beginPath(),t.arc(e,i,o,0,2*Math.PI,!1),t.stroke(),this.disableShadow(t)}},{key:"getDistanceToEdge",value:function(t,e,i,o,n,s,r){var a=0;return a=this.from!=this.to?this._getDistanceToEdge(t,e,i,o,n,s,r):(t=this._getCircleData(),i=(e=u(t,3))[0],o=e[1],r=e[2],t=i-n,e=o-s,Math.abs(Math.sqrt(t*t+e*e)-r)),this.labelModule.size.left<n&&this.labelModule.size.left+this.labelModule.size.width>n&&this.labelModule.size.top<s&&this.labelModule.size.top+this.labelModule.size.height>s?0:a}},{key:"_getDistanceToLine",value:function(t,e,i,o,n,s){var i=i-t,o=o-e,r=((n-t)*i+(s-e)*o)/(i*i+o*o);1<r?r=1:r<0&&(r=0);t=t+r*i-n,i=e+r*o-s;return Math.sqrt(t*t+i*i)}},{key:"getArrowData",value:function(t,e,i,o,n){var s=void 0,r=void 0,a=void 0,h=void 0,d=void 0,l=void 0,c=void 0,o=this.getLineWidth(o,n),c=("from"===e?(a=this.from,h=this.to,d=.1,l=this.options.arrows.from.scaleFactor,this.options.arrows.from):"to"===e?(a=this.to,h=this.from,d=-.1,l=this.options.arrows.to.scaleFactor,this.options.arrows.to):(a=this.to,h=this.from,l=this.options.arrows.middle.scaleFactor,this.options.arrows.middle)).type,d=(a!=h?"middle"!==e?!0===this.options.smooth.enabled?(r=this.findBorderPosition(a,t,{via:i}),n=this.getPoint(Math.max(0,Math.min(1,r.t+d)),i),s=Math.atan2(r.y-n.y,r.x-n.x)):(s=Math.atan2(a.y-h.y,a.x-h.x),r=this.findBorderPosition(a,t)):(s=Math.atan2(a.y-h.y,a.x-h.x),r=this.getPoint(.5,i)):(d=this._getCircleData(t),a=(n=u(d,3))[0],h=n[1],i=n[2],s="from"===e?-2*(r=this.findBorderPosition(this.from,t,{x:a,y:h,low:.25,high:.6,direction:-1})).t*Math.PI+1.5*Math.PI+.1*Math.PI:"to"===e?-2*(r=this.findBorderPosition(this.from,t,{x:a,y:h,low:.6,high:1,direction:1})).t*Math.PI+1.5*Math.PI-1.1*Math.PI:(r=this._pointOnCircle(a,h,i,.175),3.9269908169872414)),15*l+3*o);return{point:r,core:{x:r.x-.9*d*Math.cos(s),y:r.y-.9*d*Math.sin(s)},angle:s,length:d,type:c}}},{key:"drawArrowHead",value:function(t,e,i,o){t.strokeStyle=this.getColor(t,e,i),t.fillStyle=t.strokeStyle,t.lineWidth=this.getLineWidth(e,i),o.type&&"circle"===o.type.toLowerCase()?t.circleEndpoint(o.point.x,o.point.y,o.angle,o.length):t.arrowEndpoint(o.point.x,o.point.y,o.angle,o.length),this.enableShadow(t),t.fill(),this.disableShadow(t)}},{key:"enableShadow",value:function(t){!0===this.options.shadow.enabled&&(t.shadowColor=this.options.shadow.color,t.shadowBlur=this.options.shadow.size,t.shadowOffsetX=this.options.shadow.x,t.shadowOffsetY=this.options.shadow.y)}},{key:"disableShadow",value:function(t){!0===this.options.shadow.enabled&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}}]),s);function s(t,e,i){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.body=e,this.labelModule=i,this.options={},this.setOptions(t),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var h=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var i=e,o=[],n=!0,e=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done)&&(o.push(r.value),!i||o.length!==i);n=!0);}catch(t){e=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(e)throw s}}return o}throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(90);i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e,i){var o;if(this instanceof n)return(o=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i)))._boundFunction=function(){o.positionBezierNode()},o.body.emitter.on("_repositionBezierNodes",o._boundFunction),o;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,[{key:"setOptions",value:function(t){var e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this.body.nodes[this.via.id],!(this.via=void 0))}},{key:"setupSupportNode",value:function(){var t,e;void 0===this.via&&(t="edgeId:"+this.id,e=this.body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0}),this.body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode())}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),void 0===e.x?t.lineTo(this.toPoint.x,this.toPoint.y):t.quadraticCurveTo(e.x,e.y,this.toPoint.x,this.toPoint.y),this.enableShadow(t),t.stroke(),this.disableShadow(t)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t){var e,i,o,n,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.via,r=void 0,a=void 0;return a=this.from===this.to?(o=this._getCircleData(this.from),e=(o=h(o,3))[0],i=o[1],o=o[2],n=2*Math.PI*(1-t),r=e+o*Math.sin(n),i+o-o*(1-Math.cos(n))):(r=Math.pow(1-t,2)*this.fromPoint.x+2*t*(1-t)*s.x+Math.pow(t,2)*this.toPoint.x,Math.pow(1-t,2)*this.fromPoint.y+2*t*(1-t)*s.y+Math.pow(t,2)*this.toPoint.y),{x:r,y:a}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,s){return this._getDistanceToBezierEdge(t,e,i,o,n,s,this.via)}}]),n}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(90);i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var o=this,t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i);if(o)return!t||"object"!=typeof t&&"function"!=typeof t?o:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),void 0===e.x?t.lineTo(this.toPoint.x,this.toPoint.y):t.quadraticCurveTo(e.x,e.y,this.toPoint.x,this.toPoint.y),this.enableShadow(t),t.stroke(),this.disableShadow(t)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t,e,i=void 0,o=void 0,n=this.options.smooth.roundness,s=this.options.smooth.type,r=Math.abs(this.from.x-this.to.x),a=Math.abs(this.from.y-this.to.y);return"discrete"===s||"diagonalCross"===s?Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)?(this.from.y>=this.to.y?this.from.x<=this.to.x?(i=this.from.x+n*a,o=this.from.y-n*a):this.from.x>this.to.x&&(i=this.from.x-n*a,o=this.from.y-n*a):this.from.y<this.to.y&&(this.from.x<=this.to.x?(i=this.from.x+n*a,o=this.from.y+n*a):this.from.x>this.to.x&&(i=this.from.x-n*a,o=this.from.y+n*a)),"discrete"===s&&(i=r<n*a?this.from.x:i)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>=this.to.y?this.from.x<=this.to.x?(i=this.from.x+n*r,o=this.from.y-n*r):this.from.x>this.to.x&&(i=this.from.x-n*r,o=this.from.y-n*r):this.from.y<this.to.y&&(this.from.x<=this.to.x?(i=this.from.x+n*r,o=this.from.y+n*r):this.from.x>this.to.x&&(i=this.from.x-n*r,o=this.from.y+n*r)),"discrete"===s)&&(o=a<n*r?this.from.y:o):"straightCross"===s?Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)?(i=this.from.x,o=this.from.y<this.to.y?this.to.y-(1-n)*a:this.to.y+(1-n)*a):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(i=this.from.x<this.to.x?this.to.x-(1-n)*r:this.to.x+(1-n)*r,o=this.from.y):"horizontal"===s?(i=this.from.x<this.to.x?this.to.x-(1-n)*r:this.to.x+(1-n)*r,o=this.from.y):"vertical"===s?(i=this.from.x,o=this.from.y<this.to.y?this.to.y-(1-n)*a:this.to.y+(1-n)*a):"curvedCW"===s?(r=this.to.x-this.from.x,a=this.from.y-this.to.y,t=Math.sqrt(r*r+a*a),e=Math.PI,e=(Math.atan2(a,r)+(.5*n+.5)*e)%(2*e),i=this.from.x+(.5*n+.5)*t*Math.sin(e),o=this.from.y+(.5*n+.5)*t*Math.cos(e)):"curvedCCW"===s?(r=this.to.x-this.from.x,a=this.from.y-this.to.y,t=Math.sqrt(r*r+a*a),e=Math.PI,s=(Math.atan2(a,r)+(.5*-n+.5)*e)%(2*e),i=this.from.x+(.5*n+.5)*t*Math.sin(s),o=this.from.y+(.5*n+.5)*t*Math.cos(s)):Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)?this.from.y>=this.to.y?this.from.x<=this.to.x?(i=this.from.x+n*a,o=this.from.y-n*a,i=this.to.x<i?this.to.x:i):this.from.x>this.to.x&&(i=this.from.x-n*a,o=this.from.y-n*a,i=this.to.x>i?this.to.x:i):this.from.y<this.to.y&&(this.from.x<=this.to.x?(i=this.from.x+n*a,o=this.from.y+n*a,i=this.to.x<i?this.to.x:i):this.from.x>this.to.x&&(i=this.from.x-n*a,o=this.from.y+n*a,i=this.to.x>i?this.to.x:i)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>=this.to.y?this.from.x<=this.to.x?(i=this.from.x+n*r,o=this.from.y-n*r,o=this.to.y>o?this.to.y:o):this.from.x>this.to.x&&(i=this.from.x-n*r,o=this.from.y-n*r,o=this.to.y>o?this.to.y:o):this.from.y<this.to.y&&(this.from.x<=this.to.x?(i=this.from.x+n*r,o=this.from.y+n*r,o=this.to.y<o?this.to.y:o):this.from.x>this.to.x&&(i=this.from.x-n*r,o=this.from.y+n*r,o=this.to.y<o?this.to.y:o))),{x:i,y:o}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).via)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,s){var r=6<arguments.length&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,i,o,n,s,r)}},{key:"getPoint",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates();return{x:Math.pow(1-t,2)*this.fromPoint.x+2*t*(1-t)*e.x+Math.pow(t,2)*this.toPoint.x,y:Math.pow(1-t,2)*this.fromPoint.y+2*t*(1-t)*e.y+Math.pow(t,2)*this.toPoint.y}}}]),n}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(91);i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var o=this,t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i);if(o)return!t||"object"!=typeof t&&"function"!=typeof t?o:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,[{key:"_line",value:function(t){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t),t.stroke(),this.disableShadow(t)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){var i=this.to,o=this.from,n=(t.id===this.from.id&&(i=this.from,o=this.to),Math.atan2(i.y-o.y,i.x-o.x)),s=i.x-o.x,r=i.y-o.y,s=Math.sqrt(s*s+r*r),r=(s-t.distanceToBorder(e,n))/s,t={};return t.x=(1-r)*o.x+r*i.x,t.y=(1-r)*o.y+r*i.y,t}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,s){return this._getDistanceToLine(t,e,i,o,n,s)}}]),n}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=p(i(96)),r=p(i(97)),a=p(i(98)),h=p(i(99)),d=p(i(100)),l=p(i(101)),c=p(i(102)),u=p(i(103));function p(t){return t&&t.__esModule?t:{default:t}}var f=i(1),i=(o(m,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",function(){t.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){t.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){t.stopSimulation(),t.ready=!1}),this.body.emitter.on("disablePhysics",function(){t.physicsEnabled=!1,t.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===t.ready&&t.startSimulation()}),this.body.emitter.on("stopSimulation",function(){t.stopSimulation()}),this.body.emitter.on("destroy",function(){t.stopSimulation(!1),t.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){t.updatePhysicsData()})}},{key:"setOptions",value:function(t){void 0!==t&&(!1===t?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):(this.physicsEnabled=!0,f.selectiveNotDeepExtend(["stabilization"],this.options,t),f.mergeOptions(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new c.default(this.body,this.physicsBody,t),this.edgesSolver=new h.default(this.body,this.physicsBody,t),this.gravitySolver=new u.default(this.body,this.physicsBody,t)):("repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new r.default(this.body,this.physicsBody,t),this.edgesSolver=new h.default(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new a.default(this.body,this.physicsBody,t),this.edgesSolver=new d.default(this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new s.default(this.body,this.physicsBody,t),this.edgesSolver=new h.default(this.body,this.physicsBody,t)),this.gravitySolver=new l.default(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];(this.stabilized=!0)===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),!(this.viewFunction=void 0)===t)&&this.body.emitter.emit("_stopRendering")}},{key:"simulationStep",value:function(){var t=Date.now();this.physicsTick(),(Date.now()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(1<this.stabilizationIterations||!0===this.startedStabilization)&&setTimeout(function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0},0)}},{key:"physicsTick",value:function(){!1===this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0),!1===this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.calculateForces(),this.moveNodes(),this.revert(),this.timestep=.5*this.timestep,this.calculateForces(),this.moveNodes(),this.calculateForces(),this.moveNodes(),!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))):(this.calculateForces(),this.moveNodes()),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.calculateForces(),this.moveNodes()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t,e,i=this.body.nodes,o=this.body.edges;for(t in i)i.hasOwnProperty(t)&&!0===i[t].options.physics&&this.physicsBody.physicsNodeIndices.push(i[t].id);for(e in o)o.hasOwnProperty(e)&&!0===o[e].options.physics&&this.physicsBody.physicsEdgeIndices.push(o[e].id);for(var n,s=0;s<this.physicsBody.physicsNodeIndices.length;s++){var r=this.physicsBody.physicsNodeIndices[s];this.physicsBody.forces[r]={x:0,y:0},void 0===this.physicsBody.velocities[r]&&(this.physicsBody.velocities[r]={x:0,y:0})}for(n in this.physicsBody.velocities)void 0===i[n]&&delete this.physicsBody.velocities[n]}},{key:"revert",value:function(){var t=Object.keys(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var o=0;o<t.length;o++){var n=t[o];void 0!==e[n]?!0===e[n].options.physics&&(this.referenceState[n]={positions:{x:e[n].x,y:e[n].y}},i[n].x=this.previousStates[n].vx,i[n].y=this.previousStates[n].vy,e[n].x=this.previousStates[n].x,e[n].y=this.previousStates[n].y):delete this.previousStates[n]}}},{key:"_evaluateStepQuality",value:function(){var t,e,i,o=this.body.nodes,n=this.referenceState;for(i in this.referenceState)if(this.referenceState.hasOwnProperty(i)&&void 0!==o[i]&&(t=o[i].x-n[i].positions.x,e=o[i].y-n[i].positions.y,.3<Math.sqrt(Math.pow(t,2)+Math.pow(e,2))))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=this.options.maxVelocity||1e9,i=0,o=0,n=0;n<t.length;n++){var s=t[n],s=this._performStep(s,e),i=Math.max(i,s);o+=s}this.adaptiveTimestepEnabled=o/t.length<5,this.stabilized=i<this.options.minVelocity}},{key:"_performStep",value:function(t,e){var i,o=this.body.nodes[t],n=this.timestep,s=this.physicsBody.forces,r=this.physicsBody.velocities;return!(this.previousStates[t]={x:o.x,y:o.y,vx:r[t].x,vy:r[t].y})===o.options.fixed.x?(i=this.modelOptions.damping*r[t].x,i=(s[t].x-i)/o.options.mass,r[t].x+=i*n,r[t].x=Math.abs(r[t].x)>e?0<r[t].x?e:-e:r[t].x,o.x+=r[t].x*n):(s[t].x=0,r[t].x=0),!1===o.options.fixed.y?(i=this.modelOptions.damping*r[t].y,i=(s[t].y-i)/o.options.mass,r[t].y+=i*n,r[t].y=Math.abs(r[t].y)>e?0<r[t].y?e:-e:r[t].y,o.y+=r[t].y*n):(s[t].y=0,r[t].y=0),Math.sqrt(Math.pow(r[t].x,2)+Math.pow(r[t].y,2))}},{key:"calculateForces",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve()}},{key:"_freezeNodes",value:function(){var t,e=this.body.nodes;for(t in e)e.hasOwnProperty(t)&&e[t].x&&e[t].y&&(this.freezeCache[t]={x:e[t].options.fixed.x,y:e[t].options.fixed.y},e[t].options.fixed.x=!0,e[t].options.fixed.y=!0)}},{key:"_restoreFrozenNodes",value:function(){var t,e=this.body.nodes;for(t in e)e.hasOwnProperty(t)&&void 0!==this.freezeCache[t]&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof e&&(e=this.options.stabilization.iterations),0===this.physicsBody.physicsNodeIndices.length?this.ready=!0:(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout(function(){return t._stabilizationBatch()},0))}},{key:"_stabilizationBatch",value:function(){!1===this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0);for(var t=0;!1===this.stabilized&&t<this.options.stabilization.updateInterval&&this.stabilizationIterations<this.targetIterations;)this.physicsTick(),t++;!1===this.stabilized&&this.stabilizationIterations<this.targetIterations?(this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations}),setTimeout(this._stabilizationBatch.bind(this),0)):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var i=this.body.nodes[this.physicsBody.physicsNodeIndices[e]],o=this.physicsBody.forces[this.physicsBody.physicsNodeIndices[e]],n=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),s=Math.min(Math.max(5,n),15),r=3*s,n=f.HSVToHex((180-180*Math.min(1,Math.max(0,.03*n)))/360,1,1),s=(t.lineWidth=s,t.strokeStyle=n,t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(i.x+20*o.x,i.y+20*o.y),t.stroke(),Math.atan2(o.y,o.x));t.fillStyle=n,t.arrowEndpoint(i.x+20*o.x+Math.cos(s)*r,i.y+20*o.y+Math.sin(s)*r,s,r),t.fill()}}}]),m);function m(t){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.body=t,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},f.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}e.default=i},function(t,e){function o(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0});(function(t,e,i){e&&o(t.prototype,e),i&&o(t,i)})(n,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&0<this.physicsBody.physicsNodeIndices.length){var t,e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,o=i.length,n=this._formBarnesHutTree(e,i);this.barnesHutTree=n;for(var s=0;s<o;s++)0<(t=e[i[s]]).options.mass&&(this._getForceContribution(n.root.children.NW,t),this._getForceContribution(n.root.children.NE,t),this._getForceContribution(n.root.children.SW,t),this._getForceContribution(n.root.children.SE,t))}}},{key:"_getForceContribution",value:function(t,e){var i,o,n;0<t.childrenCount&&(n=o=i=void 0,i=t.centerOfMass.x-e.x,o=t.centerOfMass.y-e.y,(n=Math.sqrt(i*i+o*o))*t.calcSize>this.thetaInversed?this._calculateForces(n,i,o,e,t):4===t.childrenCount?(this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)):t.children.data.id!=e.id&&this._calculateForces(n,i,o,e,t))}},{key:"_calculateForces",value:function(t,e,i,o,n){0===t&&(e=t=.1),this.overlapAvoidanceFactor<1&&o.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,t-o.shape.radius));n=this.options.gravitationalConstant*n.mass*o.options.mass/Math.pow(t,3),t=i*n;this.physicsBody.forces[o.id].x+=e*n,this.physicsBody.forces[o.id].y+=t}},{key:"_formBarnesHutTree",value:function(t,e){for(var i,o=e.length,n=t[e[0]].x,s=t[e[0]].y,r=t[e[0]].x,a=t[e[0]].y,h=1;h<o;h++){var d=t[e[h]].x,l=t[e[h]].y;0<t[e[h]].options.mass&&(d<n&&(n=d),r<d&&(r=d),l<s&&(s=l),a<l)&&(a=l)}var c=Math.abs(r-n)-Math.abs(a-s),c=(0<c?(s-=.5*c,a+=.5*c):(n+=.5*c,r-=.5*c),Math.max(1e-5,Math.abs(r-n))),u=.5*c,p=.5*(n+r),f=.5*(s+a),m={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:p-u,maxX:p+u,minY:f-u,maxY:f+u},size:c,calcSize:1/c,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(m.root);for(var g=0;g<o;g++)0<(i=t[e[g]]).options.mass&&this._placeInTree(m.root,i);return m}},{key:"_updateBranchMass",value:function(t,e){var i=t.mass+e.options.mass,o=1/i,o=(t.centerOfMass.x=t.centerOfMass.x*t.mass+e.x*e.options.mass,t.centerOfMass.x*=o,t.centerOfMass.y=t.centerOfMass.y*t.mass+e.y*e.options.mass,t.centerOfMass.y*=o,t.mass=i,Math.max(Math.max(e.height,e.radius),e.width));t.maxWidth=t.maxWidth<o?o:t.maxWidth}},{key:"_placeInTree",value:function(t,e,i){1==i&&void 0!==i||this._updateBranchMass(t,e),t.children.NW.range.maxX>e.x?t.children.NW.range.maxY>e.y?this._placeInRegion(t,e,"NW"):this._placeInRegion(t,e,"SW"):t.children.NW.range.maxY>e.y?this._placeInRegion(t,e,"NE"):this._placeInRegion(t,e,"SE")}},{key:"_placeInRegion",value:function(t,e,i){switch(t.children[i].childrenCount){case 0:t.children[i].children.data=e,t.children[i].childrenCount=1,this._updateBranchMass(t.children[i],e);break;case 1:t.children[i].children.data.x===e.x&&t.children[i].children.data.y===e.y?(e.x+=this.seededRandom(),e.y+=this.seededRandom()):(this._splitBranch(t.children[i]),this._placeInTree(t.children[i],e));break;case 4:this._placeInTree(t.children[i],e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var i=void 0,o=void 0,n=void 0,s=void 0,r=.5*t.size;switch(e){case"NW":i=t.range.minX,o=t.range.minX+r,n=t.range.minY,s=t.range.minY+r;break;case"NE":i=t.range.minX+r,o=t.range.maxX,n=t.range.minY,s=t.range.minY+r;break;case"SW":i=t.range.minX,o=t.range.minX+r,n=t.range.minY+r,s=t.range.maxY;break;case"SE":i=t.range.minX+r,o=t.range.maxX,n=t.range.minY+r,s=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:o,minY:n,maxY:s},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]);var i=n;function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.body=t,this.physicsBody=e,this.barnesHutTree,this.setOptions(i),this.randomSeed=5}e.default=i},function(t,e){function o(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.body=t,this.physicsBody=e,this.setOptions(i)}Object.defineProperty(e,"__esModule",{value:!0}),function(t,e,i){e&&o(t.prototype,e),i&&o(t,i)}(n,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,o,n,s=this.body.nodes,r=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces,h=this.options.nodeDistance,d=-2/3/h,l=0;l<r.length-1;l++)for(var c=s[r[l]],u=l+1;u<r.length;u++)t=(n=s[r[u]]).x-c.x,i=n.y-c.y,0===(e=Math.sqrt(t*t+i*i))&&(t=e=.1*Math.random()),e<2*h&&(o=e<.5*h?1:d*e+4/3,i=i*(o/=e),a[c.id].x-=e=t*o,a[c.id].y-=i,a[n.id].x+=e,a[n.id].y+=i)}}]),e.default=n},function(t,e){function o(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.body=t,this.physicsBody=e,this.setOptions(i)}Object.defineProperty(e,"__esModule",{value:!0}),function(t,e,i){e&&o(t.prototype,e),i&&o(t,i)}(n,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i=this.body.nodes,o=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,s=this.options.nodeDistance,r=0;r<o.length-1;r++)for(t=i[o[r]],e=r+1;e<o.length;e++){var a,h,d,l,c=i[o[e]];t.level===c.level&&(a=c.x-t.x,h=c.y-t.y,l=(d=Math.sqrt(a*a+h*h))<s?-Math.pow(.05*d,2)+Math.pow(.05*s,2):0,0===d?d=.01:l/=d,d=h*l,n[t.id].x-=h=a*l,n[t.id].y-=d,n[c.id].x+=h,n[c.id].y+=d)}}}]),e.default=n},function(t,e){function o(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0});(function(t,e,i){e&&o(t.prototype,e),i&&o(t,i)})(n,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,o,n=void 0,s=this.physicsBody.physicsEdgeIndices,r=this.body.edges,a=0;a<s.length;a++)!0===(t=r[s[a]]).connected&&t.toId!==t.fromId&&void 0!==this.body.nodes[t.toId]&&void 0!==this.body.nodes[t.fromId]&&(void 0!==t.edgeType.via?(n=void 0===t.options.length?this.options.springLength:t.options.length,e=t.to,i=t.edgeType.via,o=t.from,this._calculateSpringForce(e,i,.5*n),this._calculateSpringForce(i,o,.5*n)):(n=void 0===t.options.length?1.5*this.options.springLength:t.options.length,this._calculateSpringForce(t.from,t.to,n)))}},{key:"_calculateSpringForce",value:function(t,e,i){var o=t.x-e.x,n=t.y-e.y,s=Math.max(Math.sqrt(o*o+n*n),.01),i=this.options.springConstant*(i-s)/s,s=o*i,o=n*i;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=s,this.physicsBody.forces[t.id].y+=o),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=s,this.physicsBody.forces[e.id].y-=o)}}]);var i=n;function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.body=t,this.physicsBody=e,this.setOptions(i)}e.default=i},function(t,e){function o(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0});(function(t,e,i){e&&o(t.prototype,e),i&&o(t,i)})(n,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,o,n,s=this.body.edges,r=this.physicsBody.physicsEdgeIndices,a=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,d=0;d<a.length;d++){var l=a[d];h[l].springFx=0,h[l].springFy=0}for(var c=0;c<r.length;c++)!0===(t=s[r[c]]).connected&&(o=void 0===t.options.length?this.options.springLength:t.options.length,i=t.from.x-t.to.x,e=t.from.y-t.to.y,n=Math.sqrt(i*i+e*e),i=i*(u=this.options.springConstant*(o-(n=0===n?.01:n))/n),o=e*u,t.to.level!=t.from.level?(void 0!==h[t.toId]&&(h[t.toId].springFx-=i,h[t.toId].springFy-=o),void 0!==h[t.fromId]&&(h[t.fromId].springFx+=i,h[t.fromId].springFy+=o)):(void 0!==h[t.toId]&&(h[t.toId].x-=.5*i,h[t.toId].y-=.5*o),void 0!==h[t.fromId]&&(h[t.fromId].x+=.5*i,h[t.fromId].y+=.5*o)));for(var u=1,p=0;p<a.length;p++){var f=a[p],m=Math.min(u,Math.max(-u,h[f].springFx)),g=Math.min(u,Math.max(-u,h[f].springFy));h[f].x+=m,h[f].y+=g}for(var y=0,v=0,b=0;b<a.length;b++){var _=a[b];y+=h[_].x,v+=h[_].y}for(var w=y/a.length,x=v/a.length,k=0;k<a.length;k++){var O=a[k];h[O].x-=w,h[O].y-=x}}}]);var i=n;function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.body=t,this.physicsBody=e,this.setOptions(i)}e.default=i},function(t,e){function o(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.body=t,this.physicsBody=e,this.setOptions(i)}Object.defineProperty(e,"__esModule",{value:!0}),function(t,e,i){e&&o(t.prototype,e),i&&o(t,i)}(n,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=this.body.nodes,e=this.physicsBody.physicsNodeIndices,i=this.physicsBody.forces,o=0;o<e.length;o++){var n,s=-(n=t[e[o]]).x,r=-n.y,a=Math.sqrt(s*s+r*r);this._calculateForces(a,s,r,i,n)}}},{key:"_calculateForces",value:function(t,e,i,o,n){t=0===t?0:this.options.centralGravity/t;o[n.id].x=e*t,o[n.id].y=i*t}}]),e.default=n},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(96);i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var o=this,t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i);if(o)return!t||"object"!=typeof t&&"function"!=typeof t?o:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,[{key:"_calculateForces",value:function(t,e,i,o,n){0===t&&(e=t=.1*Math.random()),this.overlapAvoidanceFactor<1&&o.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,t-o.shape.radius));var s=o.edges.length+1,n=this.options.gravitationalConstant*n.mass*o.options.mass*s/Math.pow(t,2),s=i*n;this.physicsBody.forces[o.id].x+=e*n,this.physicsBody.forces[o.id].y+=s}}]),n}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(101);i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var o=this,t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i);if(o)return!t||"object"!=typeof t&&"function"!=typeof t?o:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o(n,[{key:"_calculateForces",value:function(t,e,i,o,n){0<t&&(t=n.edges.length+1,t=this.options.centralGravity*t*n.options.mass,o[n.id].x=e*t,o[n.id].y=i*t)}}]),n}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var C=s(i(105)),y=s(i(106));function s(t){return t&&t.__esModule?t:{default:t}}var E=i(1),i=(o(a,[{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===(void 0===t?"undefined":r(t))&&(e=this._checkOptions(t),t=this._getHubSize());for(var i=[],o=0;o<this.body.nodeIndices.length;o++){var n=this.body.nodes[this.body.nodeIndices[o]];n.edges.length>=t&&i.push(n.id)}for(var s=0;s<i.length;s++)this.clusterByConnection(i[s],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(void 0===t.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");for(var t=this._checkOptions(t),i={},o={},n=0;n<this.body.nodeIndices.length;n++){var s=this.body.nodeIndices[n],r=this.body.nodes[s],a=C.default.cloneOptions(r);if(!0===t.joinCondition(a)){i[s]=this.body.nodes[s];for(var h=0;h<r.edges.length;h++){var d=r.edges[h];void 0===this.clusteredEdges[d.id]&&(o[d.id]=d)}}}this._cluster(i,o,t,e)}},{key:"clusterByEdgeCount",value:function(t,e){for(var i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],o=(e=this._checkOptions(e),[]),n={},s=void 0,r=void 0,a=void 0,h=0;h<this.body.nodeIndices.length;h++){var d,l={},c={};if(void 0===n[d=this.body.nodeIndices[h]]){for(var a=0,u=this.body.nodes[d],r=[],p=0;p<u.edges.length;p++)s=u.edges[p],void 0===this.clusteredEdges[s.id]&&(s.toId!==s.fromId&&a++,r.push(s));if(a===t){for(var f=!0,m=0;m<r.length;m++){var s=r[m],g=this._getConnectedId(s,d);if(void 0===e.joinCondition)c[s.id]=s,l[d]=this.body.nodes[d],l[g]=this.body.nodes[g];else{g=C.default.cloneOptions(this.body.nodes[d]);if(!0!==e.joinCondition(g)){f=!1;break}c[s.id]=s,l[d]=this.body.nodes[d]}n[d]=!0}0<Object.keys(l).length&&0<Object.keys(c).length&&!0===f&&o.push({nodes:l,edges:c})}}}for(var y=0;y<o.length;y++)this._cluster(o[y].nodes,o[y].edges,e,!1);!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){this.clusterByEdgeCount(1,t,!(1<arguments.length&&void 0!==arguments[1])||arguments[1])}},{key:"clusterBridges",value:function(t){this.clusterByEdgeCount(2,t,!(1<arguments.length&&void 0!==arguments[1])||arguments[1])}},{key:"clusterByConnection",value:function(t,e){var i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var o=this.body.nodes[t],n=(void 0===(e=this._checkOptions(e,o)).clusterNodeProperties.x&&(e.clusterNodeProperties.x=o.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=o.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=o.options.fixed.x,e.clusterNodeProperties.fixed.y=o.options.fixed.y),{}),s={},r=o.id,a=C.default.cloneOptions(o);n[r]=o;for(var h=0;h<o.edges.length;h++){var d,l,c=o.edges[h];void 0===this.clusteredEdges[c.id]&&(d=this._getConnectedId(c,r),void 0===this.clusteredNodes[d])&&(d!==r?void 0!==e.joinCondition&&(l=C.default.cloneOptions(this.body.nodes[d]),!0!==e.joinCondition(a,l))||(s[c.id]=c,n[d]=this.body.nodes[d]):s[c.id]=c)}var u=Object.keys(n).map(function(t){return n[t].id});for(p in n)for(var p=n[p],f=0;f<p.edges.length;f++){var m=p.edges[f];-1<u.indexOf(this._getConnectedId(m,p.id))&&(s[m.id]=m)}this._cluster(n,s,e,i)}},{key:"_createClusterEdges",value:function(t,e,i,o){for(var n,s=void 0,r=void 0,a=void 0,h=Object.keys(t),d=[],l=0;l<h.length;l++)for(var c,u=t[c=h[l]],p=0;p<u.edges.length;p++)n=u.edges[p],void 0===this.clusteredEdges[n.id]&&(n.toId==n.fromId?e[n.id]=n:a=n.toId==c?(s=i.id,r=n.fromId):(s=n.toId,r=i.id,s),void 0===t[a])&&d.push({edge:n,fromId:r,toId:s});for(var f=0;f<d.length;f++){var m=d[f].edge,g=C.default.cloneOptions(m,"edge"),g=(E.deepExtend(g,o),g.from=d[f].fromId,g.to=d[f].toId,g.id="clusterEdge:"+E.randomUUID(),this.body.functions.createEdge(g));g.clusteringEdgeReplacingId=m.id,this.body.edges[m.id].edgeReplacedById=g.id,(this.body.edges[g.id]=g).connect(),this._backupEdgeOptions(m),m.setOptions({physics:!1,hidden:!0})}}},{key:"_checkOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,i){var o=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];if(0!=Object.keys(t).length&&(1!=Object.keys(t).length||1==i.clusterNodeProperties.allowSingleNodeCluster)){for(var n in t)if(t.hasOwnProperty(n)&&void 0!==this.clusteredNodes[n])return;var s=E.deepExtend({},i.clusterNodeProperties);if(void 0!==i.processProperties){var r,a,h=[];for(r in t)t.hasOwnProperty(r)&&(a=C.default.cloneOptions(t[r]),h.push(a));var d,l,c=[];for(d in e)e.hasOwnProperty(d)&&"clusterEdge:"!==d.substr(0,12)&&(l=C.default.cloneOptions(e[d],"edge"),c.push(l));if(!(s=i.processProperties(s,h,c)))throw new Error("The processProperties function does not return properties!")}void 0===s.id&&(s.id="cluster:"+E.randomUUID());var u,p,f,m=s.id,g=(void 0===s.label&&(s.label="cluster"),void 0),g=(void 0===s.x&&(g=this._getClusterPosition(t),s.x=g.x),void 0===s.y&&(void 0===g&&(g=this._getClusterPosition(t)),s.y=g.y),s.id=m,this.body.functions.createNode(s,y.default));for(u in g.isCluster=!0,g.containedNodes=t,g.containedEdges=e,g.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[s.id]=g,this._createClusterEdges(t,e,s,i.clusterEdgeProperties),e)e.hasOwnProperty(u)&&void 0!==this.body.edges[u]&&(p=this.body.edges[u],this._backupEdgeOptions(p),p.setOptions({physics:!1,hidden:!0}));for(f in t)t.hasOwnProperty(f)&&(this.clusteredNodes[f]={clusterId:s.id,node:this.body.nodes[f]},this.body.nodes[f].setOptions({hidden:!0,physics:!1}));!(s.id=void 0)===o&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics,hidden:t.options.hidden})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics,hidden:e.hidden}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]&&!0===this.body.nodes[t].isCluster}},{key:"_getClusterPosition",value:function(t){for(var e,i=Object.keys(t),o=t[i[0]].x,n=t[i[0]].x,s=t[i[0]].y,r=t[i[0]].y,a=1;a<i.length;a++)o=(e=t[i[a]]).x<o?e.x:o,n=e.x>n?e.x:n,s=e.y<s?e.y:s,r=e.y>r?e.y:r;return{x:.5*(o+n),y:.5*(s+r)}}},{key:"openCluster",value:function(t,e){var i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");if(void 0===this.body.nodes[t])throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(void 0!==this.body.nodes[t].containedNodes){var o,n,s,r=this.body.nodes[t],a=r.containedNodes,h=r.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){var d,l,c={},u={x:r.x,y:r.y};for(d in a)a.hasOwnProperty(d)&&(l=this.body.nodes[d],c[d]={x:l.x,y:l.y});var p,f,m=e.releaseFunction(u,c);for(p in a)a.hasOwnProperty(p)&&(f=this.body.nodes[p],void 0!==m[p])&&(f.x=(void 0===m[p].x?r:m[p]).x,f.y=(void 0===m[p].y?r:m[p]).y)}else for(var g in a)a.hasOwnProperty(g)&&(o=this.body.nodes[g],!1===(o=a[g]).options.fixed.x&&(o.x=r.x),!1===o.options.fixed.y)&&(o.y=r.y);for(n in a)a.hasOwnProperty(n)&&((s=this.body.nodes[n]).vx=r.vx,s.vy=r.vy,s.setOptions({hidden:!1,physics:!0}),delete this.clusteredNodes[n]);for(var y=[],v=0;v<r.edges.length;v++)y.push(r.edges[v]);for(var b,_=0;_<y.length;_++){var w,x,k,O,D=y[_],S=this._getConnectedId(D,t);void 0!==this.clusteredNodes[S]?(x=this.body.nodes[this.clusteredNodes[S].clusterId],void 0!==(w=this.body.edges[D.clusteringEdgeReplacingId])&&(delete h[(x.containedEdges[w.id]=w).id],k=w.fromId,O=w.toId,w.toId==S?O=this.clusteredNodes[S].clusterId:k=this.clusteredNodes[S].clusterId,S=C.default.cloneOptions(w,"edge"),E.deepExtend(S,x.clusterEdgeProperties),x="clusterEdge:"+E.randomUUID(),E.deepExtend(S,{from:k,to:O,hidden:!1,physics:!0,id:x}),(k=this.body.functions.createEdge(S)).clusteringEdgeReplacingId=w.id,this.body.edges[x]=k,this.body.edges[x].connect())):void 0!==(O=this.body.edges[D.clusteringEdgeReplacingId])&&this._restoreEdge(O),D.cleanup(),D.disconnect(),delete this.body.edges[D.id]}for(b in h)h.hasOwnProperty(b)&&this._restoreEdge(h[b]);delete this.body.nodes[t],!0===i&&this.body.emitter.emit("_dataChanged")}}},{key:"getNodesInCluster",value:function(t){var e=[];if(!0===this.isCluster(t)){var i,o=this.body.nodes[t].containedNodes;for(i in o)o.hasOwnProperty(i)&&e.push(this.body.nodes[i].id)}return e}},{key:"findNode",value:function(t){for(var e=[],i=0;void 0!==this.clusteredNodes[t]&&i<100;)e.push(this.body.nodes[t].id),t=this.clusteredNodes[t].clusterId,i++;return e.push(this.body.nodes[t].id),e.reverse(),e}},{key:"updateClusteredNode",value:function(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var i=this.getClusteredEdges(t),o=0;o<i.length;o++)this.body.edges[i[o]].setOptions(e);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var e=[],i=0;void 0!==t&&void 0!==this.body.edges[t]&&i<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,i++;return e.reverse(),e}},{key:"getBaseEdge",value:function(t){for(var e=t,i=0;void 0!==t&&void 0!==this.body.edges[t]&&i<100;)i++,void 0!==(t=this.body.edges[t].clusteringEdgeReplacingId)&&(e=t);return e}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:(t.fromId,t.fromId)}},{key:"_getHubSize",value:function(){for(var t=0,e=0,i=0,o=0,n=0;n<this.body.nodeIndices.length;n++){var s=this.body.nodes[this.body.nodeIndices[n]];s.edges.length>o&&(o=s.edges.length),t+=s.edges.length,e+=Math.pow(s.edges.length,2),i+=1}t/=i;var r=(e/=i)-Math.pow(t,2),r=Math.sqrt(r),r=Math.floor(t+2*r);return r=o<r?o:r}}]),a);function a(t){var e=this;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.body=t,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},E.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){e.clusteredNodes={},e.clusteredEdges={}})}e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=i(1);function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function")}o(r,null,[{key:"getRange",value:function(t){var e,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],o=1e9,n=-1e9,s=1e9,r=-1e9;if(0<i.length)for(var a=0;a<i.length;a++)s>(e=t[i[a]]).shape.boundingBox.left&&(s=e.shape.boundingBox.left),r<e.shape.boundingBox.right&&(r=e.shape.boundingBox.right),o>e.shape.boundingBox.top&&(o=e.shape.boundingBox.top),n<e.shape.boundingBox.bottom&&(n=e.shape.boundingBox.bottom);return 1e9===s&&-1e9===r&&1e9===o&&-1e9===n&&(r=s=n=o=0),{minX:s,maxX:r,minY:o,maxY:n}}},{key:"getRangeCore",value:function(t){var e,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],o=1e9,n=-1e9,s=1e9,r=-1e9;if(0<i.length)for(var a=0;a<i.length;a++)s>(e=t[i[a]]).x&&(s=e.x),r<e.x&&(r=e.x),o>e.y&&(o=e.y),n<e.y&&(n=e.y);return 1e9===s&&-1e9===r&&1e9===o&&-1e9===n&&(r=s=n=o=0),{minX:s,maxX:r,minY:o,maxY:n}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var i={};return void 0===e||"node"===e?(s.deepExtend(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):s.deepExtend(i,t.options,!0),i}}]),e.default=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var i=i(67);i=function(t){var e=s;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function s(t,e,i,o,n){if(this instanceof s)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,t,e,i,o,n))).isCluster=!0,t.containedNodes={},t.containedEdges={},t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),s}(((i=i)&&i.__esModule?i:{default:i}).default);e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}"undefined"!=typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame);var s=i(1),i=(o(r,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){return t.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){return t._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===t.renderingActive&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){--t.renderRequests,t.renderingActive=0<t.renderRequests,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,(!(t.renderingActive=!1)===t.requiresTimeout?clearTimeout:cancelAnimationFrame)(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(t){void 0!==t&&s.selectiveDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag"],this.options,t)}},{key:"_startRendering",value:function(){!0===this.renderingActive&&void 0===this.renderTimer&&(!0===this.requiresTimeout?this.renderTimer=window.setTimeout(this._renderStep.bind(this),this.simulationInterval):this.renderTimer=window.requestAnimationFrame(this._renderStep.bind(this)))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(!(this.renderTimer=void 0)===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout)&&this._startRendering()}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&((this.redrawRequested=!0)===this.requiresTimeout?window.setTimeout(function(){t._redraw(!1)},0):window.requestAnimationFrame(function(){t._redraw(!1)}))}},{key:"_redraw",value:function(){var t,e,i,o=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!0===this.allowRedraw&&(this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,t=this.canvas.frame.canvas.getContext("2d"),0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),e=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight,t.clearRect(0,0,e,i),0!==this.canvas.frame.clientWidth)&&(t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale),t.beginPath(),this.body.emitter.emit("beforeDrawing",t),t.closePath(),!1===o&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&this._drawEdges(t),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(t,o),t.beginPath(),this.body.emitter.emit("afterDrawing",t),t.closePath(),t.restore(),!0===o)&&t.clearRect(0,0,e,i)}},{key:"_resizeNodes",value:function(){var t,e=this.canvas.frame.canvas.getContext("2d"),i=(void 0===this.pixelRatio&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale),this.body.nodes),o=void 0;for(t in i)i.hasOwnProperty(t)&&((o=i[t]).resize(e),o.updateBoundingBox(e,o.selected));e.restore()}},{key:"_drawNodes",value:function(t){for(var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=this.body.nodes,o=this.body.nodeIndices,n=void 0,s=[],r=this.canvas.DOMtoCanvas({x:-20,y:-20}),a=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),h={top:r.y,left:r.x,bottom:a.y,right:a.x},d=0;d<o.length;d++)(n=i[o[d]]).isSelected()?s.push(o[d]):!0===e||!0===n.isBoundingBoxOverlappingWith(h)?n.draw(t):n.updateBoundingBox(t,n.selected);for(var l=0;l<s.length;l++)(n=i[s[l]]).draw(t)}},{key:"_drawEdges",value:function(t){for(var e=this.body.edges,i=this.body.edgeIndices,o=void 0,n=0;n<i.length;n++)!0===(o=e[i[n]]).connected&&o.draw(t)}},{key:"_determineBrowserMethod",value:function(){var t;("undefined"==typeof window||(t=navigator.userAgent.toLowerCase(),this.requiresTimeout=!1,-1!=t.indexOf("msie 9.0"))||-1!=t.indexOf("safari")&&t.indexOf("chrome")<=-1)&&(this.requiresTimeout=!0)}}]),r);function r(t,e){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.body=t,this.canvas=e,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.pixelRatio=void 0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},s.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=i(22),r=i(30),a=i(1),i=(o(h,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.once("resize",function(t){0!==t.width&&(e.body.view.translation.x=.5*t.width),0!==t.height&&(e.body.view.translation.y=.5*t.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()})}},{key:"setOptions",value:function(t){var e=this;void 0!==t&&a.selectiveDeepExtend(["width","height","autoResize"],this.options,t),!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval(function(){!0===e.setSize()&&e.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),a.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),a.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){var t,e,i;void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&0<this.cameraState.previousWidth&&(t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale,1!=t&&1!=e?i=.5*this.cameraState.scale*(t+e):1!=t?i=this.cameraState.scale*t:1!=e&&(i=this.cameraState.scale*e),this.body.view.scale=i,e=(t=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight})).x-this.cameraState.position.x,i=t.y-this.cameraState.position.y,this.body.view.translation.x+=e*this.body.view.scale,this.body.view.translation.y+=i*this.body.view.scale)}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==t.indexOf("%")||-1!==t.indexOf("px"))return t;if(-1===t.indexOf("%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);var t;this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext?(t=this.frame.canvas.getContext("2d"),this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.frame.canvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)):((t=document.createElement("DIV")).style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)),this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new s(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:s.DIRECTION_ALL}),r.onTouch(this.hammer,function(t){e.body.eventListeners.onTouch(t)}),this.hammer.on("tap",function(t){e.body.eventListeners.onTap(t)}),this.hammer.on("doubletap",function(t){e.body.eventListeners.onDoubleTap(t)}),this.hammer.on("press",function(t){e.body.eventListeners.onHold(t)}),this.hammer.on("panstart",function(t){e.body.eventListeners.onDragStart(t)}),this.hammer.on("panmove",function(t){e.body.eventListeners.onDrag(t)}),this.hammer.on("panend",function(t){e.body.eventListeners.onDragEnd(t)}),this.hammer.on("pinch",function(t){e.body.eventListeners.onPinch(t)}),this.frame.canvas.addEventListener("mousewheel",function(t){e.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(t){e.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("mousemove",function(t){e.body.eventListeners.onMouseMove(t)}),this.frame.canvas.addEventListener("contextmenu",function(t){e.body.eventListeners.onContext(t)}),this.hammerFrame=new s(this.frame),r.onRelease(this.hammerFrame,function(t){e.body.eventListeners.onRelease(t)})}},{key:"setSize",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.width,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.options.height,t=this._prepareValue(t),e=this._prepareValue(e),i=!1,o=this.frame.canvas.width,n=this.frame.canvas.height,s=this.frame.canvas.getContext("2d"),r=this.pixelRatio;return this.pixelRatio=(window.devicePixelRatio||1)/(s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e?(this._getCameraState(r),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0):(this.frame.canvas.width==Math.round(this.frame.canvas.clientWidth*this.pixelRatio)&&this.frame.canvas.height==Math.round(this.frame.canvas.clientHeight*this.pixelRatio)||this._getCameraState(r),this.frame.canvas.width!=Math.round(this.frame.canvas.clientWidth*this.pixelRatio)&&(this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),i=!0),this.frame.canvas.height!=Math.round(this.frame.canvas.clientHeight*this.pixelRatio)&&(this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),i=!0)),!0===i&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(o/this.pixelRatio),oldHeight:Math.round(n/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),h);function h(t){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.body=t,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},a.extend(this.options,this.defaultOptions),this.bindEventListeners()}e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=i(105),a=(s=s)&&s.__esModule?s:{default:s};var r=i(1),s=(o(h,[{key:"setOptions",value:function(){this.options=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}}},{key:"fit",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{nodes:[]},e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=void 0,o=void 0;if(void 0!==t.nodes&&0!==t.nodes.length||(t.nodes=this.body.nodeIndices),!0===e){var n,s=0;for(n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&!0===this.body.nodes[n].predefinedPosition&&(s+=1);if(s>.5*this.body.nodeIndices.length)return void this.fit(t,!1);i=a.default.getRange(this.body.nodes,t.nodes),o=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;o*=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600)}else{this.body.emitter.emit("_resizeNodes"),i=a.default.getRange(this.body.nodes,t.nodes);var e=1.1*Math.abs(i.maxX-i.minX),r=1.1*Math.abs(i.maxY-i.minY),e=this.canvas.frame.canvas.clientWidth/e,r=this.canvas.frame.canvas.clientHeight/r;o=e<=r?e:r}(1<o||0===o)&&(o=1);e={position:a.default.findCenter(i),scale:o,animation:t.animation};this.moveTo(e)}},{key:"focus",value:function(t){var e,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};void 0!==this.body.nodes[t]&&(e={x:this.body.nodes[t].x,y:this.body.nodes[t].y},i.position=e,i.lockedOnNode=t,this.moveTo(i))}},{key:"moveTo",value:function(t){void 0===t?t={}:(void 0===t.offset&&(t.offset={x:0,y:0}),void 0===t.offset.x&&(t.offset.x=0),void 0===t.offset.y&&(t.offset.y=0),void 0===t.scale&&(t.scale=this.body.view.scale),void 0===t.position&&(t.position=this.getViewPosition()),void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t))}},{key:"animateView",value:function(t){var e,i;void 0!==t&&(this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale,e=(i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})).x-t.position.x,i=i.y-t.position.y,this.targetTranslation={x:this.sourceTranslation.x+e*this.targetScale+t.offset.x,y:this.sourceTranslation.y+i*this.targetScale+t.offset.y},0===t.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")))}},{key:"_lockedRedraw",value:function(){var t=this.body.nodes[this.lockedOnNodeId].x,e=this.body.nodes[this.lockedOnNodeId].y,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),t=i.x-t,i=i.y-e,e=this.body.view.translation,t={x:e.x+t*this.body.view.scale+this.lockedOnNodeOffset.x,y:e.y+i*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=t}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=(this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime,r.easingFunctions[this.animationEasingFunction](this.easingTime));this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},1<=this.easingTime&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),h);function h(t,e){var i=this;if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.body=t,this.canvas=e,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){i.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}e.default=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=r(i(111)),m=r(i(112));function r(t){return t&&t.__esModule?t:{default:t}}var a=i(1),i=(o(h,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer})}},{key:"setOptions",value:function(t){void 0!==t&&(a.selectiveNotDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),a.mergeOptions(this.options,t,"keyboard"),t.tooltip)&&(a.extend(this.options.tooltip,t.tooltip),t.tooltip.color)&&(this.options.tooltip.color=a.parseColor(t.tooltip.color)),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-a.getAbsoluteLeft(this.canvas.frame.canvas),y:t.y-a.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(t){50<(new Date).valueOf()-this.touchTime&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(e,t,i),this.selectionHandler._generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(e,t,i),this.selectionHandler._generateClickEvent("click",t,e),this.selectionHandler._generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){var e;10<(new Date).valueOf()-this.touchTime&&(e=this.getPointer(t.center),this.selectionHandler._generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf())}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler._generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=this.selectionHandler._getSelectedEdgeCount(),n=this.selectionHandler._getSelectedNodeCount(),s=this.selectionHandler.getSelection(),r=void 0,r=!0===i?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t),i=this.selectionHandler._getSelectedEdgeCount(),a=this.selectionHandler._getSelectedNodeCount(),h=this.selectionHandler.getSelection(),h=this._determineIfDifferent(s,h),d=h.nodesChanged,h=h.edgesChanged,l=!1;0<a-n?(this.selectionHandler._generateClickEvent("selectNode",e,t),l=r=!0):!0===d&&0<a?(this.selectionHandler._generateClickEvent("deselectNode",e,t,s),this.selectionHandler._generateClickEvent("selectNode",e,t),r=l=!0):a-n<0&&(this.selectionHandler._generateClickEvent("deselectNode",e,t,s),r=!0),0<i-o&&!1===l?(this.selectionHandler._generateClickEvent("selectEdge",e,t),r=!0):0<i&&!0===h?(this.selectionHandler._generateClickEvent("deselectEdge",e,t,s),this.selectionHandler._generateClickEvent("selectEdge",e,t),r=!0):i-o<0&&(this.selectionHandler._generateClickEvent("deselectEdge",e,t,s),r=!0),!0===r&&this.selectionHandler._generateClickEvent("select",e,t)}},{key:"_determineIfDifferent",value:function(t,e){for(var i=!1,o=!1,n=0;n<t.nodes.length;n++)-1===e.nodes.indexOf(t.nodes[n])&&(i=!0);for(var s=0;s<e.nodes.length;s++)-1===t.nodes.indexOf(t.nodes[s])&&(i=!0);for(var r=0;r<t.edges.length;r++)-1===e.edges.indexOf(t.edges[r])&&(o=!0);for(var a=0;a<e.edges.length;a++)-1===t.edges.indexOf(t.edges[a])&&(o=!0);return{nodesChanged:i,edgesChanged:o}}},{key:"onDragStart",value:function(t){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=a.extend({},this.body.view.translation),(this.drag.nodeId=void 0)!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(e)),this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer);var i,o,n,s=this.selectionHandler.selectionObj.nodes;for(i in s)s.hasOwnProperty(i)&&(n={id:(o=s[i]).id,node:o,x:o.x,y:o.y,xFixed:o.options.fixed.x,yFixed:o.options.fixed.y},o.options.fixed.x=!0,o.options.fixed.y=!0,this.drag.selection.push(n))}else this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(t){var e,i,o,n,s=this;!0!==this.drag.pinched&&(this.body.emitter.emit("unlockNode"),e=this.getPointer(t.center),(i=this.drag.selection)&&i.length&&!0===this.options.dragNodes?(s.selectionHandler._generateClickEvent("dragging",t,e),o=e.x-s.drag.pointer.x,n=e.y-s.drag.pointer.y,i.forEach(function(t){var e=t.node;!1===t.xFixed&&(e.x=s.canvas._XconvertDOMtoCanvas(s.canvas._XconvertCanvasToDOM(t.x)+o)),!1===t.yFixed&&(e.y=s.canvas._YconvertDOMtoCanvas(s.canvas._YconvertCanvasToDOM(t.y)+n))}),s.body.emitter.emit("startSimulation")):!0===this.options.dragView&&(this.selectionHandler._generateClickEvent("dragging",t,e,void 0,!0),void 0===this.drag.pointer?this.onDragStart(t):(i=e.x-this.drag.pointer.x,t=e.y-this.drag.pointer.y,this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+t},this.body.emitter.emit("_redraw"))))}},{key:"onDragEnd",value:function(t){this.drag.dragging=!1;var e=this.drag.selection;e&&e.length?(e.forEach(function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center),t=(this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1),this.pinch.scale*t.scale);this.zoom(t,e)}},{key:"zoom",value:function(t,e){var i,o,n,s,r;!0===this.options.zoomView&&(i=this.body.view.scale,o=void(10<(t=t<1e-5?1e-5:t)&&(t=10)),void 0!==this.drag&&!0===this.drag.dragging&&(o=this.canvas.DOMtoCanvas(this.drag.pointer)),r=this.body.view.translation,s=(1-(n=t/i))*e.x+r.x*n,e=(1-n)*e.y+r.y*n,this.body.view.scale=t,this.body.view.translation={x:s,y:e},null!=o&&(r=this.canvas.canvasToDOM(o),this.drag.pointer.x=r.x,this.drag.pointer.y=r.y),this.body.emitter.emit("_requestRedraw"),i<t?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale}))}},{key:"onMouseWheel",value:function(t){var e,i,o;!0===this.options.zoomView&&(o=0,t.wheelDelta?o=t.wheelDelta/120:t.detail&&(o=-t.detail/3),0!==o&&(e=this.body.view.scale,i=o/10,o<0&&(i/=1-i),e*=1+i,o=this.getPointer({x:t.clientX,y:t.clientY}),this.zoom(e,o)),t.preventDefault())}},{key:"onMouseMove",value:function(t){var e=this,i=this.getPointer({x:t.clientX,y:t.clientY}),t=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(i),!1===this.popup.hidden)&&(t=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show()),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===t&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return e._checkShowPopup(i)},this.options.tooltipDelay))),!0===this.options.hover&&(void 0===(t=this.selectionHandler.getNodeAt(i))&&(t=this.selectionHandler.getEdgeAt(i)),this.selectionHandler.hoverObject(t))}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),o={left:e,top:i,right:e,bottom:i},e=void 0===this.popupObj?void 0:this.popupObj.id,i=!1,n="node";if(void 0===this.popupObj){for(var s=this.body.nodeIndices,r=this.body.nodes,a=void 0,h=[],d=0;d<s.length;d++)!0===(a=r[s[d]]).isOverlappingWith(o)&&void 0!==a.getTitle()&&h.push(s[d]);0<h.length&&(this.popupObj=r[h[h.length-1]],i=!0)}if(void 0===this.popupObj&&!1===i){for(var l=this.body.edgeIndices,c=this.body.edges,u=void 0,p=[],f=0;f<l.length;f++)!0===(u=c[l[f]]).isOverlappingWith(o)&&!0===u.connected&&void 0!==u.getTitle()&&p.push(l[f]);0<p.length&&(this.popupObj=c[p[p.length-1]],n="edge")}void 0!==this.popupObj?this.popupObj.id!==e&&(void 0===this.popup&&(this.popup=new m.default(this.canvas.frame)),this.popup.popupTargetType=n,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),i=!1;"node"===this.popup.popupTargetType?void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e))&&(i=this.selectionHandler.getNodeAt(t).id===this.popup.popupTargetId):void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e)),!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),h);function h(t,e,i){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.body=t,this.canvas=e,this.selectionHandler=i,this.navigationHandler=new s.default(t,e),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},a.extend(this.options,this.defaultOptions),this.bindEventListeners()}e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}i(1);var r=i(22),a=i(30),s=i(25),i=(o(h,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this,e=(this.cleanNavigation(),this.navigationDOM={},["up","down","left","right","zoomIn","zoomOut","zoomExtends"]),i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var o=0;o<e.length;o++){this.navigationDOM[e[o]]=document.createElement("div"),this.navigationDOM[e[o]].className="vis-button vis-"+e[o],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[o]]);var n=new r(this.navigationDOM[e[o]]);"_fit"===i[o]?a.onTouch(n,this._fit.bind(this)):a.onTouch(n,this.bindToRedraw.bind(this,i[o])),this.navigationHammers.push(n)}var s=new r(this.canvas.frame);a.onRelease(s,function(){t._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=this[t].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){700<(new Date).valueOf()-this.touchTime&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)this.boundFunctions.hasOwnProperty(t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale,e=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,t=e/t,o=(1-t)*this.canvas.canvasViewCenter.x+i.x*t,i=(1-t)*this.canvas.canvasViewCenter.y+i.y*t;this.body.view.scale=e,this.body.view.translation={x:o,y:i},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale,e=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,t=e/t,o=(1-t)*this.canvas.canvasViewCenter.x+i.x*t,i=(1-t)*this.canvas.canvasViewCenter.y+i.y*t;this.body.view.scale=e,this.body.view.translation={x:o,y:i},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale})}},{key:"configureKeyboardBindings",value:function(){var t=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(!0===this.options.keyboard.bindToWindow?this.keycharm=s({container:window,preventDefault:!0}):this.keycharm=s({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated)&&(this.keycharm.bind("up",function(){t.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){t.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){t.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){t.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){t.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){t.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){t.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){t.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){t.unbindFromRedraw("_zoomOut")},"keyup"))}}]),h);function h(t,e){var i=this;if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.body=t,this.canvas=e,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){i.activated=!0,i.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){i.activated=!1,i.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==i.keycharm&&i.keycharm.destroy()}),this.options={}}e.default=i},function(t,e){function o(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.container=t,this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-network-tooltip",this.container.appendChild(this.frame)}Object.defineProperty(e,"__esModule",{value:!0}),function(t,e,i){e&&o(t.prototype,e),i&&o(t,i)}(i,[{key:"setPosition",value:function(t,e){this.x=parseInt(t),this.y=parseInt(e)}},{key:"setText",value:function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=t}},{key:"show",value:function(t){var e,i,o,n;!0===(t=void 0===t?!0:t)?(t=this.frame.clientHeight,e=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,i=this.frame.parentNode.clientWidth,(o=(o=this.y-t)+t+this.padding>n?n-t-this.padding:o)<this.padding&&(o=this.padding),(n=(n=this.x)+e+this.padding>i?i-e-this.padding:n)<this.padding&&(n=this.padding),this.frame.style.left=n+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1):this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.visibility="hidden"}}]),e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=a(i(67)),r=a(i(87));function a(t){return t&&t.__esModule?t:{default:t}}var h=i(1),i=(o(d,[{key:"setOptions",value:function(t){void 0!==t&&h.selectiveDeepExtend(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}},{key:"selectOnPoint",value:function(t){var e=!1;return!0===this.options.selectable&&(t=this.getNodeAt(t)||this.getEdgeAt(t),this.unselectAll(),void 0!==t&&(e=this.selectObject(t)),this.body.emitter.emit("_requestRedraw")),e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;return!0===this.options.selectable&&void 0!==(t=this.getNodeAt(t)||this.getEdgeAt(t))&&((e=!0)===t.isSelected()?this.deselectObject(t):this.selectObject(t),this.body.emitter.emit("_requestRedraw")),e}},{key:"_generateClickEvent",value:function(t,e,i,o){var n=void 0;(n=!0===(4<arguments.length&&void 0!==arguments[4]&&arguments[4])?{nodes:[],edges:[]}:this.getSelection()).pointer={DOM:{x:i.x,y:i.y},canvas:this.canvas.DOMtoCanvas(i)},n.event=e,void 0!==o&&(n.previousSelection=o),this.body.emitter.emit(t,n)}},{key:"selectObject",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==t&&(t instanceof s.default&&!0===e&&this._selectConnectedEdges(t),t.select(),this._addToSelection(t),!0)}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],i=this.body.nodes,o=0;o<this.body.nodeIndices.length;o++){var n=this.body.nodeIndices[o];i[n].isOverlappingWith(t)&&e.push(n)}return e}},{key:"_pointerToPositionObject",value:function(t){t=this.canvas.DOMtoCanvas(t);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}},{key:"getNodeAt",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],t=this._pointerToPositionObject(t),t=this._getAllNodesOverlappingWith(t);if(0<t.length)return!0===e?this.body.nodes[t[t.length-1]]:t[t.length-1]}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var i=this.body.edges,o=0;o<this.body.edgeIndices.length;o++){var n=this.body.edgeIndices[o];i[n].isOverlappingWith(t)&&e.push(n)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){for(var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=this.canvas.DOMtoCanvas(t),o=10,n=null,s=this.body.edges,r=0;r<this.body.edgeIndices.length;r++){var a,h,d,l,c=this.body.edgeIndices[r],u=s[c];u.connected&&(a=u.from.x,h=u.from.y,d=u.to.x,l=u.to.y,(u=u.edgeType.getDistanceToEdge(a,h,d,l,i.x,i.y))<o)&&(n=c,o=u)}if(n)return!0===e?this.body.edges[n]:n}},{key:"_addToSelection",value:function(t){t instanceof s.default?this.selectionObj.nodes[t.id]=t:this.selectionObj.edges[t.id]=t}},{key:"_addToHover",value:function(t){t instanceof s.default?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){t instanceof s.default?(delete this.selectionObj.nodes[t.id],this._unselectConnectedEdges(t)):delete this.selectionObj.edges[t.id]}},{key:"unselectAll",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].unselect();for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&this.selectionObj.edges[e].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var t,e=0;for(t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(e+=1);return e}},{key:"_getSelectedNode",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return this.selectionObj.nodes[t]}},{key:"_getSelectedEdge",value:function(){for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return this.selectionObj.edges[t]}},{key:"_getSelectedEdgeCount",value:function(){var t,e=0;for(t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&(e+=1);return e}},{key:"_getSelectedObjectCount",value:function(){var t,e,i=0;for(t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(i+=1);for(e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(i+=1);return i}},{key:"_selectionIsEmpty",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return!1;for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t)&&1<this.selectionObj.nodes[t].clusterSize)return!0;return!1}},{key:"_selectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.select(),this._addToSelection(i)}}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.hover=!0,this._addToHover(i)}}},{key:"_unselectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.unselect(),this._removeFromSelection(i)}}},{key:"blurObject",value:function(t){!0===t.hover&&(t.hover=!1,t instanceof s.default?this.body.emitter.emit("blurNode",{node:t.id}):this.body.emitter.emit("blurEdge",{edge:t.id}))}},{key:"hoverObject",value:function(t){var e,i,o=!1;for(e in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(e)&&(void 0===t||t instanceof s.default&&t.id!=e||t instanceof r.default)&&(this.blurObject(this.hoverObj.nodes[e]),delete this.hoverObj.nodes[e],o=!0);for(i in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(i)&&(!0===o?(this.hoverObj.edges[i].hover=!1,delete this.hoverObj.edges[i]):(void 0===t||t instanceof r.default)&&(this.blurObject(this.hoverObj.edges[i]),delete this.hoverObj.edges[i],o=!0));void 0!==t&&(!1===t.hover&&(t.hover=!0,this._addToHover(t),o=!0,t instanceof s.default?this.body.emitter.emit("hoverNode",{node:t.id}):this.body.emitter.emit("hoverEdge",{edge:t.id})),t instanceof s.default)&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(t),!0===o&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&t.push(this.selectionObj.nodes[e].id);return t}},{key:"getSelectedEdges",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&t.push(this.selectionObj.edges[e].id);return t}},{key:"setSelection",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=void 0,o=void 0;if(!t||!t.nodes&&!t.edges)throw"Selection must be an object with nodes and/or edges properties";if(!e.unselectAll&&void 0!==e.unselectAll||this.unselectAll(),t.nodes)for(i=0;i<t.nodes.length;i++){var o=t.nodes[i],n=this.body.nodes[o];if(!n)throw new RangeError('Node with id "'+o+'" not found');this.selectObject(n,e.highlightEdges)}if(t.edges)for(i=0;i<t.edges.length;i++){o=t.edges[i];var s=this.body.edges[o];if(!s)throw new RangeError('Edge with id "'+o+'" not found');this.selectObject(s)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:!(1<arguments.length&&void 0!==arguments[1])||arguments[1]})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this.selectionObj.nodes)!this.selectionObj.nodes.hasOwnProperty(t)||this.body.nodes.hasOwnProperty(t)||delete this.selectionObj.nodes[t];for(var e in this.selectionObj.edges)!this.selectionObj.edges.hasOwnProperty(e)||this.body.edges.hasOwnProperty(e)||delete this.selectionObj.edges[e]}}]),d);function d(t,e){var i=this;if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.body=t,this.canvas=e,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},h.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){i.updateSelection()})}e.default=i},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var F=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var i=e,o=[],n=!0,e=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done)&&(o.push(r.value),!i||o.length!==i);n=!0);}catch(t){e=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(e)throw s}}return o}throw new TypeError("Invalid attempt to destructure non-iterable instance")},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r=i(105),a=(r=r)&&r.__esModule?r:{default:r};var h=i(1),r=(n(d,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){t.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){t.setupHierarchicalLayout()})}},{key:"setOptions",value:function(t,e){if(void 0!==t){var i=this.options.hierarchical.enabled;if(h.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,t),h.mergeOptions(this.options,t,"hierarchical"),void 0!==t.randomSeed&&(this.initialRandomSeed=t.randomSeed),!0===this.options.hierarchical.enabled)return!0===i&&this.body.emitter.emit("refresh",!0),"RL"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?0<this.options.hierarchical.levelSeparation&&(this.options.hierarchical.levelSeparation*=-1):this.options.hierarchical.levelSeparation<0&&(this.options.hierarchical.levelSeparation*=-1),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===i)return this.body.emitter.emit("refresh"),h.deepExtend(e,this.optionsBackup)}return e}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){var e;return!0===this.options.hierarchical.enabled&&(void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===this.optionsBackup.physics.enabled||this.optionsBackup.physics.enabled,solver:"hierarchicalRepulsion"},this.optionsBackup.physics.enabled=void 0===this.optionsBackup.physics.enabled||this.optionsBackup.physics.enabled,this.optionsBackup.physics.solver=this.optionsBackup.physics.solver||"barnesHut"):"object"===o(t.physics)?(this.optionsBackup.physics.enabled=void 0===t.physics.enabled||t.physics.enabled,this.optionsBackup.physics.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(this.optionsBackup.physics.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"}),e="horizontal","RL"!==this.options.hierarchical.direction&&"LR"!==this.options.hierarchical.direction||(e="vertical"),void 0===t.edges?(this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1}):void 0===t.edges.smooth?(this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1):"boolean"==typeof t.edges.smooth?(this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:e}):(void 0!==t.edges.smooth.type&&"dynamic"!==t.edges.smooth.type&&(e=t.edges.smooth.type),this.optionsBackup.edges={smooth:void 0===t.edges.smooth.enabled||t.edges.smooth.enabled,type:void 0===t.edges.smooth.type?"dynamic":t.edges.smooth.type,roundness:void 0===t.edges.smooth.roundness?.5:t.edges.smooth.roundness,forceDirection:void 0!==t.edges.smooth.forceDirection&&t.edges.smooth.forceDirection},t.edges.smooth={enabled:void 0===t.edges.smooth.enabled||t.edges.smooth.enabled,type:e,roundness:void 0===t.edges.smooth.roundness?.5:t.edges.smooth.roundness,forceDirection:void 0!==t.edges.smooth.forceDirection&&t.edges.smooth.forceDirection}),this.body.emitter.emit("_forceDisableDynamicCurves",e)),t}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"positionInitially",value:function(t){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var e=0;e<t.length;e++){var i=t[e],o=+t.length+10,n=2*Math.PI*this.seededRandom();void 0===i.x&&(i.x=o*Math.cos(n)),void 0===i.y&&(i.y=o*Math.sin(n))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t=0,e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].predefinedPosition&&(t+=1);if(t<.5*this.body.nodeIndices.length){var i=0;if(100<this.body.nodeIndices.length){for(var o=this.body.nodeIndices.length;100<this.body.nodeIndices.length;){i+=1;var n=this.body.nodeIndices.length;if(i%3==0?this.body.modules.clustering.clusterBridges():this.body.modules.clustering.clusterOutliers(),n==this.body.nodeIndices.length&&i%3!=0||10<i)return this._declusterAll(),void this.body.emitter.emit("_layoutFailed")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*o)})}this.body.modules.kamadaKawai.solve(this.body.nodeIndices,this.body.edgeIndices,!0),this._shiftToCenter();for(var s=0;s<this.body.nodeIndices.length;s++)!1===this.body.nodes[this.body.nodeIndices[s]].predefinedPosition&&(this.body.nodes[this.body.nodeIndices[s]].x+=70*(.5-this.seededRandom()),this.body.nodes[this.body.nodeIndices[s]].y+=70*(.5-this.seededRandom()));this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=a.default.getRangeCore(this.body.nodes,this.body.nodeIndices),e=a.default.findCenter(t),i=0;i<this.body.nodeIndices.length;i++)this.body.nodes[this.body.nodeIndices[i]].x-=e.x,this.body.nodes[this.body.nodeIndices[i]].y-=e.y}},{key:"_declusterAll",value:function(){for(var t=!0;!0===t;){for(var t=!1,e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!(t=!0));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&0<this.body.nodeIndices.length){var t,e,i=void 0,o=!1,n=!1;for(i in this.hierarchicalLevels={},this.lastNodeOnLevel={},this.hierarchicalChildrenReference={},this.hierarchicalParentReference={},this.hierarchicalTrees={},this.treeIndex=-1,this.distributionOrdering={},this.distributionIndex={},this.distributionOrderingPresence={},this.body.nodes)this.body.nodes.hasOwnProperty(i)&&(void 0===(t=this.body.nodes[i]).options.x&&t.options.y,void 0!==t.options.level?(o=!0,this.hierarchicalLevels[i]=t.options.level):n=!0);if(!0===n&&!0===o)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");for(e in!0===n&&("hubsize"===this.options.hierarchical.sortMethod?this._determineLevelsByHubsize():"directed"===this.options.hierarchical.sortMethod?this._determineLevelsDirected():"custom"===this.options.hierarchical.sortMethod&&this._determineLevelsCustomCallback()),this.body.nodes)this.body.nodes.hasOwnProperty(e)&&void 0===this.hierarchicalLevels[e]&&(this.hierarchicalLevels[e]=0);var s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){function t(t,e){for(var i in y.hierarchicalTrees){var o;y.hierarchicalTrees.hasOwnProperty(i)&&y.hierarchicalTrees[i]===t&&(i=y.body.nodes[i],o=y._getPositionForHierarchy(i),y._setPositionForHierarchy(i,o+e,void 0,!0))}}function e(){for(var t=[],e=0;e<=y.treeIndex;e++)t.push(s(e));return t}function n(t){var e=y.hierarchicalLevels[t];if(y.hierarchicalChildrenReference[t]){var i=y.hierarchicalChildrenReference[t];if(0<i.length)for(var o=0;o<i.length;o++)e=Math.max(e,n(i[o]))}return e}function i(t,e){var i,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=y._getPositionForHierarchy(t),s=y._getPositionForHierarchy(e);Math.abs(s-n)>y.options.hierarchical.nodeSpacing&&((s={})[t.id]=!0,(n={})[e.id]=!0,_(t,s),_(e,n),t=r(t,e),s=w(s,t),(s=F(s,4))[0],i=s[1],s[2],s[3],s=w(n,t),t=(n=F(s,4))[0],n[1],s=n[2],n[3],Math.abs(i-t)>y.options.hierarchical.nodeSpacing)&&(n=(n=i-t+y.options.hierarchical.nodeSpacing)<-s+y.options.hierarchical.nodeSpacing?-s+y.options.hierarchical.nodeSpacing:n)<0&&(y._shiftBlock(e.id,n),(v=!0)===o)&&y._centerParent(e)}function o(t,a){for(var e=a.id,i=a.edges,o=y.hierarchicalLevels[a.id],h=y.options.hierarchical.levelSeparation*y.options.hierarchical.levelSeparation,d={},n=[],s=0;s<i.length;s++){var r,l=i[s];l.toId!=l.fromId&&(r=l.toId==e?l.from:l.to,d[i[s].id]=r,y.hierarchicalLevels[r.id]<o)&&n.push(l)}function c(t,e){for(var i=y._getPositionForHierarchy(a),o={},n=0;n<t;n++){var s=function(t,e){for(var i,o=0,n=0;n<e.length;n++)void 0!==d[e[n].id]&&(o+=(i=y._getPositionForHierarchy(d[e[n].id])-t)/Math.sqrt(i*i+h));return o}(i,e),r=function(t,e){for(var i,o=0,n=0;n<e.length;n++)void 0!==d[e[n].id]&&(i=y._getPositionForHierarchy(d[e[n].id])-t,o-=h*Math.pow(i*i+h,-1.5));return o}(i,e);if(void 0!==o[i-=Math.max(-40,Math.min(40,Math.round(s/r)))])break;o[i]=n}return i}var u,p,f,m,g=c(t,n);p=g,m=y._getPositionForHierarchy(a),void 0===b[a.id]&&((u={})[a.id]=!0,_(a,u),b[a.id]=u),u=w(b[a.id]),(u=F(u,4))[0],u[1],f=u[2],u=u[3],p-=m,(m=0)<p?m=Math.min(p,u-y.options.hierarchical.nodeSpacing):p<0&&(m=-Math.min(-p,f-y.options.hierarchical.nodeSpacing)),0!=m&&(y._shiftBlock(a.id,m),v=!0),g=c(t,i),u=g,p=y._getPositionForHierarchy(a),f=y._getSpaceAroundNode(a),f=F(f,2),m=f[0],f=f[1],0<(g=u-(t=p))?t=Math.min(p+(f-y.options.hierarchical.nodeSpacing),u):g<0&&(t=Math.max(p-(m-y.options.hierarchical.nodeSpacing),u)),t!==p&&(y._setPositionForHierarchy(a,t,void 0,!0),v=!0)}var y=this,v=!1,b={},s=function(t){var e,i,o=1e9,n=-1e9;for(e in y.hierarchicalTrees)y.hierarchicalTrees.hasOwnProperty(e)&&y.hierarchicalTrees[e]===t&&(i=y._getPositionForHierarchy(y.body.nodes[e]),o=Math.min(i,o),n=Math.max(i,n));return{min:o,max:n}},_=function t(e,i){if(i[e.id]=!0,y.hierarchicalChildrenReference[e.id]){var o=y.hierarchicalChildrenReference[e.id];if(0<o.length)for(var n=0;n<o.length;n++)t(y.body.nodes[o[n]],i)}},w=function(t){var e,i,o,n,s,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e9,a=1e9,h=1e9,d=1e9,l=-1e9;for(e in t)t.hasOwnProperty(e)&&(s=y.body.nodes[e],i=y.hierarchicalLevels[s.id],o=y._getPositionForHierarchy(s),s=y._getSpaceAroundNode(s,t),n=(s=F(s,2))[0],s=s[1],a=Math.min(n,a),h=Math.min(s,h),i<=r)&&(d=Math.min(o,d),l=Math.max(o,l));return[d,l,a,h]},r=function(t,e){t=n(t.id),e=n(e.id);return Math.min(t,e)},a=function(t,e){var i=y.hierarchicalParentReference[t.id],o=y.hierarchicalParentReference[e.id];if(void 0!==i&&void 0!==o)for(var n=0;n<i.length;n++)for(var s=0;s<o.length;s++)if(i[n]==o[s])return!0;return!1};if(!0===this.options.hierarchical.blockShifting){{var h=5;for(var d=(d=Object.keys(y.distributionOrdering)).reverse(),l=0;l<h;l++){v=!1;for(var c=i,u=d,p=!(x=g=m=f=void 0),f=0;f<u.length;f++){var m=u[f],g=y.distributionOrdering[m];if(1<g.length)for(var x=0;x<g.length-1;x++)!0===a(g[x],g[x+1])&&y.hierarchicalTrees[g[x].id]===y.hierarchicalTrees[g[x+1].id]&&c(g[x],g[x+1],p)}if(!0!==v)break}}for(var k in y.body.nodes)y.body.nodes.hasOwnProperty(k)&&y._centerParent(y.body.nodes[k])}if(!0===this.options.hierarchical.edgeMinimization)for(var O=20,D=(D=Object.keys(y.distributionOrdering)).reverse(),S=0;S<O;S++){v=!1;for(var C=0;C<D.length;C++)for(var z=D[C],E=y.distributionOrdering[z],T=0;T<E.length;T++)o(1e3,E[T]);if(!0!==v)break}if(!0===this.options.hierarchical.parentCentralization)for(var M=(M=Object.keys(y.distributionOrdering)).reverse(),P=0;P<M.length;P++)for(var A=M[P],I=y.distributionOrdering[A],N=0;N<I.length;N++)y._centerParent(I[N]);for(var R=e(),L=0;L<R.length-1;L++){var B=R[L].max-R[L+1].min;t(L+1,B+y.options.hierarchical.treeSpacing)}}},{key:"_getSpaceAroundNode",value:function(t,e){var i,o,n,s,r=!0,a=(void 0===e&&(r=!1),this.hierarchicalLevels[t.id]);return void 0!==a?(i=this.distributionIndex[t.id],t=this._getPositionForHierarchy(t),s=o=1e9,0!==i&&(n=this.distributionOrdering[a][i-1],!0===r&&void 0===e[n.id]||!1===r)&&(o=t-this._getPositionForHierarchy(n)),i!=this.distributionOrdering[a].length-1&&(n=this.distributionOrdering[a][i+1],!0===r&&void 0===e[n.id]||!1===r)&&(a=this._getPositionForHierarchy(n),s=Math.min(s,a-t)),[o,s]):[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchicalParentReference[t.id])for(var e=this.hierarchicalParentReference[t.id],i=0;i<e.length;i++){var o=e[i],n=this.body.nodes[o];if(this.hierarchicalChildrenReference[o]){var s=1e9,r=-1e9,a=this.hierarchicalChildrenReference[o];if(0<a.length)for(var h=0;h<a.length;h++)var d=this.body.nodes[a[h]],s=Math.min(s,this._getPositionForHierarchy(d)),r=Math.max(r,this._getPositionForHierarchy(d));var o=this._getPositionForHierarchy(n),l=this._getSpaceAroundNode(n),l=F(l,2),c=l[0],l=l[1],u=.5*(s+r),o=o-u;(o<0&&Math.abs(o)<l-this.options.hierarchical.nodeSpacing||0<o&&Math.abs(o)<c-this.options.hierarchical.nodeSpacing)&&this._setPositionForHierarchy(n,u,void 0,!0)}}}},{key:"_placeNodesByHierarchy",value:function(t){for(var e in this.positionedNodes={},t)if(t.hasOwnProperty(e)){var i=Object.keys(t[e]),i=this._indexArrayToNodes(i);this._sortNodeArray(i);for(var o=0,n=0;n<i.length;n++){var s,r=i[n];void 0===this.positionedNodes[r.id]&&(s=this.options.hierarchical.nodeSpacing*o,0<o&&(s=this._getPositionForHierarchy(i[n-1])+this.options.hierarchical.nodeSpacing),this._setPositionForHierarchy(r,s,e),this._validataPositionAndContinue(r,e,s),o++)}}}},{key:"_placeBranchNodes",value:function(t,e){if(void 0!==this.hierarchicalChildrenReference[t]){for(var i=[],o=0;o<this.hierarchicalChildrenReference[t].length;o++)i.push(this.body.nodes[this.hierarchicalChildrenReference[t][o]]);this._sortNodeArray(i);for(var n=0;n<i.length;n++){var s=i[n],r=this.hierarchicalLevels[s.id];if(!(e<r&&void 0===this.positionedNodes[s.id]))return;var a=void 0,a=0===n?this._getPositionForHierarchy(this.body.nodes[t]):this._getPositionForHierarchy(i[n-1])+this.options.hierarchical.nodeSpacing;this._setPositionForHierarchy(s,a,r),this._validataPositionAndContinue(s,r,a)}for(var h=1e9,d=-1e9,l=0;l<i.length;l++)var c=i[l].id,h=Math.min(h,this._getPositionForHierarchy(this.body.nodes[c])),d=Math.max(d,this._getPositionForHierarchy(this.body.nodes[c]));this._setPositionForHierarchy(this.body.nodes[t],.5*(h+d),e)}}},{key:"_validataPositionAndContinue",value:function(t,e,i){var o;void 0!==this.lastNodeOnLevel[e]&&i-(o=this._getPositionForHierarchy(this.body.nodes[this.lastNodeOnLevel[e]]))<this.options.hierarchical.nodeSpacing&&(o=o+this.options.hierarchical.nodeSpacing-i,i=this._findCommonParent(this.lastNodeOnLevel[e],t.id),this._shiftBlock(i.withChild,o)),this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.body.nodes[t[i]]);return e}},{key:"_getDistribution",value:function(){var t,e={},i=void 0,o=void 0;for(i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&(o=this.body.nodes[i],t=void 0===this.hierarchicalLevels[i]?0:this.hierarchicalLevels[i],"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?(o.y=this.options.hierarchical.levelSeparation*t,o.options.fixed.y=!0):(o.x=this.options.hierarchical.levelSeparation*t,o.options.fixed.x=!0),void 0===e[t]&&(e[t]={}),e[t][i]=o);return e}},{key:"_getHubSize",value:function(){var t,e,i=0;for(t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&(e=this.body.nodes[t],void 0===this.hierarchicalLevels[t])&&(i=e.edges.length<i?i:e.edges.length);return i}},{key:"_determineLevelsByHubsize",value:function(){for(var i=this,t=1,e=function(t,e){void 0===i.hierarchicalLevels[e.id]&&(void 0===i.hierarchicalLevels[t.id]&&(i.hierarchicalLevels[t.id]=0),i.hierarchicalLevels[e.id]=i.hierarchicalLevels[t.id]+1)};0<t&&0!==(t=this._getHubSize());)for(var o in this.body.nodes)this.body.nodes.hasOwnProperty(o)&&this.body.nodes[o].edges.length===t&&this._crawlNetwork(e,o)}},{key:"_determineLevelsCustomCallback",value:function(){var o=this;this._crawlNetwork(function(t,e,i){void 0===o.hierarchicalLevels[t.id]&&(o.hierarchicalLevels[t.id]=1e5),a.default.cloneOptions(t,"node"),a.default.cloneOptions(e,"node"),a.default.cloneOptions(i,"edge");o.hierarchicalLevels[e.id]=o.hierarchicalLevels[t.id]+void 0}),this._setMinLevelToZero()}},{key:"_determineLevelsDirected",value:function(){var o=this;this._crawlNetwork(function(t,e,i){void 0===o.hierarchicalLevels[t.id]&&(o.hierarchicalLevels[t.id]=1e4),i.toId==e.id?o.hierarchicalLevels[e.id]=o.hierarchicalLevels[t.id]+1:o.hierarchicalLevels[e.id]=o.hierarchicalLevels[t.id]-1}),this._setMinLevelToZero()}},{key:"_setMinLevelToZero",value:function(){var t,e,i=1e9;for(t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&void 0!==this.hierarchicalLevels[t]&&(i=Math.min(this.hierarchicalLevels[t],i));for(e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&void 0!==this.hierarchicalLevels[e]&&(this.hierarchicalLevels[e]-=i)}},{key:"_generateMap",value:function(){var i=this;this._crawlNetwork(function(t,e){i.hierarchicalLevels[e.id]>i.hierarchicalLevels[t.id]&&(t=t.id,e=e.id,void 0===i.hierarchicalChildrenReference[t]&&(i.hierarchicalChildrenReference[t]=[]),i.hierarchicalChildrenReference[t].push(e),void 0===i.hierarchicalParentReference[e]&&(i.hierarchicalParentReference[e]=[]),i.hierarchicalParentReference[e].push(t))})}},{key:"_crawlNetwork",value:function(){function n(t,e){if(void 0===a[t.id]){void 0===s.hierarchicalTrees[t.id]&&(s.hierarchicalTrees[t.id]=e,s.treeIndex=Math.max(e,s.treeIndex)),a[t.id]=!0;for(var i=void 0,o=0;o<t.edges.length;o++)!0===t.edges[o].connected&&(i=t.edges[o].toId===t.id?t.edges[o].from:t.edges[o].to,t.id!==i.id)&&(r(t,i,t.edges[o]),n(i,e))}}var s=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments[1],a={},e=0;if(void 0===t)for(var i=0;i<this.body.nodeIndices.length;i++){var o=this.body.nodes[this.body.nodeIndices[i]];void 0===a[o.id]&&(n(o,e),e+=1)}else{t=this.body.nodes[t];void 0!==t&&n(t)}}},{key:"_shiftBlock",value:function(t,e){if("UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?this.body.nodes[t].x+=e:this.body.nodes[t].y+=e,void 0!==this.hierarchicalChildrenReference[t])for(var i=0;i<this.hierarchicalChildrenReference[t].length;i++)this._shiftBlock(this.hierarchicalChildrenReference[t][i],e)}},{key:"_findCommonParent",value:function(t,e){function n(t,e){if(void 0!==s.hierarchicalParentReference[e])for(var i=0;i<s.hierarchicalParentReference[e].length;i++){var o=s.hierarchicalParentReference[e][i];if(void 0!==t[o])return{foundParent:o,withChild:e};o=n(t,o);if(null!==o.foundParent)return o}return{foundParent:null,withChild:e}}var s=this,i={};return function t(e,i){if(void 0!==s.hierarchicalParentReference[i])for(var o=0;o<s.hierarchicalParentReference[i].length;o++){var n=s.hierarchicalParentReference[i][o];e[n]=!0,t(e,n)}}(i,t),n(i,e)}},{key:"_setPositionForHierarchy",value:function(t,e,i){!0!==(3<arguments.length&&void 0!==arguments[3]&&arguments[3])&&(void 0===this.distributionOrdering[i]&&(this.distributionOrdering[i]=[],this.distributionOrderingPresence[i]={}),void 0===this.distributionOrderingPresence[i][t.id]&&(this.distributionOrdering[i].push(t),this.distributionIndex[t.id]=this.distributionOrdering[i].length-1),this.distributionOrderingPresence[i][t.id]=!0),"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?t.x=e:t.y=e}},{key:"_getPositionForHierarchy",value:function(t){return"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?t.x:t.y}},{key:"_sortNodeArray",value:function(t){1<t.length&&("UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?t.sort(function(t,e){return t.x-e.x}):t.sort(function(t,e){return t.y-e.y}))}}]),d);function d(t){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.body=t,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},h.extend(this.options,this.defaultOptions),this.bindEventListeners()}e.default=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=i(1),r=i(22),a=i(30),i=(o(h,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,i){void 0!==e&&(void 0!==e.locale?this.options.locale=e.locale:this.options.locale=i.locale,void 0!==e.locales?this.options.locales=e.locales:this.options.locales=i.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,s.deepExtend(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){var t,e,i,o,n;this._clean(),this.manipulationDOM={},!0===this.guiEnabled&&(this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",i=(t=this.selectionHandler._getSelectedNodeCount())+(e=this.selectionHandler._getSelectedEdgeCount()),o=this.options.locales[this.options.locale],(n=!1)!==this.options.addNode&&(this._createAddNodeButton(o),n=!0),!1!==this.options.addEdge&&(!0===n?this._createSeperator(1):n=!0,this._createAddEdgeButton(o)),1===t&&"function"==typeof this.options.editNode?(!0===n?this._createSeperator(2):n=!0,this._createEditNodeButton(o)):1===e&&0===t&&!1!==this.options.editEdge&&(!0===n?this._createSeperator(3):n=!0,this._createEditEdgeButton(o)),0!==i&&(0<t&&!1!==this.options.deleteNode||0===t&&!1!==this.options.deleteEdge)&&(!0===n&&this._createSeperator(4),this._createDeleteButton(o)),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))),this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var t;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled&&(t=this.options.locales[this.options.locale],this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))),this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var e=this,t=(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.selectionHandler._getSelectedNode());if(void 0!==t){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==t.isCluster){var i=s.deepExtend({},t.options,!1);if(i.x=t.x,i.y=t.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,function(t){null!=t&&"editNode"===e.inMode&&e.body.data.nodes.getDataSet().update(t),e.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var t;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled&&(t=this.options.locales[this.options.locale],this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))),this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",function(){}),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){var t,e,i,o,n=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge",!0===this.guiEnabled&&(t=this.options.locales[this.options.locale],this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))),this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId?(e=n.body.edges[n.edgeBeingEditedId],i=n._getNewTargetNode(e.from.x,e.from.y),o=n._getNewTargetNode(e.to.x,e.to.y),n.temporaryIds.nodes.push(i.id),n.temporaryIds.nodes.push(o.id),n.body.nodes[i.id]=i,n.body.nodeIndices.push(i.id),n.body.nodes[o.id]=o,n.body.nodeIndices.push(o.id),n._temporaryBindUI("onTouch",n._controlNodeTouch.bind(n)),n._temporaryBindUI("onTap",function(){}),n._temporaryBindUI("onHold",function(){}),n._temporaryBindUI("onDragStart",n._controlNodeDragStart.bind(n)),n._temporaryBindUI("onDrag",n._controlNodeDrag.bind(n)),n._temporaryBindUI("onDragEnd",n._controlNodeDragEnd.bind(n)),n._temporaryBindUI("onMouseMove",function(){}),n._temporaryBindEvent("beforeDrawing",function(t){t=e.edgeType.findBorderPositions(t);!1===i.selected&&(i.x=t.from.x,i.y=t.from.y),!1===o.selected&&(o.x=t.to.x,o.y=t.to.y)}),n.body.emitter.emit("_redraw")):this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var e=this,t=(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete",this.selectionHandler.getSelectedNodes()),i=this.selectionHandler.getSelectedEdges(),o=void 0;if(0<t.length){for(var n=0;n<t.length;n++)if(!0===this.body.nodes[t[n]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(o=this.options.deleteNode)}else 0<i.length&&"function"==typeof this.options.deleteEdge&&(o=this.options.deleteEdge);if("function"==typeof o){var s={nodes:t,edges:i};if(2!==o.length)throw new Error("The function for delete does not support two arguments (data, callback)");o(s,function(t){null!=t&&"delete"===e.inMode&&(e.body.data.edges.getDataSet().remove(t.edges),e.body.data.nodes.getDataSet().remove(t.nodes)),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()})}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var i=s.deepExtend({},this.options.controlNodeStyle),i=(i.id="targetNode"+s.randomUUID(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e,this.body.functions.createNode(i));return i.shape.boundingBox={left:t,right:t,top:e,bottom:e},i}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},s.recursiveDOMDelete(this.editModeDiv);var t=this.options.locales[this.options.locale],t=this._createButton("editMode","vis-button vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(t),this._bindHammerToDiv(t,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){!(this.inMode=!1)===this.guiEnabled&&(s.recursiveDOMDelete(this.editModeDiv),s.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var t=0;t<this.manipulationHammers.length;t++)this.manipulationHammers[t].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),s.recursiveDOMDelete(this.manipulationDiv),s.recursiveDOMDelete(this.editModeDiv),s.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){t=this._createButton("addNode","vis-button vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(t){t=this._createButton("addEdge","vis-button vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(t){t=this._createButton("editNode","vis-button vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(t){t=this._createButton("editEdge","vis-button vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(t){e=this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete";var e=this._createButton("delete",e,t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(t){t=this._createButton("back","vis-button vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(t,e,i){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("div"),this.manipulationDOM[t+"Div"].className=e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=o,this.manipulationDOM[t+"Label"].innerHTML=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",t))}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+JSON.stringify(Object.keys(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++){var e=this.temporaryEventFunctions[t].event,i=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(e,i)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(t,e){t=new r(t,{});a.onTouch(t,e),this.manipulationHammers.push(t)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var e=this.body.edgeIndices.indexOf(this.temporaryIds.edges[t]);-1!==e&&this.body.edgeIndices.splice(e,1)}for(var i=0;i<this.temporaryIds.nodes.length;i++){delete this.body.nodes[this.temporaryIds.nodes[i]];var o=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[i]);-1!==o&&this.body.nodeIndices.splice(o,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=s.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(t){var e=this.lastTouch,e=this.selectionHandler._pointerToPositionObject(e),i=this.body.nodes[this.temporaryIds.nodes[0]],o=this.body.nodes[this.temporaryIds.nodes[1]],n=this.body.edges[this.edgeBeingEditedId],s=(this.selectedControlNode=void 0,i.isOverlappingWith(e)),e=o.isOverlappingWith(e);!0===s?(this.selectedControlNode=i,n.edgeType.from=i):!0===e&&(this.selectedControlNode=o,n.edgeType.to=o),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var t=this.body.functions.getPointer(t.center),e=this.canvas.DOMtoCanvas(t);void 0!==this.selectedControlNode?(this.selectedControlNode.x=e.x,this.selectedControlNode.y=e.y):(e=t.x-this.lastTouch.x,t=t.y-this.lastTouch.y,this.body.view.translation={x:this.lastTouch.translation.x+e,y:this.lastTouch.translation.y+t}),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var t=this.body.functions.getPointer(t.center),t=this.selectionHandler._pointerToPositionObject(t),e=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var i=this.selectionHandler._getAllNodesOverlappingWith(t),o=void 0,n=i.length-1;0<=n;n--)if(i[n]!==this.selectedControlNode.id){o=this.body.nodes[i[n]];break}void 0!==o&&void 0!==this.selectedControlNode?!0===o.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):(t=this.body.nodes[this.temporaryIds.nodes[0]],this.selectedControlNode.id===t.id?this._performEditEdge(o.id,e.to.id):this._performEditEdge(e.from.id,o.id)):(e.updateEdgeType(),this.body.emitter.emit("restorePhysics")),this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){var e;100<(new Date).valueOf()-this.touchTime&&(this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=s.extend({},this.body.view.translation),t=this.lastTouch,void 0!==(t=this.selectionHandler.getNodeAt(t))&&(!0===t.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):(e=this._getNewTargetNode(t.x,t.y),this.body.nodes[e.id]=e,this.body.nodeIndices.push(e.id),t=this.body.functions.createEdge({id:"connectionEdge"+s.randomUUID(),from:t.id,to:e.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}}),this.body.edges[t.id]=t,this.body.edgeIndices.push(t.id),this.temporaryIds.nodes.push(e.id),this.temporaryIds.edges.push(t.id))),this.touchTime=(new Date).valueOf())}},{key:"_dragControlNode",value:function(t){var e,t=this.body.functions.getPointer(t.center);void 0!==this.temporaryIds.nodes[0]?((e=this.body.nodes[this.temporaryIds.nodes[0]]).x=this.canvas._XconvertDOMtoCanvas(t.x),e.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")):(e=t.x-this.lastTouch.x,t=t.y-this.lastTouch.y,this.body.view.translation={x:this.lastTouch.translation.x+e,y:this.lastTouch.translation.y+t})}},{key:"_finishConnect",value:function(t){for(var t=this.body.functions.getPointer(t.center),t=this.selectionHandler._pointerToPositionObject(t),e=void 0,i=(void 0!==this.temporaryIds.edges[0]&&(e=this.body.edges[this.temporaryIds.edges[0]].fromId),this.selectionHandler._getAllNodesOverlappingWith(t)),o=void 0,n=i.length-1;0<=n;n--)if(-1===this.temporaryIds.nodes.indexOf(i[n])){o=this.body.nodes[i[n]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==o&&(!0===o.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[e]&&void 0!==this.body.nodes[o.id]&&this._performAddEdge(e,o.id)),this.body.emitter.emit("_redraw")}},{key:"_performAddNode",value:function(t){var e=this,t={id:s.randomUUID(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(t,function(t){null!=t&&"addNode"===e.inMode&&(e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(t),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var i=this,t={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(t,function(t){null!=t&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(t),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var i=this,o={id:this.edgeBeingEditedId,from:t,to:e};if("function"==typeof this.options.editEdge){if(2!==this.options.editEdge.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editEdge(o,function(t){null==t||"editEdge"!==i.inMode?(i.body.edges[o.id].updateEdgeType(),i.body.emitter.emit("_redraw")):(i.body.data.edges.getDataSet().update(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(o),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),h);function h(t,e,i){var o=this;if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.body=t,this.canvas=e,this.selectionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},s.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){o._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}e.default=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",n="number",s="array",r="object",s={configure:{enabled:{boolean:o},filter:{boolean:o,string:i,array:s,function:"function"},container:{dom:"dom"},showButton:{boolean:o},__type__:{object:r,boolean:o,string:i,array:s,function:"function"}},edges:{arrows:{to:{enabled:{boolean:o},scaleFactor:{number:n},type:{string:["arrow","circle"]},__type__:{object:r,boolean:o}},middle:{enabled:{boolean:o},scaleFactor:{number:n},type:{string:["arrow","circle"]},__type__:{object:r,boolean:o}},from:{enabled:{boolean:o},scaleFactor:{number:n},type:{string:["arrow","circle"]},__type__:{object:r,boolean:o}},__type__:{string:["from","to","middle"],object:r}},arrowStrikethrough:{boolean:o},color:{color:{string:i},highlight:{string:i},hover:{string:i},inherit:{string:["from","to","both"],boolean:o},opacity:{number:n},__type__:{object:r,string:i}},dashes:{boolean:o,array:s},font:{color:{string:i},size:{number:n},face:{string:i},background:{string:i},strokeWidth:{number:n},strokeColor:{string:i},align:{string:["horizontal","top","middle","bottom"]},__type__:{object:r,string:i}},hidden:{boolean:o},hoverWidth:{function:"function",number:n},label:{string:i,undefined:"undefined"},labelHighlightBold:{boolean:o},length:{number:n,undefined:"undefined"},physics:{boolean:o},scaling:{min:{number:n},max:{number:n},label:{enabled:{boolean:o},min:{number:n},max:{number:n},maxVisible:{number:n},drawThreshold:{number:n},__type__:{object:r,boolean:o}},customScalingFunction:{function:"function"},__type__:{object:r}},selectionWidth:{function:"function",number:n},selfReferenceSize:{number:n},shadow:{enabled:{boolean:o},color:{string:i},size:{number:n},x:{number:n},y:{number:n},__type__:{object:r,boolean:o}},smooth:{enabled:{boolean:o},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:n},forceDirection:{string:["horizontal","vertical","none"],boolean:o},__type__:{object:r,boolean:o}},title:{string:i,undefined:"undefined"},width:{number:n},value:{number:n,undefined:"undefined"},__type__:{object:r}},groups:{useDefaultGroups:{boolean:o},__any__:"get from nodes, will be overwritten below",__type__:{object:r}},interaction:{dragNodes:{boolean:o},dragView:{boolean:o},hideEdgesOnDrag:{boolean:o},hideNodesOnDrag:{boolean:o},hover:{boolean:o},keyboard:{enabled:{boolean:o},speed:{x:{number:n},y:{number:n},zoom:{number:n},__type__:{object:r}},bindToWindow:{boolean:o},__type__:{object:r,boolean:o}},multiselect:{boolean:o},navigationButtons:{boolean:o},selectable:{boolean:o},selectConnectedEdges:{boolean:o},hoverConnectedEdges:{boolean:o},tooltipDelay:{number:n},zoomView:{boolean:o},__type__:{object:r}},layout:{randomSeed:{undefined:"undefined",number:n},improvedLayout:{boolean:o},hierarchical:{enabled:{boolean:o},levelSeparation:{number:n},nodeSpacing:{number:n},treeSpacing:{number:n},blockShifting:{boolean:o},edgeMinimization:{boolean:o},parentCentralization:{boolean:o},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:r,boolean:o}},__type__:{object:r}},manipulation:{enabled:{boolean:o},initiallyActive:{boolean:o},addNode:{boolean:o,function:"function"},addEdge:{boolean:o,function:"function"},editNode:{function:"function"},editEdge:{boolean:o,function:"function"},deleteNode:{boolean:o,function:"function"},deleteEdge:{boolean:o,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:r,boolean:o}},nodes:{borderWidth:{number:n},borderWidthSelected:{number:n,undefined:"undefined"},brokenImage:{string:i,undefined:"undefined"},color:{border:{string:i},background:{string:i},highlight:{border:{string:i},background:{string:i},__type__:{object:r,string:i}},hover:{border:{string:i},background:{string:i},__type__:{object:r,string:i}},__type__:{object:r,string:i}},fixed:{x:{boolean:o},y:{boolean:o},__type__:{object:r,boolean:o}},font:{align:{string:i},color:{string:i},size:{number:n},face:{string:i},background:{string:i},strokeWidth:{number:n},strokeColor:{string:i},__type__:{object:r,string:i}},group:{string:i,number:n,undefined:"undefined"},hidden:{boolean:o},icon:{face:{string:i},code:{string:i},size:{number:n},color:{string:i},__type__:{object:r}},id:{string:i,number:n},image:{string:i,undefined:"undefined"},label:{string:i,undefined:"undefined"},labelHighlightBold:{boolean:o},level:{number:n,undefined:"undefined"},mass:{number:n},physics:{boolean:o},scaling:{min:{number:n},max:{number:n},label:{enabled:{boolean:o},min:{number:n},max:{number:n},maxVisible:{number:n},drawThreshold:{number:n},__type__:{object:r,boolean:o}},customScalingFunction:{function:"function"},__type__:{object:r}},shadow:{enabled:{boolean:o},color:{string:i},size:{number:n},x:{number:n},y:{number:n},__type__:{object:r,boolean:o}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon"]},shapeProperties:{borderDashes:{boolean:o,array:s},borderRadius:{number:n},interpolation:{boolean:o},useImageSize:{boolean:o},useBorderWithImage:{boolean:o},__type__:{object:r}},size:{number:n},title:{string:i,undefined:"undefined"},value:{number:n,undefined:"undefined"},x:{number:n},y:{number:n},__type__:{object:r}},physics:{enabled:{boolean:o},barnesHut:{gravitationalConstant:{number:n},centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},damping:{number:n},avoidOverlap:{number:n},__type__:{object:r}},forceAtlas2Based:{gravitationalConstant:{number:n},centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},damping:{number:n},avoidOverlap:{number:n},__type__:{object:r}},repulsion:{centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},nodeDistance:{number:n},damping:{number:n},__type__:{object:r}},hierarchicalRepulsion:{centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},nodeDistance:{number:n},damping:{number:n},__type__:{object:r}},maxVelocity:{number:n},minVelocity:{number:n},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:o},iterations:{number:n},updateInterval:{number:n},onlyDynamicEdges:{boolean:o},fit:{boolean:o},__type__:{object:r,boolean:o}},timestep:{number:n},adaptiveTimestep:{boolean:o},__type__:{object:r,boolean:o}},autoResize:{boolean:o},clickToUse:{boolean:o},locale:{string:i},locales:{__any__:{any:"any"},__type__:{object:r}},height:{string:i},width:{string:i},__type__:{object:r}};s.groups.__any__=s.nodes,s.manipulation.controlNodeStyle=s.nodes;e.allOptions=s,e.configureOptions={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var p=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var i=e,o=[],n=!0,e=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done)&&(o.push(r.value),!i||o.length!==i);n=!0);}catch(t){e=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(e)throw s}}return o}throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=i(118),s=(i=i)&&i.__esModule?i:{default:i};o(r,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant)&&(this.springConstant=t.springConstant)}},{key:"solve",value:function(t,e){for(var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],t=this.distanceSolver.getDistances(this.body,t,e),o=(this._createL_matrix(t),this._createK_matrix(t),0),n=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),s=1e9,r=0,a=0,h=0,d=0;.01<s&&o<n;){o+=1;var l=this._getHighestEnergyNode(i),l=p(l,4),c=l[0],s=l[1];for(r=l[2],a=l[3],h=s,d=0;1<h&&d<5;){d+=1,this._moveNode(c,r,a);var u=this._getEnergy(c),u=p(u,3),h=u[0],r=u[1],a=u[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,o=0,n=e[0],s=0,r=0,a=0;a<e.length;a++){var h,d,l,c=e[a];(!1===i[c].predefinedPosition||!0===i[c].isCluster&&!0===t||!0===i[c].options.fixed.x||!0===i[c].options.fixed.y)&&(l=this._getEnergy(c),h=(l=p(l,3))[0],d=l[1],l=l[2],o<h)&&(o=h,n=c,s=d,r=l)}return[n,o,s,r]}},{key:"_getEnergy",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,o=i[t].x,n=i[t].y,s=0,r=0,a=0;a<e.length;a++){var h,d,l,c=e[a];c!==t&&(h=i[c].x,d=i[c].y,l=1/Math.sqrt(Math.pow(o-h,2)+Math.pow(n-d,2)),s+=this.K_matrix[t][c]*(o-h-this.L_matrix[t][c]*(o-h)*l),r+=this.K_matrix[t][c]*(n-d-this.L_matrix[t][c]*(n-d)*l))}return[Math.sqrt(Math.pow(s,2)+Math.pow(r,2)),s,r]}},{key:"_moveNode",value:function(t,e,i){for(var o=this.body.nodeIndices,n=this.body.nodes,s=0,r=0,a=0,h=n[t].x,d=n[t].y,l=0;l<o.length;l++){var c,u,p,f=o[l];f!==t&&(c=n[f].x,u=n[f].y,p=1/Math.pow(Math.pow(h-c,2)+Math.pow(d-u,2),1.5),s+=this.K_matrix[t][f]*(1-this.L_matrix[t][f]*Math.pow(d-u,2)*p),r+=this.K_matrix[t][f]*(this.L_matrix[t][f]*(h-c)*(d-u)*p),a+=this.K_matrix[t][f]*(1-this.L_matrix[t][f]*Math.pow(h-c,2)*p))}var m=s,g=r,i=(e/m+i/g)/(g/m-a/g);n[t].x+=-(g*i+e)/m,n[t].y+=i}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var o=0;o<e.length;o++){this.L_matrix[e[o]]={};for(var n=0;n<e.length;n++)this.L_matrix[e[o]][e[n]]=i*t[e[o]][e[n]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var o=0;o<e.length;o++){this.K_matrix[e[o]]={};for(var n=0;n<e.length;n++)this.K_matrix[e[o]][e[n]]=i*Math.pow(t[e[o]][e[n]],-2)}}}]);i=r;function r(t,e,i){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.body=t,this.springLength=e,this.springConstant=i,this.distanceSolver=new s.default}e.default=i},function(t,e){function o(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),function(t,e,i){e&&o(t.prototype,e),i&&o(t,i)}(i,[{key:"getDistances",value:function(t,e,i){for(var o={},n=t.edges,s=0;s<e.length;s++){o[e[s]]={},o[e[s]]={};for(var r=0;r<e.length;r++)o[e[s]][e[r]]=s==r?0:1e9,o[e[s]][e[r]]=s==r?0:1e9}for(var a=0;a<i.length;a++){var h=n[i[a]];!0===h.connected&&void 0!==o[h.fromId]&&void 0!==o[h.toId]&&(o[h.fromId][h.toId]=1,o[h.toId][h.fromId]=1)}for(var d=e.length,l=0;l<d;l++)for(var c=0;c<d-1;c++)for(var u=c+1;u<d;u++)o[e[c]][e[u]]=Math.min(o[e[c]][e[u]],o[e[c]][e[l]]+o[e[l]][e[u]]),o[e[u]][e[c]]=o[e[c]][e[u]];return o}}]),e.default=i},function(t,e){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(t,e,i){this.beginPath(),this.arc(t,e,i,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(t,e,i){this.beginPath(),this.rect(t-i,e-i,2*i,2*i),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(t,e,i){this.beginPath(),e+=.275*(i*=1.15);var i=2*i,o=i/2,n=Math.sqrt(3)/6*i,i=Math.sqrt(i*i-o*o);this.moveTo(t,e-(i-n)),this.lineTo(t+o,e+n),this.lineTo(t-o,e+n),this.lineTo(t,e-(i-n)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(t,e,i){this.beginPath(),e-=.275*(i*=1.15);var i=2*i,o=i/2,n=Math.sqrt(3)/6*i,i=Math.sqrt(i*i-o*o);this.moveTo(t,e+(i-n)),this.lineTo(t+o,e-n),this.lineTo(t-o,e-n),this.lineTo(t,e+(i-n)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(t,e,i){this.beginPath(),e+=.1*(i*=.82);for(var o=0;o<10;o++){var n=o%2==0?1.3*i:.5*i;this.lineTo(t+n*Math.sin(2*o*Math.PI/10),e-n*Math.cos(2*o*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(t,e,i){this.beginPath(),this.lineTo(t,e+i),this.lineTo(t+i,e),this.lineTo(t,e-i),this.lineTo(t-i,e),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(t,e,i,o,n){var s=Math.PI/180;o-2*(n=i-2*n<0?i/2:n)<0&&(n=o/2),this.beginPath(),this.moveTo(t+n,e),this.lineTo(t+i-n,e),this.arc(t+i-n,e+n,n,270*s,360*s,!1),this.lineTo(t+i,e+o-n),this.arc(t+i-n,e+o-n,n,0,90*s,!1),this.lineTo(t+n,e+o),this.arc(t+n,e+o-n,n,90*s,180*s,!1),this.lineTo(t,e+n),this.arc(t+n,e+n,n,180*s,270*s,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse=function(t,e,i,o){var n=i/2*.5522848,s=o/2*.5522848,r=t+i,a=e+o,i=t+i/2,o=e+o/2;this.beginPath(),this.moveTo(t,o),this.bezierCurveTo(t,o-s,i-n,e,i,e),this.bezierCurveTo(i+n,e,r,o-s,r,o),this.bezierCurveTo(r,o+s,i+n,a,i,a),this.bezierCurveTo(i-n,a,t,o+s,t,o),this.closePath()},CanvasRenderingContext2D.prototype.database=function(t,e,i,o){var n=o*(1/3),s=i/2*.5522848,r=n/2*.5522848,a=t+i,h=e+n,i=t+i/2,d=e+n/2,n=e+(o-n/2),o=e+o;this.beginPath(),this.moveTo(a,d),this.bezierCurveTo(a,d+r,i+s,h,i,h),this.bezierCurveTo(i-s,h,t,d+r,t,d),this.bezierCurveTo(t,d-r,i-s,e,i,e),this.bezierCurveTo(i+s,e,a,d-r,a,d),this.lineTo(a,n),this.bezierCurveTo(a,n+r,i+s,o,i,o),this.bezierCurveTo(i-s,o,t,n+r,t,n),this.lineTo(t,d)},CanvasRenderingContext2D.prototype.arrowEndpoint=function(t,e,i,o){var n=t-o*Math.cos(i),s=e-o*Math.sin(i),r=t-.9*o*Math.cos(i),a=e-.9*o*Math.sin(i),h=n+o/3*Math.cos(i+.5*Math.PI),d=s+o/3*Math.sin(i+.5*Math.PI),n=n+o/3*Math.cos(i-.5*Math.PI),s=s+o/3*Math.sin(i-.5*Math.PI);this.beginPath(),this.moveTo(t,e),this.lineTo(h,d),this.lineTo(r,a),this.lineTo(n,s),this.closePath()},CanvasRenderingContext2D.prototype.circleEndpoint=function(t,e,i,o){o*=.4,t-=o*Math.cos(i),e-=o*Math.sin(i);this.circle(t,e,o)},CanvasRenderingContext2D.prototype.dashedLine=function(t,e,i,o,n){this.beginPath(),this.moveTo(t,e);for(var s,r=n.length,a=i-t,i=o-e,h=i/a,d=Math.sqrt(a*a+i*i),l=0,c=!0,u=n[0];.1<=d;)d<(u=n[l++%r])&&(u=d),s=Math.sqrt(u*u/(1+h*h)),t+=s=a<0?-s:s,e+=h*s,!0===c?this.lineTo(t,e):this.moveTo(t,e),d-=u,c=!c})},function(t,e){function i(t){var e={};if(h=0,d=(r=t).charAt(0),b(),"strict"===l&&(e.strict=!0,b()),"graph"!==l&&"digraph"!==l||(e.type=l,b()),c===a.IDENTIFIER&&(e.id=l,b()),"{"!=l)throw O("Angle bracket { expected");if(b(),_(e),"}"!=l)throw O("Angle bracket } expected");if(b(),""===l)return b(),delete e.node,delete e.edge,delete e.graph,e;throw O("End of file expected")}var o={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},n=Object.create(o),a=(n.color="color.color",{NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3}),s={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},r="",h=0,d="",l="",c=a.NULL;function u(){h++,d=r.charAt(h)}function p(){return r.charAt(h+1)}var f=/[a-zA-Z_0-9.:#]/;function m(t){return f.test(t)}function g(t,e){if(t=t||{},e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function y(t,e){for(var i,o,n=null,s=[t],r=t;r.parent;)s.push(r.parent),r=r.parent;if(r.nodes)for(i=0,o=r.nodes.length;i<o;i++)if(e.id===r.nodes[i].id){n=r.nodes[i];break}for(n||(n={id:e.id},t.node&&(n.attr=g(n.attr,t.node))),i=s.length-1;0<=i;i--){var a=s[i];a.nodes||(a.nodes=[]),-1===a.nodes.indexOf(n)&&a.nodes.push(n)}e.attr&&(n.attr=g(n.attr,e.attr))}function v(t,e,i,o,n){e={from:e,to:i,type:o};return t.edge&&(e.attr=g({},t.edge)),e.attr=g(e.attr||{},n),e}function b(){for(c=a.NULL,l="";" "===d||"\t"===d||"\n"===d||"\r"===d;)u();do{var t=!1;if("#"===d){for(var e=h-1;" "===r.charAt(e)||"\t"===r.charAt(e);)e--;if("\n"===r.charAt(e)||""===r.charAt(e)){for(;""!=d&&"\n"!=d;)u();t=!0}}if("/"===d&&"/"===p()){for(;""!=d&&"\n"!=d;)u();t=!0}if("/"===d&&"*"===p()){for(;""!=d;){if("*"===d&&"/"===p()){u(),u();break}u()}t=!0}for(;" "===d||"\t"===d||"\n"===d||"\r"===d;)u()}while(t);if(""===d)c=a.DELIMITER;else{var i=d+p();if(s[i])c=a.DELIMITER,l=i,u(),u();else if(s[d])c=a.DELIMITER,l=d,u();else{if(m(d)||"-"===d){for(l+=d,u();m(d);)l+=d,u();"false"===l?l=!1:"true"===l?l=!0:isNaN(Number(l))||(l=Number(l))}else{if('"'!==d){for(c=a.UNKNOWN;""!=d;)l+=d,u();throw new SyntaxError('Syntax error in part "'+D(l,30)+'"')}for(u();""!=d&&('"'!=d||'"'===d&&'"'===p());)l+=d,'"'===d&&u(),u();if('"'!=d)throw O('End of string " expected');u()}c=a.IDENTIFIER}}}function _(t){for(;""!==l&&"}"!=l;){i=e=void 0;var e=t,i=w(e);if(i)x(e,i);else{i=function(t){{if("node"===l)return b(),t.node=k(),"node";if("edge"===l)return b(),t.edge=k(),"edge";if("graph"===l)return b(),t.graph=k(),"graph"}return null}(e);if(!i){if(c!=a.IDENTIFIER)throw O("Identifier expected");i=l;if(b(),"="===l){if(b(),c!=a.IDENTIFIER)throw O("Identifier expected");e[i]=l,b()}else!function(t,e){var i={id:e},o=k();o&&(i.attr=o);y(t,i),x(t,e)}(e,i)}}";"===l&&b()}}function w(t){var e=null;if("subgraph"===l&&(e={type:"subgraph"},b(),c===a.IDENTIFIER)&&(e.id=l,b()),"{"===l){if(b(),(e=e||{}).parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,_(e),"}"!=l)throw O("Angle bracket } expected");b(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function x(t,e){for(;"->"===l||"--"===l;){var i,o=l,n=(b(),w(t));if(n)i=n;else{if(c!=a.IDENTIFIER)throw O("Identifier or subgraph expected");y(t,{id:i=l}),b()}n=k(),o=v(t,e,i,o,n);n=o,(o=t).edges||(o.edges=[]),o.edges.push(n),o.edge&&(o=g({},o.edge),n.attr=g(o,n.attr)),e=i}}function k(){for(var t=null;"["===l;){for(b(),t={};""!==l&&"]"!=l;){if(c!=a.IDENTIFIER)throw O("Attribute name expected");var e=l;if(b(),"="!=l)throw O("Equal sign = expected");if(b(),c!=a.IDENTIFIER)throw O("Attribute value expected");r=s=n=o=i=void 0;for(var i=t,o=l,n=e.split("."),s=i;n.length;){var r=n.shift();n.length?(s[r]||(s[r]={}),s=s[r]):s[r]=o}b(),","==l&&b()}if("]"!=l)throw O("Bracket ] expected");b()}return t}function O(t){return new SyntaxError(t+', got "'+D(l,30)+'" (char '+h+")")}function D(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function S(t,e,i){for(var o=e.split("."),e=o.pop(),n=t,s=0;s<o.length;s++){var r=o[s];r in n||(n[r]={}),n=n[r]}n[e]=i}function C(e,t){var i,o,n={};for(i in e)e.hasOwnProperty(i)&&(o=t[i],Array.isArray(o)?o.forEach(function(t){S(n,t,e[i])}):S(n,"string"==typeof o?o:i,e[i]));return n}e.parseDOT=i,e.DOTToGraph=function(t){var r,t=i(t),a={nodes:[],edges:[],options:{}};return t.nodes&&t.nodes.forEach(function(t){var e={id:t.id,label:String(t.label||t.id)};g(e,C(t.attr,o)),e.image&&(e.shape="image"),a.nodes.push(e)}),t.edges&&(r=function(t){var e={from:t.from,to:t.to};return g(e,C(t.attr,n)),e.arrows="->"===t.type?"to":void 0,e},t.edges.forEach(function(i){var e,t,o,n=i.from instanceof Object?i.from.nodes:{id:i.from},s=i.to instanceof Object?i.to.nodes:{id:i.to};i.from instanceof Object&&i.from.edges&&i.from.edges.forEach(function(t){t=r(t);a.edges.push(t)}),e=n,t=s,o=function(t,e){t=v(a,t.id,e.id,i.type,i.attr),e=r(t);a.edges.push(e)},Array.isArray(e)?e.forEach(function(e){Array.isArray(t)?t.forEach(function(t){o(e,t)}):o(e,t)}):Array.isArray(t)?t.forEach(function(t){o(e,t)}):o(e,t),i.to instanceof Object&&i.to.edges&&i.to.edges.forEach(function(t){t=r(t);a.edges.push(t)})})),t.attr&&(a.options=t.attr),a}},function(t,e){e.parseGephi=function(t,e){for(var i=[],o=[],n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}},s=(void 0!==e&&(void 0!==e.fixed&&(n.nodes.fixed=e.fixed),void 0!==e.parseColor&&(n.nodes.parseColor=e.parseColor),void 0!==e.inheritColor)&&(n.edges.inheritColor=e.inheritColor),t.edges),r=t.nodes,a=0;a<s.length;a++){var h={},d=s[a];h.id=d.id,h.from=d.source,h.to=d.target,h.attributes=d.attributes,h.label=d.label,h.title=void 0!==d.attributes?d.attributes.title:void 0,"Directed"===d.type&&(h.arrows="to"),d.color&&!1===n.inheritColor&&(h.color=d.color),i.push(h)}for(a=0;a<r.length;a++){var l={},c=r[a];l.id=c.id,l.attributes=c.attributes,l.title=c.title,l.x=c.x,l.y=c.y,l.label=c.label,l.title=void 0!==c.attributes?c.attributes.title:void 0,!0===n.nodes.parseColor?l.color=c.color:l.color=void 0!==c.color?{background:c.color,border:c.color,highlight:{background:c.color,border:c.color},hover:{background:c.color,border:c.color}}:void 0,l.size=c.size,l.fixed=n.nodes.fixed&&void 0!==c.x&&void 0!==c.y,o.push(l)}return{nodes:o,edges:i}}},function(t,e){e.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},e.en_EN=e.en,e.en_US=e.en,e.de={edit:"Editieren",del:"Lösche Auswahl",back:"Zurück",addNode:"Knoten hinzufügen",addEdge:"Kante hinzufügen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster können nicht gelöscht werden.",editClusterError:"Cluster können nicht editiert werden."},e.de_DE=e.de,e.es={edit:"Editar",del:"Eliminar selección",back:"Átras",addNode:"Añadir nodo",addEdge:"Añadir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},e.es_ES=e.es,e.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},e.it_IT=e.it,e.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},e.nl_NL=e.nl,e.nl_BE=e.nl,e["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar nó",addEdge:"Adicionar aresta",editNode:"Editar nó",editEdge:"Editar aresta",addDescription:"Clique em um espaço em branco para adicionar um novo nó",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",createEdgeError:"Não foi possível linkar arestas a um cluster.",deleteClusterError:"Clusters não puderam ser removidos.",editClusterError:"Clusters não puderam ser editados."},e["pt-BR"]=e["pt-br"],e.pt_BR=e["pt-br"],e.pt_br=e["pt-br"],e.ru={edit:"Редактировать",del:"Удалить выбранное",back:"Назад",addNode:"Добавить узел",addEdge:"Добавить ребро",editNode:"Редактировать узел",editEdge:"Редактировать ребро",addDescription:"Кликните в свободное место, чтобы добавить новый узел.",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",createEdgeError:"Невозможно соединить ребра в кластер.",deleteClusterError:"Кластеры не могут быть удалены",editClusterError:"Кластеры недоступны для редактирования."},e.ru_RU=e.ru}],n={},i.m=o,i.c=n,i.p="",i(0);function i(t){var e;return(n[t]||(e=n[t]={exports:{},id:t,loaded:!1},o[t].call(e.exports,e,e.exports,i),e.loaded=!0,e)).exports}var o,n});
//# sourceMappingURL=visTimeline.min.js.map