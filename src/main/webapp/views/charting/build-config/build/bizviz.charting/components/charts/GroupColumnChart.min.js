/*! BDB Charting Library V10.0.0 (2025-08-14 11:37:12) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
function GroupColumnChart(t,e){this.base=Chart,this.base(),this.m_x=680,this.m_y=320,this.m_width=300,this.m_height=260,this.m_barWidth=10,this.m_categoryData=[],this.m_seriesData=[],this.m_categoryNames=[],this.m_seriesNames=[],this.m_barSeriesArray=[],this.m_xPositionArray=[],this.m_yPositionArray=[],this.m_barWidth="",this.m_barHeightArray=[],this.m_seriesVisiblityPosition,this.m_showpercentvalue=!1,this.m_showmarkingorpercentvalue=!1,this.m_showPercentValueFlag=!0,this.m_seriesInitializeFlag=!0,this.m_calculation=new GroupColumnCalculation,this.noOfRows=1,this.m_xAxis=new GroupColumnXAxis,this.m_yAxis=new GroupColumnYAxis,this.m_title=new svgTitle(this),this.m_subTitle=new svgSubTitle,this.m_chartContainer=t,this.m_zIndex=e,this.m_showhorizontalmarkerline=!1,this.m_subcategoryorientation="left",this.m_mergesubcategory="false",this.dataMap={},this.m_aggroperation="avg",this.m_showcatsubcatpartitioner="true",this.m_showcatpartitioner="true",this.m_enableanimation="false",this.m_baranimationduration=.5,this.m_stackborderwidth="0",this.m_stackbordercolor="#ffffff",this.m_enablestackshadow="false",this.m_stackshadowcolor="#000000",this.m_stackshadowopacity="0.3",this.m_canvastype="svg",this.m_stacksvgtype="rect",this.m_controlbarwidth="auto",this.m_stackborderradius="0",this.enableDrillHighlighter="false",this.m_drilltoggle=!1,this.m_xaxiscategorytextwrap=!1,this.m_xaxissubcategorytextwrap=!1}function GroupColumnCalculation(){this.xPositionArray=[],this.yAxisPixelArray=[],this.barGap=10,this.m_yAxisText="",this.m_numberOfMarkers=6}function GroupColumnSeries(){this.xPixel=[],this.yPixelArray=[],this.stackHeightArray=[],this.stackColorArray=[],this.barStackArray=[],this.ctx="",this.m_chart="",this.m_chartbase=""}function GroupColumnStack(){this.stackXPixel,this.stackYPixel,this.stackWidth,this.stackHeight,this.stackColor,this.strokeColor,this.ctx="",this.m_chartbase=""}function GroupColumnXAxis(){this.base=Xaxis,this.base(),this.m_textUtil=new TextUtil,this.m_util=new Util,this.ctx=""}function GroupColumnYAxis(){this.base=Yaxis,this.base(),this.m_textUtil=new TextUtil,this.ctx,this.m_labeltilted=!0,this.m_labelrotation="0",this.m_axislinetotextgap=5}GroupColumnChart.prototype=new Chart,GroupColumnChart.prototype.setProperty=function(t){this.ParseJsonAttributes(t.Object,this),this.initCanvas()},GroupColumnChart.prototype.ParseJsonAttributes=function(t,e){for(var i in this.chartJson=t)if("Chart"==i)for(var s in t[i])switch(s){case"xAxis":for(var a in t[i][s]){var r=this.getNodeAttributeName(a);e.m_xAxis[r]=t[i][s][a]}break;case"yAxis":for(var o in t[i][s]){var r=this.getNodeAttributeName(o);e.m_yAxis[r]=t[i][s][o]}break;case"Title":for(var h in t[i][s]){var r=this.getNodeAttributeName(h);e.m_title[r]=t[i][s][h]}break;case"SubTitle":for(var n in t[i][s]){r=this.getNodeAttributeName(n);e.m_subTitle[r]=t[i][s][n]}break;case"CategoryColors":var l,m=new CategoryColors;for(l in this.setCategoryColors(m),t[i][s])if("CategoryColor"===l){var c=this.getArrayOfSingleLengthJson(t[i][s][l]);m.cateogryNameColorMap=new Object;for(var g=0;g<c.length;g++){var u,_=new CategoryColor;for(u in m.setCategoryColor(_),c[g])_[r=this.getNodeAttributeName(u)]=c[g][u];m.cateogryNameColorMap[_.getCategoryName()]=_.getColor()}}else{r=this.getNodeAttributeName(l);e.m_categoryColors[r]=t[i][s][l]}m.setCategoryDefaultColorSet();break;case"SubCategoryColors":var p,y=new SubCategoryColors;for(p in this.setSubCategoryColors(y),t[i][s])if("subCategoryColor"===p){var d=this.getArrayOfSingleLengthJson(t[i][s][p]);y.subcateogryNameColorMap=new Object;for(g=0;g<d.length;g++){var b,C=new SubCategoryColor;for(b in y.setSubCategoryColor(C),d[g])C[r=this.getNodeAttributeName(b)]=d[g][b];y.subcateogryNameColorMap[C.getSubCategoryName()]=C.getColor()}}else{r=this.getNodeAttributeName(p);e.m_subCategoryColors[r]=t[i][s][p]}y.setSubCategoryDefaultColorSet();break;case"ConditionalColors":if(""!=t[i][s])for(var x=new ConditionalColors,f=(this.setConditionalColors(x),this.getArrayOfSingleLengthJson(t[i][s].ConditionalColor)),g=0;g<f.length;g++){var S,A=new ConditionalColor;for(S in x.setConditionalColor(A),f[g])A[r=this.getNodeAttributeName(S)]=f[g][S]}break;default:e[r=this.getNodeAttributeName(s)]=t[i][s]}else e[r=this.getNodeAttributeName(i)]=t[i]},GroupColumnChart.prototype.getDataProvider=function(){return this.m_dataProvider},GroupColumnChart.prototype.getCategoryNames=function(){return this.m_categoryNames},GroupColumnChart.prototype.getCategoryDisplayNames=function(){return this.m_categoryDisplayNames},GroupColumnChart.prototype.getSubCategoryNames=function(){return this.m_subCategoryNames},GroupColumnChart.prototype.setStartX=function(){this.ctx.font=this.m_yAxis.m_labelfontstyle+" "+this.m_yAxis.m_labelfontweight+" "+this.fontScaling(this.m_yAxis.m_labelfontsize)+"px "+selectGlobalFont(this.m_yAxis.m_labelfontfamily);var t=this.getBorderToDescriptionMargin(),e=this.getYAxisDescriptionMargin(),i=this.getDescriptionToLabelMargin(),s=this.getLabelToAxisMargin(),a=this.getYAxisLabelMargin();this.m_startX=+this.m_x+ +t+ +e+ +i+ +a+ +s},GroupColumnChart.prototype.getYAxisLabelMargin=function(){var t=this.getLabelFormatterMargin();return this.setLabelWidth(),+t+ +this.getLabelWidth()+ +this.getLabelSignMargin()+ +this.getLabelPrecisionMargin()},GroupColumnChart.prototype.getCatTextMargin=function(){this.ctx.font=this.m_xAxis.m_labelfontstyle+" "+this.m_xAxis.m_labelfontweight+" "+this.fontScaling(this.m_xAxis.m_labelfontsize)+"px "+selectGlobalFont(this.m_xAxis.m_labelfontfamily);var t=0;if(0<this.fontScaling(this.m_xAxis.m_labelfontsize)){if(!IsBoolean(this.isEmptyCategory))for(var e=0;e<this.m_categoryData[0].length;e++)t<this.ctx.measureText(this.m_categoryData[0][e]).width&&(t=this.ctx.measureText(this.m_categoryData[0][e]).width);(t+=10)>this.m_height/5&&(t=this.m_height/5)}return t},GroupColumnChart.prototype.getSubCatTextMargin=function(){this.ctx.font=this.m_xAxis.m_labelfontstyle+" "+this.m_xAxis.m_labelfontweight+" "+this.fontScaling(this.m_xAxis.m_subcategoryfontsize)+"px "+selectGlobalFont(this.m_xAxis.m_labelfontfamily);var t=0;if(0<=this.fontScaling(this.m_xAxis.m_subcategoryfontsize)){if(IsBoolean(this.isEmptySubCategory))t=0;else for(var e=0;e<this.m_subCategoryData[0].length;e++)t<this.ctx.measureText(this.m_subCategoryData[0][e]).width&&(t=this.ctx.measureText(this.m_subCategoryData[0][e]).width);(t+=10)>this.m_height/5&&(t=this.m_height/5)}return t},GroupColumnChart.prototype.setStartY=function(){var t=+this.getChartMargin()+ +this.getXAxisLabelMarginForBar()+ +this.getXAxisDescriptionMargin(),e=this.getCatTextMargin(),i=this.getSubCatTextMargin();this.m_startY=+this.m_y+ +this.m_height-t-+e-+i},GroupColumnChart.prototype.getXAxisLabelMarginForBar=function(){this.noOfRows=1,this.noOfRows=this.setNumberOfRows();return 0+1.5*this.fontScaling(this.m_xAxis.getLabelFontSize())*this.noOfRows},GroupColumnChart.prototype.getLabelFormatterMargin=function(){var t,e=0;return IsBoolean(this.m_fixedlabel)||"none"!=this.m_formater&&""!=this.m_formater&&"none"!=this.m_unit&&""!=this.m_unit&&(t=this.m_util.getFormatterSymbol(this.m_formater,this.m_unit),this.ctx.beginPath(),this.ctx.font=this.m_yAxis.getLabelFontWeight()+" "+this.fontScaling(this.m_yAxis.getLabelFontSize())+"px "+this.m_yAxis.getLabelFontFamily(),e=this.ctx.measureText(t).width,this.ctx.closePath()),e},GroupColumnChart.prototype.getLabelWidth=function(){return this.m_labelwidth},GroupColumnChart.prototype.setLabelWidth=function(){var t=[];if((this.m_labelwidth=0)<this.fontScaling(this.m_yAxis.m_labelfontsize)){for(var e=0;e<this.m_yAxisMarkersArray.length;e++){var i,s="100%"==this.m_charttype?100:this.m_yAxisMarkersArray[e];IsBoolean(this.m_fixedlabel)||(IsBoolean(this.m_yAxis.getLeftaxisFormater())&&("none"!=this.getSecondaryFormater()&&""!=this.getSecondaryFormater()&&"none"!=this.getSecondaryUnit()&&""!=this.getSecondaryUnit()&&(i=this.m_util.getFormatterSymbol(this.getSecondaryFormater(),this.getSecondaryUnit()),"auto"==this.getSecondaryUnit()&&"Rupees"==this.m_unit?s=getNumberFormattedNumericValue(+s,this.m_precision,this.m_unit):"auto"==this.getSecondaryUnit()?s=getNumberFormattedNumericValue(+s):"none"!==this.getSecondaryUnit()&&(s=this.m_util.updateTextWithFormatter(s,i,this.m_precision))),0!==s)&&"default"!==this.m_precision&&(s=this.m_yAxis.setPrecision(s,this.m_precision)),s=getFormattedNumberWithCommas(s,this.m_numberformatter),this.ctx.beginPath(),this.ctx.font=this.m_yAxis.m_labelfontstyle+" "+this.m_yAxis.m_labelfontweight+" "+this.fontScaling(this.m_yAxis.m_labelfontsize)+"px "+selectGlobalFont(this.m_yAxis.m_labelfontfamily),t[e]=this.ctx.measureText(s).width,this.ctx.closePath())}this.m_labelwidth=getMaxValueFromArray(t)}},GroupColumnChart.prototype.getLabelSignMargin=function(){var t=0,e=0,i=this.min;return i<0&&(this.ctx.beginPath(),this.ctx.font=this.m_yAxis.getLabelFontWeight()+" "+this.fontScaling(this.m_yAxis.getLabelFontSize())+"px "+this.m_yAxis.getLabelFontFamily(),e=this.ctx.measureText(i).width,this.ctx.closePath()),t=this.getLabelWidth()<e?this.ctx.measureText("-").width:t},GroupColumnChart.prototype.getLabelPrecisionMargin=function(){var t=5;if(!IsBoolean(this.m_fixedlabel)&&"none"!=this.m_precision&&""!=this.m_precision&&0!=this.m_precision){this.ctx.beginPath(),this.ctx.font=this.m_yAxis.getLabelFontWeight()+" "+this.fontScaling(this.m_yAxis.getLabelFontSize())+"px "+this.m_yAxis.getLabelFontFamily();for(var e=".",i=0;i<this.m_precision;i++)e+="0";t=this.ctx.measureText(e).width,this.ctx.closePath()}return t},GroupColumnChart.prototype.getLabelSecondFormatterMargin=function(){var t,e=0;return IsBoolean(this.m_fixedlabel)||"none"!=this.getSecondaryFormater()&&""!=this.getSecondaryFormater()&&"none"!=this.getSecondaryUnit()&&""!=this.getSecondaryUnit()&&(t="auto"!=this.getSecondaryUnit()?this.m_util.getFormatterSymbol(this.getSecondaryFormater(),this.getSecondaryUnit()):"auto"==this.getSecondaryUnit()&&"Rupees"==this.m_unit?getNumberFormattedSymbol(+this.max,this.m_unit):"K",this.ctx.font=this.m_yAxis.m_fontstyle+" "+this.m_yAxis.m_fontweight+" "+this.fontScaling(this.m_yAxis.m_fontsize)+"px "+selectGlobalFont(this.m_yAxis.m_fontfamily),e=this.ctx.measureText(t).width),e},GroupColumnChart.prototype.setNumberOfRows=function(){this.ctx.font=this.m_xAxis.m_labelfontstyle+" "+this.m_xAxis.m_labelfontweight+" "+this.fontScaling(this.m_xAxis.m_labelfontsize)+"px "+selectGlobalFont(this.m_xAxis.m_labelfontfamily);var t,e,i,s=1,a=(""+this.min).length<=(""+this.max).length?this.max:this.min;return IsBoolean(this.isEmptySeries)||(a="100%"==this.m_charttype?100:a,t=this.m_yAxisMarkersArray.length,t=(this.getEndX()-this.getStartX())/t,e=this.getSecondUnitValue(),a=this.m_util.updateTextWithFormatter(a,e,this.m_precision),i=this.getUnitValue(),this.ctx.measureText(a=a+""+i+(e="auto"==e?"K":e)).width>t&&(s="auto"==this.m_skipxaxislabels?2:1)),s},GroupColumnChart.prototype.getSecondUnitValue=function(){var t="";return IsBoolean(this.m_fixedlabel)||IsBoolean(this.m_xAxis.getLeftaxisFormater())&&"none"!=this.getSecondaryFormater()&&""!=this.getSecondaryFormater()&&"none"!=this.getSecondaryUnit()&&""!=this.getSecondaryUnit()&&(t=this.m_util.getFormatterSymbol(this.getSecondaryFormater(),this.getSecondaryUnit())),t},GroupColumnChart.prototype.getUnitValue=function(){var t="";return IsBoolean(this.m_fixedlabel)||IsBoolean(this.m_xAxis.getLeftaxisFormater())&&"none"!=this.m_formater&&""!=this.m_formater&&"none"!=this.m_unit&&""!=this.m_unit&&(t=this.m_util.getFormatterSymbol(this.m_formater,this.m_unit)),t},GroupColumnChart.prototype.setEndX=function(){var t=this.getBorderToLegendMargin(),e=this.getVerticalLegendMargin(),i=this.getVerticalLegendToXAxisMargin();this.m_endX=+this.m_x+ +this.m_width-(+t+ +e+ +i)},GroupColumnChart.prototype.setEndY=function(){this.m_endY=this.m_y+ +this.getMarginForTitle()+ +this.getMarginForSubTitle()},GroupColumnChart.prototype.getCounterFlagForSeriesVisiblity=function(){for(var t=0,e=0;e<this.m_seriesData.length;e++)IsBoolean(this.m_seriesVisibleArr[this.m_seriesNames[e]])&&(t++,this.m_seriesVisiblityPosition=e);return 1==t},GroupColumnChart.prototype.setFields=function(t){this.m_fieldsJson=t;for(var e=[],i=(this.m_categoryJSON=[],this.m_subCategoryJSON=[],[]),s=[],a=0;a<t.length;a++)switch(this.getProperAttributeNameValue(t[a],"Type")){case"Category":e.push(t[a]),this.m_categoryJSON.push(t[a]);break;case"SubCategory":s.push(t[a]),this.m_subCategoryJSON.push(t[a]);break;case"Series":case"CalculatedField":i.push(t[a])}0<s.length&&0<e.length&&s[0].Name==e[0].Name&&(s=e,e=[]),0==s.length&&0!=e.length&&(this.m_subcategoryorientation="left",s=[]),this.setCategory(e),this.setSubCategory(s),this.setSeries(i)},GroupColumnChart.prototype.setCategory=function(t){this.m_categoryNames=[],this.m_categoryFieldColor=[],this.m_categoryDisplayNames=[],this.m_allCategoryNames=[],this.m_allCategoryDisplayNames=[],this.m_categoryVisibleArr={};for(var e=0,i=0;i<t.length;i++){this.m_allCategoryNames[i]=this.getProperAttributeNameValue(t[i],"Name");var s=this.formattedDescription(this,this.getProperAttributeNameValue(t[i],"DisplayName"));this.m_allCategoryDisplayNames[i]=s,this.m_categoryVisibleArr[this.m_allCategoryDisplayNames[i]]=this.getProperAttributeNameValue(t[i],"visible"),IsBoolean(this.m_categoryVisibleArr[this.m_allCategoryDisplayNames[i]])&&(this.m_categoryNames[e]=this.getProperAttributeNameValue(t[i],"Name"),this.m_categoryDisplayNames[e]=s,this.m_categoryFieldColor[e]=this.getProperAttributeNameValue(t[i],"Color"),e++)}},GroupColumnChart.prototype.setSubCategory=function(t){this.m_subCategoryNames=[],this.m_subCategoryFieldColor=[],this.m_subCategoryDisplayNames=[],this.m_allSubCategoryNames=[],this.m_allSubCategoryDisplayNames=[],this.m_subCategoryVisibleArr={};for(var e=0;e<t.length;e++){this.m_allSubCategoryNames[e]=this.getProperAttributeNameValue(t[e],"Name");var i=this.formattedDescription(this,this.getProperAttributeNameValue(t[e],"DisplayName"));this.m_allSubCategoryDisplayNames[e]=i,this.m_subCategoryVisibleArr[this.m_allSubCategoryDisplayNames[e]]=this.getProperAttributeNameValue(t[e],"visible"),IsBoolean(this.m_subCategoryVisibleArr[this.m_allSubCategoryDisplayNames[e]])&&(this.m_subCategoryNames[0]=this.getProperAttributeNameValue(t[e],"Name"),this.m_subCategoryDisplayNames[0]=i,this.m_subCategoryFieldColor[0]=this.getProperAttributeNameValue(t[e],"Color"))}},GroupColumnChart.prototype.setSeries=function(t){this.m_seriesNames=[],this.m_seriesDisplayNames=[],this.m_seriesColors=[],this.m_legendNames=[],this.m_seriesVisibleArr={},this.m_allSeriesDisplayNames=[],this.m_allSeriesNames=[],this.m_plotTrasparencyArray=[],this.m_seriesDataLabelProperty=[];var e=0;this.legendMap={};for(var i=0;i<t.length;i++){var s=this.formattedDescription(this,this.getProperAttributeNameValue(t[i],"DisplayName"));this.m_allSeriesDisplayNames[i]=s,this.m_allSeriesNames[i]=this.getProperAttributeNameValue(t[i],"Name"),this.m_seriesVisibleArr[this.m_allSeriesNames[i]]=this.getProperAttributeNameValue(t[i],"visible"),IsBoolean(this.m_seriesVisibleArr[this.m_allSeriesNames[i]])&&(this.m_seriesDisplayNames[e]=s,this.m_seriesNames[e]=this.getProperAttributeNameValue(t[i],"Name"),this.m_legendNames[e]=s,this.m_seriesColors[e]=convertColorToHex(this.getProperAttributeNameValue(t[i],"Color")),this.m_seriesDataLabelProperty[e]=this.getProperAttributeNameValue(t[i],"DataLabelCustomProperties"),void 0!==this.m_seriesDataLabelProperty[e]?(IsBoolean(this.m_seriesDataLabelProperty[e].useFieldColor)&&(this.m_seriesDataLabelProperty[e].dataLabelFontColor=this.m_seriesColors[e]),void 0!==this.m_seriesDataLabelProperty[e].showPercentValue&&IsBoolean(this.m_seriesDataLabelProperty[e].showPercentValue)&&"100%"==this.m_charttype&&(this.m_seriesDataLabelProperty[e].datalabelField=this.m_seriesNames[e]),IsBoolean(this.m_seriesDataLabelProperty[e].dataLabelUseComponentFormater)&&(this.m_seriesDataLabelProperty[e].datalabelFormaterCurrency=this.m_unit,this.m_seriesDataLabelProperty[e].datalabelFormaterPrecision=this.m_precision,this.m_seriesDataLabelProperty[e].datalabelFormaterPosition=this.m_signposition,this.m_seriesDataLabelProperty[e].datalabelFormaterUnit=this.m_secondaryunit)):this.m_seriesDataLabelProperty[e]=this.getDataLabelProperties(),s=this.getProperAttributeNameValue(t[i],"PlotTransparency"),this.m_plotTrasparencyArray[e]=null!=s&&null!==s&&""!==s?s:1,s={seriesName:this.m_seriesNames[e],displayName:this.m_seriesDisplayNames[e],color:this.m_seriesColors[e],shape:"cube"},this.legendMap[this.m_seriesNames[e]]=s,e++)}this.setLegendsIntialLoad(this.m_defaultlegendfields)},GroupColumnChart.prototype.getLegendInfo=function(){return this.legendMap},GroupColumnChart.prototype.getAllSeriesNames=function(){return this.m_allSeriesNames},GroupColumnChart.prototype.getAllCategoryNames=function(){return this.m_allCategoryNames},GroupColumnChart.prototype.getAllSubCategoryNames=function(){return this.m_allSubCategoryNames},GroupColumnChart.prototype.getSeriesNames=function(){return this.m_seriesNames},GroupColumnChart.prototype.getSeriesDisplayNames=function(){return this.m_seriesDisplayNames},GroupColumnChart.prototype.getSeriesColors=function(){return this.m_seriesColors},GroupColumnChart.prototype.setLegendNames=function(t){this.m_legendNames=t},GroupColumnChart.prototype.getLegendNames=function(){return this.m_legendNames},GroupColumnChart.prototype.setAllFieldsName=function(){this.m_allfieldsName=[];for(var t=0;t<this.getAllCategoryNames().length;t++)this.m_allfieldsName.push(this.getAllCategoryNames()[t]);for(t=0;t<this.getAllSubCategoryNames().length;t++)this.m_allfieldsName.push(this.getAllSubCategoryNames()[t]);for(var e=0;e<this.getAllSeriesNames().length;e++)this.m_allfieldsName.push(this.getAllSeriesNames()[e])},GroupColumnChart.prototype.getAllFieldsName=function(){return this.m_allfieldsName},GroupColumnChart.prototype.setAllFieldsDisplayName=function(){this.m_allfieldsDisplayName=[];for(var t=0;t<this.getCategoryDisplayNames().length;t++)this.m_allfieldsDisplayName.push(this.getCategoryDisplayNames()[t]);for(var e=0;e<this.getSeriesDisplayNames().length;e++)this.m_allfieldsDisplayName.push(this.getSeriesDisplayNames()[e])},GroupColumnChart.prototype.getAllFieldsDisplayName=function(){return this.m_allfieldsDisplayName},GroupColumnChart.prototype.setCategoryData=function(){this.m_categoryData=[],this.isEmptyCategory=!0;for(var t=0;t<this.getCategoryNames().length;t++)this.isEmptyCategory=!1,this.m_categoryData[t]=this.getDataFromJSON(this.getCategoryNames()[t])},GroupColumnChart.prototype.setSubCategoryData=function(){this.m_subCategoryData=[],this.isEmptySubCategory=!0;for(var t=0;t<this.getSubCategoryNames().length;t++)this.isEmptySubCategory=!1,this.m_subCategoryData[t]=this.getDataFromJSON(this.getSubCategoryNames()[t])},GroupColumnChart.prototype.getSubCategoryData=function(){return this.m_subCategoryData},GroupColumnChart.prototype.getCategoryData=function(){return this.m_categoryData},GroupColumnChart.prototype.setSeriesData=function(){this.m_seriesData=[];for(var t=0;t<this.getSeriesNames().length;t++)this.m_seriesData.push(this.getDataFromJSON(this.getSeriesNames()[t]))},GroupColumnChart.prototype.getSeriesData=function(){return this.m_seriesData},GroupColumnChart.prototype.setSeriesColor=function(t){this.m_seriesColor=t},GroupColumnChart.prototype.getSeriesColor=function(){return this.m_seriesColor},GroupColumnChart.prototype.init=function(){this.setCategoryData(),this.setSubCategoryData(),this.setSeriesData(),this.visibleSeriesInfo=this.getVisibleSeriesData(this.getSeriesData()),this.setColorsForSeries(),0!=this.getCategoryNames().length&&null!=this.getSubCategoryNames()[0]&&this.manageRepeatedSubCategory(),this.setAllFieldsName(),this.setAllFieldsDisplayName(),this.isSeriesDataEmpty(),this.setShowSeries(this.getAllFieldsName()),this.updateSeriesDataWithCommaSeperators(),this.visibleSeriesInfo=this.getVisibleSeriesData(this.getSeriesData()),this.createSVG(),this.initMouseClickEventForSVG(this.svgContainerId),this.m_chartFrame.init(this),this.m_title.init(this),this.m_subTitle.init(this),IsBoolean(this.m_isEmptySeries)||!IsBoolean(this.isVisibleSeries())||IsBoolean(this.isEmptyCategory)&&IsBoolean(this.isEmptySubCategory)||(this.setPercentageForHundred(),this.initializeCalculation(),this.m_xAxis.init(this,this.m_calculation),this.m_yAxis.init(this,this.m_calculation)),this.initializeToolTipProperty(),this.m_tooltip.init(this)},GroupColumnChart.prototype.manageRepeatedSubCategory=function(){for(var t,e={},i={},s={},a=0;a<this.m_categoryData[0].length;a++){null==e[this.m_categoryData[0][a]]&&(e[this.m_categoryData[0][a]]={},i[this.m_categoryData[0][a]]={},s[this.m_categoryData[0][a]]={}),null==e[this.m_categoryData[0][a]][this.m_subCategoryData[0][a]]&&(e[this.m_categoryData[0][a]][this.m_subCategoryData[0][a]]=[],i[this.m_categoryData[0][a]][this.m_subCategoryData[0][a]]=[],s[this.m_categoryData[0][a]][this.m_subCategoryData[0][a]]=[]);var r=[],o=[],h=[];this.setSeriesDataLabel();for(var n=0;n<this.m_seriesData.length;n++)r.push(this.m_seriesData[n][a]);for(n=0;n<this.m_seriesDataForDataLabel.length;n++)o.push(this.m_seriesDataForDataLabel[n][a]);for(n=0;n<this.m_seriesColorsArray.length;n++)h.push(this.m_seriesColorsArray[n][a]);e[this.m_categoryData[0][a]][this.m_subCategoryData[0][a]].push(r),i[this.m_categoryData[0][a]][this.m_subCategoryData[0][a]].push(o),s[this.m_categoryData[0][a]][this.m_subCategoryData[0][a]].push(h)}for(t in e)for(var l in e[t]){for(var m=[],c=[],g=[],u=0;u<e[t][l][0].length;u++){for(var _,p=[],y=[],d=[],a=0;a<e[t][l].length;a++)isNaN(e[t][l][a][u])?(_=removeCommaFromSrting(e[t][l][a][u]),p.push(""!==_?_:e[t][l][a][u])):p.push(e[t][l][a][u]),y.push(i[t][l][a][u]),d.push(s[t][l][a][u]);if(1===p.length)m.push(p[0]),c.push(y[0]);else{var b=getAggregationOperatedData(p,this.m_aggroperation);if(""===b)for(var C=0;C<p.length;C++)if(0==p[C]){b=0;break}m.push(b),c.push(getAggregationOperatedData(y,this.m_aggroperation))}g.push(d[0])}e[t][l]=m,i[t][l]=c,s[t][l]=g}for(t in this.m_categoryData[0]=[],this.m_subCategoryData[0]=[],this.m_seriesData=[],this.m_seriesDataForDataLabel=[],this.m_seriesColorsArray=[],e)for(var l in e[t])for(a=0;a<e[t][l].length;a++)this.m_seriesData[a]=[],this.m_seriesDataForDataLabel[a]=[],this.m_seriesColorsArray[a]=[];for(t in e)for(var l in e[t]){this.m_categoryData[0].push(t),this.m_subCategoryData[0].push(l);for(a=0;a<e[t][l].length;a++)this.m_seriesData[a].push(e[t][l][a]),this.m_seriesDataForDataLabel[a].push(i[t][l][a]),this.m_seriesColorsArray[a].push(s[t][l][a])}},GroupColumnChart.prototype.updateSeriesDataWithCommaSeperators=function(){this.m_displaySeriesDataFlag=[];for(var t=0;t<this.m_seriesData.length;t++){this.m_displaySeriesDataFlag[t]=[];for(var e=0;e<this.m_seriesData[t].length;e++)this.m_displaySeriesDataFlag[t][e]=!0,isNaN(this.m_seriesData[t][e])&&(this.m_displaySeriesDataFlag[t][e]=!1,this.m_seriesData[t][e]=getNumericComparableValue(this.m_seriesData[t][e]))}},GroupColumnChart.prototype.drawChart=function(){this.drawChartFrame(),this.drawTitle(),this.drawSubTitle(),this.drawLegends(),IsBoolean(this.isEmptyCategory)&&IsBoolean(this.isEmptySubCategory)?this.drawSVGMessage("No Visible Category OR SubCategory Field Available"):IsBoolean(this.m_isEmptySeries)?this.drawSVGMessage(this.m_status.noData):IsBoolean(this.isVisibleSeries())?(this.drawXAxis(),this.drawYAxis(),this.drawGroupColumnChart(),this.drawDataLabel()):this.drawSVGMessage("No visible Series Available")},GroupColumnChart.prototype.drawLine=function(t,e,i,s){t=drawSVGLine(t,e,i,s,"0.5",hex2rgb(this.m_markercolor,this.m_markertransparency));$("#horizontallinegrp"+this.m_objectid).append(t)},GroupColumnChart.prototype.initCanvas=function(){$("#draggableDiv"+this.m_objectid).remove(),this.initializeDraggableDivAndCanvas()},GroupColumnChart.prototype.initializeDraggableDivAndCanvas=function(){this.setDashboardNameAndObjectId(),this.m_draggableDiv=this.createDraggableDiv(this.m_chartContainer,this.m_zIndex),this.createDraggableCanvas(this.m_draggableDiv),this.setCanvasContext(),this.createSVG(),$("#draggableCanvas"+this.m_objectid).hide(),this.initMouseMoveEvent(this.m_chartContainer),this.initMouseClickEventForSVG(this.svgContainerId)},GroupColumnChart.prototype.createSVG=function(){this.svgContainerId="svgContainer"+this.m_objectid,$("#"+this.svgContainerId).remove();var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("xlink","http://www.w3.org/1999/xlink"),t.setAttribute("width",this.m_width),t.setAttribute("height",this.m_height),t.setAttribute("id",this.svgContainerId),$("#draggableDiv"+this.m_objectid).append(t)},GroupColumnChart.prototype.initializeCalculation=function(){var t=this.updateSeriesData(this.visibleSeriesInfo.seriesData),e=this.updateSeriesData(this.m_categoryData),i=this.updateSeriesData(this.m_subCategoryData);if(this.calculateMinimumMaximum(t),this.setChartDrawingArea(),this.dataMap={},IsBoolean(this.isEmptyCategory)&&!IsBoolean(this.isEmptySubCategory))this.m_calculation.init(this,i,this.visibleSeriesInfo.seriesData,this.dataMap);else if(!IsBoolean(this.isEmptyCategory)&&IsBoolean(this.isEmptySubCategory))this.m_calculation.init(this,e,this.visibleSeriesInfo.seriesData,this.dataMap);else{for(var s=0;s<e.length;s++)null==this.dataMap[e[s][0]]&&(this.dataMap[e[s][0]]={}),this.dataMap[e[s][0]][i[s][0]]=t[s];this.m_calculation.init(this,i,this.visibleSeriesInfo.seriesData,this.dataMap)}this.m_xPositionArray=this.m_calculation.getXPositionArray(),this.m_yPositionArray=this.m_calculation.getYPositionArray(),this.m_barWidth=this.m_calculation.getbarWidth(),this.m_noofseries=this.m_calculation.xAxisData.length,this.m_barGap=this.m_calculation.getBarGap(),this.m_barWidthArray=this.m_calculation.getstackHeightArray(),IsBoolean(this.getCounterFlagForSeriesVisiblity())&&IsBoolean(this.m_showmarkingorpercentvalue)?(this.m_percentageArray=!IsBoolean(this.m_showpercentvalue)||IsBoolean(this.getCheckedAllPosContainigZero())?this.getPercentage():this.getRoundValue(this.getPercentage(),100),this.m_showPerCentageFlag=!0):(this.m_percentageArray=this.getArrayWhenPercentFlagIsFalse(),this.m_seriesInitializeFlag=!1),this.initializeBars(),this.initializeDataLabel()},GroupColumnChart.prototype.calculateMinimumMaximum=function(t){var t="clustered"==this.m_charttype.toLowerCase()||"stacked"==this.m_charttype.toLowerCase()&&1===t[0].length?this.calculateMinMaxValue(t):this.calculateFinalMinMaxValue(t),e=t.min,t=t.max,e=this.getCalculateNiceScale(e,t,this.m_basezero,this.m_autoaxissetup,this.m_minimumaxisvalue,this.m_maximumaxisvalue,this.m_height);this.min=e.min,this.max=e.max,this.m_numberOfMarkers=e.markerArray.length,this.m_yAxisText=e.step,this.m_yAxisMarkersArray=e.markerArray},GroupColumnChart.prototype.calculateFinalMinMaxValue=function(t){var e=isNaN(+t[0][0])?0:+t[0][0],i=isNaN(+t[0][0])?0:+t[0][0];if("100%"==this.m_charttype){for(var s=!1,a=0,r=t.length;a<r;a++)for(var o=0,h=t[a].length;o<h;o++)if(t[a][o]<0){s=!0;break}e=100,i=IsBoolean(s)?-100:0}else for(a=0,r=t.length;a<r;a++){for(var n=0,l=0,m=t[a].length,o=0;o<m;o++)isNaN(+t[a][o])||(0<+t[a][o]?n=+n+ +t[a][o]:l=+t[a][o]+ +l);e<=n&&(e=+n),+l<i&&(i=+l)}return{max:e,min:i}},GroupColumnChart.prototype.calculateCategoryBoxSize=function(){var t={},e=this.getEndX()-this.m_barGap/2,i=Object.keys(this.dataMap).length-1;for(Object.keys(this.dataMap)[i]in this.dataMap){var s,a=0;for(s in this.dataMap[Object.keys(this.dataMap)[i]])a++;IsBoolean(this.m_mergesubcategory)&&null!=this.m_categoryNames[0]?e=e-a*this.m_barWidth-this.m_barGap/2:e-=a*this.m_barWidth+this.m_barGap*a-this.m_barGap/2,t[Object.keys(this.dataMap)[i]]=e,e-=this.m_barGap/2,i--}return t},GroupColumnChart.prototype.getCheckedAllPosContainigZero=function(){for(var t=!0,e=0;e<this.m_seriesData[this.m_seriesVisiblityPosition].length;e++)0!=this.m_seriesData[this.m_seriesVisiblityPosition][e]&&(t=!1);return t},GroupColumnChart.prototype.getArrayWhenPercentFlagIsFalse=function(){for(var t=[],e=0;e<this.m_seriesData.length;e++)t[e]=0;return t},GroupColumnChart.prototype.getPercentage=function(){for(var t=[],e=this.getSumOfSeriesData(),i=0;i<this.m_seriesData[this.m_seriesVisiblityPosition].length;i++)IsBoolean(this.m_showpercentvalue)?(0<this.m_seriesData[this.m_seriesVisiblityPosition][i]?t[i]=this.m_seriesData[this.m_seriesVisiblityPosition][i]/e*100:t[i]=0,this.m_showPercentValueFlag=!0):t[i]=this.m_seriesData[this.m_seriesVisiblityPosition][i];return t},GroupColumnChart.prototype.getSumOfSeriesData=function(){for(var t=0,e=0;e<this.m_seriesData[this.m_seriesVisiblityPosition].length;e++)"NaN"==this.m_seriesData[this.m_seriesVisiblityPosition][e]&&(this.m_seriesData[this.m_seriesVisiblityPosition][e]=0),0<this.m_seriesData[this.m_seriesVisiblityPosition][e]&&(t=+t+ +this.m_seriesData[this.m_seriesVisiblityPosition][e]);return t},GroupColumnChart.prototype.initializeBars=function(){this.m_barSeriesArray={};for(var t=0;t<this.visibleSeriesInfo.seriesName.length;t++){this.m_barSeriesArray[this.visibleSeriesInfo.seriesName[t]]=new GroupColumnSeries;var e="clustered"==this.m_charttype?this.m_barWidth/this.visibleSeriesInfo.seriesName.length:this.m_barWidth;"clustered"==this.m_charttype&&(e*=this.clusteredbarpadding),this.m_barSeriesArray[this.visibleSeriesInfo.seriesName[t]].init(this.m_xPositionArray[t],this.m_yPositionArray[t],e,this.m_barWidthArray[t],this.m_percentageArray,this.getColorsForSeries()[t],this.m_strokecolor,this.m_showmarkingorpercentvalue,this.m_showPercentValueFlag,this.m_seriesInitializeFlag,this.m_plotTrasparencyArray[t],this)}},GroupColumnChart.prototype.initializeDataLabel=function(){this.m_valueTextSeries={},0!=this.getCategoryNames().length&&null!=this.getSubCategoryNames()[0]||(this.m_seriesDataForDataLabel=[]),void 0!==this.m_seriesDataForDataLabel.length&&!IsBoolean(this.isEmptySubCategory)&&0!==this.m_seriesDataForDataLabel.length||this.setSeriesDataLabel();for(var t,e,i=0,s=0;s<this.m_seriesNames.length;s++)IsBoolean(this.m_seriesVisibleArr[this.m_seriesNames[s]])&&(IsBoolean(this.m_seriesDataLabelProperty[s].showDataLabel)&&(t="100%"==this.m_charttype&&void 0!==this.m_seriesDataLabelProperty[i].showPercentValue&&IsBoolean(this.m_seriesDataLabelProperty[i].showPercentValue)?(this.m_seriesDataForDataLabel[i]=this.getPercentageForHundred()[i],i):s,e="clustered"==this.m_charttype?this.m_barWidth/this.visibleSeriesInfo.seriesName.length:this.m_barWidth,this.m_valueTextSeries[this.m_seriesNames[s]]=new SVGValueTextSeries,this.m_valueTextSeries[this.m_seriesNames[s]].init(this.m_xPositionArray[i],this.m_yPositionArray[i],this,this.m_seriesDataForDataLabel[t],this.m_seriesDataLabelProperty[s],this.m_seriesData[s],e,this.m_barWidthArray[i],"column")),i++)},GroupColumnChart.prototype.setSeriesDataLabel=function(){this.m_seriesDataForDataLabel=[];for(var t=0,e=this.getDataProvider().length;t<e;t++)for(var i=this.getDataProvider()[t],s=0,a=this.getSeriesNames().length;s<a;s++){this.m_seriesDataForDataLabel[s]||(this.m_seriesDataForDataLabel[s]=[]);var r=this.getValidFieldDataFromRecord(i,this.m_seriesDataLabelProperty[s].datalabelField);this.m_seriesDataForDataLabel[s][t]=r}},GroupColumnChart.prototype.getColorsForSeries=function(){return this.m_seriesColorsArray},GroupColumnChart.prototype.setColorsForSeries=function(){this.m_seriesColorsArray=[];for(var t=!0,e=0;e<this.m_categoryData.length&&t;e++)t=Array.isArray(this.m_categoryData[e])&&0===this.m_categoryData[e].length;if(IsBoolean(this.m_enablecolorfromdrill)&&IsBoolean(this.m_startDrill))for(e=0;e<this.visibleSeriesInfo.seriesData.length;e++){this.m_seriesColorsArray[e]=[];for(var i=0;i<this.visibleSeriesInfo.seriesData[e].length;i++)this.m_seriesColorsArray[e][i]=this.m_drillColor}else if(!IsBoolean(this.m_designMode)&&null!=this.getCategoryColors()&&""!=this.getCategoryColors()&&0<this.getCategoryColors().getCategoryColor().length&&IsBoolean(this.getCategoryColors().getshowColorsFromCategoryName())&&0<this.m_categoryJSON.length){var s=[];s=0<this.m_subCategoryNames.length&&0==this.m_categoryNames.length?this.getCategoryColors().getCategoryColorsForCategoryNames(this.getSubCategoryData()[0],this.m_categoryFieldColor):this.getCategoryColors().getCategoryColorsForCategoryNames(this.getCategoryData()[0],this.m_categoryFieldColor);for(e=0;e<this.visibleSeriesInfo.seriesData.length;e++){this.m_seriesColorsArray[e]=[];for(i=0;i<this.visibleSeriesInfo.seriesData[e].length;i++)this.m_seriesColorsArray[e][i]=s[i]}}else if(!IsBoolean(this.m_designMode)&&null!=this.getSubCategoryColors()&&""!=this.getSubCategoryColors()&&0<this.getSubCategoryColors().getSubCategoryColor().length&&IsBoolean(this.getSubCategoryColors().getshowColorsFromSubCategoryName())&&0<this.m_subCategoryJSON.length)for(s=this.getSubCategoryColors().getSubCategoryColorsForSubCategoryNames(this.getSubCategoryData()[0],this.m_categoryFieldColor),e=0;e<this.visibleSeriesInfo.seriesData.length;e++){this.m_seriesColorsArray[e]=[];for(i=0;i<this.visibleSeriesInfo.seriesData[e].length;i++)this.m_seriesColorsArray[e][i]=s[i]}else if(IsBoolean(this.m_designMode)||""==this.getCategoryColors()||IsBoolean(this.getCategoryColors().getshowColorsFromCategoryName())&&0!=this.getCategoryColors().getCategoryColor().length||""==this.getConditionalColors()||null==this.getConditionalColors()||!(0<this.getConditionalColors().getConditionalColor().length)||IsBoolean(t))for(var a=this.visibleSeriesInfo.seriesColor,e=0;e<this.visibleSeriesInfo.seriesData.length;e++){this.m_seriesColorsArray[e]=[];for(i=0;i<this.visibleSeriesInfo.seriesData[e].length;i++)this.m_seriesColorsArray[e][i]=a[e]}else for(var r=this.getConditionalColors().getConditionalColorsForConditions(this.visibleSeriesInfo.seriesName,this.visibleSeriesInfo.seriesColor,this.visibleSeriesInfo.seriesData,this),e=0;e<this.visibleSeriesInfo.seriesData.length;e++){this.m_seriesColorsArray[e]=[];for(var i=0;i<this.visibleSeriesInfo.seriesData[e].length;i++)this.m_seriesColorsArray[e][i]=r[e][i]}},GroupColumnChart.prototype.updateSeriesData=function(t){var e=[];if(null!=t&&null!==t&&""!==t&&0!=t.length)for(var i=0;i<t[0].length;i++){e[i]=[];for(var s=0;s<t.length;s++)e[i][s]=t[s][i]}return e},GroupColumnChart.prototype.drawTitle=function(){this.m_title.draw()},GroupColumnChart.prototype.drawSubTitle=function(){this.m_subTitle.draw()},GroupColumnChart.prototype.drawXAxis=function(){this.createHorizontalLineGroup("horizontallinegrp"),IsBoolean(this.m_showverticalmarkerline)&&this.drawPartitionLine(),IsBoolean(this.m_showcatpartitioner)&&this.drawCategoryPartitionLine(),this.createXAxisMarkerLabelGroup("xaxislabelgrp"),this.createXAxisCategoryMarkerLabelGroup("xaxiscategorylabelgrp"),this.createXAxisSubCategoryMarkerLabelGroup("xaxissubcategorylabelgrp"),this.drawHorizontalPartLine(),this.m_xAxis.markXaxis(),this.m_xAxis.drawXAxis(),this.m_xAxis.drawSubCategory(),this.m_xAxis.drawCategory()},GroupColumnChart.prototype.drawHorizontalPartLine=function(){var t=this.getStartY()+this.getSubCatTextMargin()+10;this.drawLine(this.getStartX(),t,this.getEndX(),t)},GroupColumnChart.prototype.createXAxisCategoryMarkerLabelGroup=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("id",t+this.m_objectid),e.setAttribute("class",t),$(e).css({"font-family":selectGlobalFont(this.m_xAxis.getLabelFontFamily()),"font-style":this.m_xAxis.getLabelFontStyle(),"font-size":this.fontScaling(this.m_xAxis.getLabelFontSize())+"px","font-weight":this.m_xAxis.getLabelFontWeight(),"text-decoration":this.m_xAxis.getLabelTextDecoration()}),$("#"+this.svgContainerId).append(e)},GroupColumnChart.prototype.createXAxisSubCategoryMarkerLabelGroup=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("id",t+this.m_objectid),e.setAttribute("class",t),$(e).css({"font-family":selectGlobalFont(this.m_xAxis.getLabelFontFamily()),"font-style":this.m_xAxis.getLabelFontStyle(),"font-size":this.fontScaling(this.m_xAxis.m_subcategoryfontsize)+"px","font-weight":this.m_xAxis.getLabelFontWeight(),"text-decoration":this.m_xAxis.getLabelTextDecoration()}),$("#"+this.svgContainerId).append(e)},GroupColumnChart.prototype.drawCategoryPartitionLine=function(){var t,e=this.getStartY()+this.getSubCatTextMargin()+this.m_yAxis.m_axislinetotextgap,e="left"==this.m_subcategoryorientation?this.getStartY()+this.getCatTextMargin()+this.getSubCatTextMargin()+this.m_yAxis.m_axislinetotextgap:this.getStartY()+this.getCatTextMargin()+this.m_yAxis.m_axislinetotextgap,i=this.calculateCategoryBoxSize();for(t in i)this.drawLine(i[t],+this.getStartY(),i[t],e)},GroupColumnChart.prototype.drawPartitionLine=function(){var t,e=this.getStartX(),i=(this.drawLine(e,+this.getStartY()+1,+this.getEndX()-1,+this.getStartY()+1),this.calculateCategoryBoxSize());for(t in i)this.drawLine(i[t],+this.getStartY(),i[t],+this.getEndY())},GroupColumnChart.prototype.drawYAxis=function(){IsBoolean(this.m_showhorizontalmarkerline)&&this.m_yAxis.horizontalMarkerLines(),IsBoolean(this.m_zeromarkerline)&&!IsBoolean(this.m_basezero)&&IsBoolean(this.m_yAxis.hasNegativeAxisMarker(this.m_yAxisMarkersArray))&&this.m_yAxis.zeroMarkerLine(),this.createYAxisMarkerLabelGroup("yaxislabelgrp"),this.m_yAxis.drawYAxis(),this.m_yAxis.markYaxis()},GroupColumnChart.prototype.drawVerticalPartLine=function(){var t=this.getStartX()-this.getSubCatTextMargin();this.drawLine(t,this.getStartY(),t,this.getEndY())},GroupColumnChart.prototype.drawChartFrame=function(){this.m_chartFrame.drawSVGFrame(),this.getBGGradientColorToContainer()},GroupColumnChart.prototype.getBGGradientColorToContainer=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","defs"),e=document.createElementNS(NS,"filter"),i=(e.setAttribute("id","stackShadow"+this.m_objectid),document.createElementNS(NS,"feOffset")),s=(i.setAttribute("dx","0"),i.setAttribute("dy","0"),i.setAttribute("result","offOut"),i.setAttribute("in","SourceGraphic"),document.createElementNS(NS,"feGaussianBlur")),a=(s.setAttribute("result","blurOut"),s.setAttribute("in","offOut"),s.setAttribute("stdDeviation","1"),document.createElementNS(NS,"feColorMatrix")),r=(a.setAttribute("in","blurOut"),a.setAttribute("result","color-out"),a.setAttribute("type","matrix"),a.setAttribute("values",hex2Matrix(this.m_stackshadowcolor,this.m_stackshadowopacity)),document.createElementNS(NS,"feBlend"));r.setAttribute("in","SourceGraphic"),r.setAttribute("in2","color-out"),r.setAttribute("mode","normal"),e.appendChild(i),e.appendChild(s),e.appendChild(a),e.appendChild(r),t.appendChild(e),$("#"+this.svgContainerId).append(t)},GroupColumnChart.prototype.drawObject=function(){this.drawSVGObject()},GroupColumnChart.prototype.drawGroupColumnChart=function(){if("gradient1"==this.m_chartbase)for(var t=0,e=this.visibleSeriesInfo.seriesName.length;t<e;t++)for(var i=0,s=this.m_barSeriesArray[this.visibleSeriesInfo.seriesName[t]].xPixel.length;i<s;i++)this.createGradient1(this.m_barSeriesArray[this.visibleSeriesInfo.seriesName[t]].barStackArray[i].stackColor,t,i);else if("gradient2"==this.m_chartbase)for(var t=0,a=this.visibleSeriesInfo.seriesName.length;t<a;t++)for(i=0,s=this.m_barSeriesArray[this.visibleSeriesInfo.seriesName[t]].xPixel.length;i<s;i++)this.createGradient2(this.m_barSeriesArray[this.visibleSeriesInfo.seriesName[t]].barStackArray[i].stackColor,t,i);else if("gradient3"==this.m_chartbase)for(t=0,a=this.visibleSeriesInfo.seriesName.length;t<a;t++)for(i=0,s=this.m_barSeriesArray[this.visibleSeriesInfo.seriesName[t]].xPixel.length;i<s;i++)this.createGradient3(this.m_barSeriesArray[this.visibleSeriesInfo.seriesName[t]].barStackArray[i].stackColor,t,i);for(var r=0;r<this.visibleSeriesInfo.seriesName.length;r++){var o=this.m_barSeriesArray[this.visibleSeriesInfo.seriesName[r]];this.createStackGroup(o,"stackgrp",r,this.visibleSeriesInfo.seriesName[r]),o.drawBarSeries(r)}},GroupColumnChart.prototype.drawDataLabel=function(){this.m_overlappeddatalabelarrayX=[],this.m_overlappeddatalabelarrayY=[];for(var t,e=0,i=this.m_seriesNames.length;e<i;e++)IsBoolean(this.m_seriesVisibleArr[this.m_seriesNames[e]])&&(t=this.m_valueTextSeries[this.m_seriesNames[e]],IsBoolean(this.m_seriesDataLabelProperty[e].showDataLabel))&&(this.createDataLabelGroup(t,"datalabelgrp",e,this.m_seriesNames[e]),this.m_valueTextSeries[this.m_seriesNames[e]].drawSVGValueTextSeries())},GroupColumnChart.prototype.getArraySUM=function(t){for(var e=0,i=0;i<t.length;i++)t[i]<0&&(t[i]=-1*t[i]),isNaN(t[i])||(e=+e+ +t[i]);return e},GroupColumnChart.prototype.getUpdateSeriesDataWithCategory=function(t){for(var e=[],i=0;i<t[0].length;i++){e[i]=[];for(var s=0;s<t.length;s++)e[i][s]=t[s][i]}return e},GroupColumnChart.prototype.setPercentageForHundred=function(){for(var t=this.getUpdateSeriesDataWithCategory(this.visibleSeriesInfo.seriesData),e=(this.m_SeriesDataInPerForHundredChart,[]),i=0;i<t.length;i++){var s=this.getArraySUM(t[i]);e[i]=[];for(var a=0;a<t[i].length;a++)""===t[i][a]||isNaN(t[i][a])?e[i][a]=0:e[i][a]=t[i][a]/s*100}0<e.length&&(this.m_SeriesDataInPerForHundredChart=this.getUpdateSeriesDataForHundredPercentageChart(e))},GroupColumnChart.prototype.getPercentageForHundred=function(){return this.m_SeriesDataInPerForHundredChart},GroupColumnChart.prototype.getUpdateSeriesDataForHundredPercentageChart=function(t){for(var e=[],i=0,s=t[0].length;i<s;i++){e[i]=[];for(var a=0,r=t.length;a<r;a++)e[i][a]=t[a][i]}for(i=0,s=this.visibleSeriesInfo.seriesData.length;i<s;i++)for(a=0,r=this.visibleSeriesInfo.seriesData[i].length;a<r;a++)isNaN(this.visibleSeriesInfo.seriesData[i][a])||+this.visibleSeriesInfo.seriesData[i][a]<0&&(e[i][a]=-1*e[i][a]);return e},GroupColumnChart.prototype.getToolTipData=function(t,e){var i;if(!IsBoolean(this.m_isEmptySeries)&&IsBoolean(this.isVisibleSeries())&&IsBoolean("None"!==this.m_customtextboxfortooltip.dataTipType)){if(t>=this.getStartX()&&t<=this.getEndX()&&e<=this.getStartY()&&e>=this.getEndY()){this.xPositions=this.m_calculation.getXPositionforToolTip();for(var s=this.visibleSeriesInfo.seriesData,a=this.getPercentageForHundred(),r=0;r<this.xPositions.length;r++)if(t<=+this.xPositions[r]+ +this.m_barWidth&&t>=+this.xPositions[r]){if((i={cat:"",subcat:""}).data=new Array,IsBoolean(this.isEmptyCategory)||(i.cat=this.getCategoryData()[0][r]),IsBoolean(this.isEmptySubCategory)||(i.subcat=this.getSubCategoryData()[0][r]),IsBoolean("Default"==this.m_customtextboxfortooltip.dataTipType)){for(var o=0,h=0;o<this.visibleSeriesInfo.seriesData.length;o++){var n,l=[],m=(l[1]=this.visibleSeriesInfo.seriesDisplayName[o],IsBoolean(this.m_enablecolorfromdrill)&&IsBoolean(this.m_startDrill)?l[0]=this.m_drillColor:l[0]=this.visibleSeriesInfo.seriesColor[o],n=""==s[o][r]||isNaN(s[o][r])||null==s[o][r]||"null"==s[o][r]?s[o][r]:(n=+s[o][r])%1!=0&&"default"!==this.m_tooltipprecision?n.toFixed(this.m_tooltipprecision):+s[o][r],this.getUpdatedFormatterForToolTip(n,this.visibleSeriesInfo.seriesName[o]));if(l[2]=m,"100%"==this.m_charttype&&1<this.getSeriesDisplayNames().length){"auto"==this.m_tooltipproperties.tooltippercentprecision?0==countDecimal(a[o][r].toString())?l[3]=a[o][r]+"%":(l[3]=a[o][r].toFixed(2),l[3]=l[3]%1==0?(+l[3]).toFixed()+"%":l[3]+"%"):l[3]=a[o][r].toFixed(this.m_tooltipproperties.tooltippercentprecision)+"%";for(var c=0,g=0;g<=o;g++)isNaN(s[g][r])||(c+=+s[g][r]);IsBoolean(this.m_tooltipproperties.showcummulativesum)&&(l[4]=this.getNumberWithCommas(c))}i.data[h]=l,h++}i.highlightIndex=this.getDrillColor(t,e),IsBoolean(this.m_controlledtooltip)&&(i=this.updateTooltipData(i));break}i=this.getDataProvider()[r]}}else this.hideToolTip();return i}},GroupColumnChart.prototype.getDrillColor=function(t,e){if(!IsBoolean(this.m_isEmptySeries)&&t>=this.getStartX()&&t<=this.getEndX()&&e<=this.getStartY()&&e>=this.getEndY())for(var i="stacked"==this.m_charttype?0:this.m_drillminstackheight,s=0;s<this.m_xPositionArray.length;s++)for(var a,r,o,h=0;h<=this.m_xPositionArray[s].length;h++)if(o=+this.m_barWidthArray[s][h]<0?(a=+this.m_barWidthArray[s][h]<-i?+this.m_barWidthArray[s][h]:-i,r=+this.m_yPositionArray[s][h],+this.m_yPositionArray[s][h]-a):(a=IsBoolean(this.m_basezero)&&+this.visibleSeriesInfo.seriesData[s][h]<0?0:+this.m_barWidthArray[s][h]>i?+this.m_barWidthArray[s][h]:i,r=+this.m_yPositionArray[s][h],+this.m_yPositionArray[s][h]+a),"clustered"==this.m_charttype){if(r<=e&&e<=o&&t>=+this.m_xPositionArray[s][h]&&t<=+this.m_xPositionArray[s][h]+ +this.m_barWidth/this.m_xPositionArray.length)return s}else if(r<=e&&e<=o&&t>=+this.m_xPositionArray[s][h]&&t<=+this.m_xPositionArray[s][h]+ +this.m_barWidth)return s},GroupColumnChart.prototype.drawTooltip=function(t,e){var i;IsBoolean(this.m_isEmptySeries)||this.m_designMode||(i=this.getToolTipData(t,e),this.m_hovercallback&&""!=this.m_hovercallback?this.drawCallBackContent(t,e,i):this.drawTooltipContent(i))},GroupColumnChart.prototype.drawTooltipContent=function(t){this.m_tooltip.draw(t,this.m_componenttype)},GroupColumnChart.prototype.getDrillDataPoints=function(t,e){if(!IsBoolean(this.m_isEmptySeries)&&IsBoolean(this.isVisibleSeries())&&t>=this.getStartX()&&t<=this.getEndX()&&e<=this.getStartY()&&e>=this.getEndY()){for(var i=!1,s="stacked"==this.m_charttype?0:this.m_drillminstackheight,a=0;a<this.m_xPositionArray.length;a++)for(var r,o,h,n=0;n<this.m_xPositionArray[a].length;n++)if(h=+this.m_barWidthArray[a][n]<0?(r=+this.m_barWidthArray[a][n]<-s?+this.m_barWidthArray[a][n]:-s,o=+this.m_yPositionArray[a][n]+r,+this.m_yPositionArray[a][n]):(r=IsBoolean(this.m_basezero)&&+this.visibleSeriesInfo.seriesData[a][n]<0?0:+this.m_barWidthArray[a][n]>s?+this.m_barWidthArray[a][n]:s,o=+this.m_yPositionArray[a][n],+this.m_yPositionArray[a][n]+r),o<=e&&e<=h&&t>=+this.m_xPositionArray[a][n]&&t<=+this.m_xPositionArray[a][n]+ +this.m_barWidth)return c=this.getFieldNameValueMap(n),g=this.getColorsForSeries()[a][n],u=this.visibleSeriesInfo.seriesName[a],_=this.visibleSeriesInfo.seriesDisplayName[a],p=c[u],c.drillField=u,c.drillDisplayField=_,c.drillValue=p,i=!0,c.drillIndex=n,{drillRecord:c,drillColor:g};if("stacked"==this.m_charttype&&!i)for(var l=0,m=this.xPositions.length;l<m;l++)if(e<=+this.xPositions[l]+ +this.m_barWidth&&e>=+this.xPositions[l])for(var c,g,u,_,p,y=0,d=this.m_xPositionArray.length;y<d;y++)if(t>=this.m_xPositionArray[y][l]&&t<=this.m_xPositionArray[y][l]+this.m_drillminstackheight||t<=this.m_xPositionArray[y][l]+this.m_barWidthArray[y][l]&&t>=this.m_xPositionArray[y][l]-this.m_drillminstackheight)return c=this.getFieldNameValueMap(l),g=this.m_drillColor,p=_=u="",c.drillField=u,c.drillDisplayField=_,c.drillValue=p,i=!0,c.drillIndex=n,{drillRecord:c,drillColor:g}}},GroupColumnCalculation.prototype.init=function(t,e,i,s){this.m_chart=t,this.m_chartData=s,this.yAxisData=i,this.xAxisData=e,this.m_chartType=this.m_chart.getChartType(),this.barGap=10,this.dataMap=this.m_chart.dataMap,this.startX=this.m_chart.getStartX(),this.startY=this.m_chart.getStartY(),this.endX=this.m_chart.getEndX(),this.endY=this.m_chart.getEndY(),this.calculateBarWidth(),this.setRatio(),this.setXPositionArray(),this.setstackHeightArray(),this.setYPositionArray()},GroupColumnCalculation.prototype.getStartX=function(){return+this.startX},GroupColumnCalculation.prototype.getMaxValue=function(){return this.m_chart.max},GroupColumnCalculation.prototype.getMinValue=function(){return this.m_chart.min},GroupColumnCalculation.prototype.getYAxisText=function(){return this.m_chart.m_yAxisText},GroupColumnCalculation.prototype.getXAxisMarkersArray=function(){return this.m_chart.m_yAxisMarkersArray},GroupColumnCalculation.prototype.calculateBarWidth=function(){var t=this.xAxisData.length;if(IsBoolean(this.m_chart.m_mergesubcategory)&&null!=this.m_chart.m_categoryNames[0]&&null!=this.m_chart.m_subCategoryNames[0]){var e,i=0;for(e in this.dataMap)this.dataMap.hasOwnProperty(e)&&i++;t=i}this.barGap;var s,a=+this.getDrawWidth();s="auto"==this.m_chart.m_controlbarwidth?(s=a/this.xAxisData.length)*this.m_chart.m_barwidth/100:this.m_chart.m_controlbarwidth<a/t?this.m_chart.m_controlbarwidth:(s=a/t)*this.m_chart.m_barwidth/100,this.setBarWidth(s),this.setColumnGap(s,t)},GroupColumnCalculation.prototype.setBarWidth=function(t){this.barWidth=t},GroupColumnCalculation.prototype.setColumnGap=function(t,e){t*=this.xAxisData.length,t=this.getDrawWidth()-t;this.barGap=t/+e},GroupColumnCalculation.prototype.drawBaseLine=function(){ctx.beginPath(),ctx.lineWidth="0.4",ctx.strokeStyle="#000",ctx.moveTo(this.getStartX(),this.startY),ctx.lineTo(this.getStartX(),this.endY),ctx.stroke(),ctx.closePath()},GroupColumnCalculation.prototype.setRatio=function(){var t=this.getMaxValue()-this.getMinValue();this.ratio=0<t?this.getDrawHeight()/t:1},GroupColumnCalculation.prototype.getDrawHeight=function(){return this.drawHeight=this.startY-this.endY,this.drawHeight},GroupColumnCalculation.prototype.getDrawWidth=function(){return this.drawWidth=+this.endX-+this.startX,this.drawWidth},GroupColumnCalculation.prototype.getBarGap=function(){return this.barGap},GroupColumnCalculation.prototype.getbarWidth=function(){return this.barWidth},GroupColumnCalculation.prototype.getRatio=function(){return this.ratio},GroupColumnCalculation.prototype.getXPositionArray=function(){return this.xPositionArray},GroupColumnCalculation.prototype.setXPositionArray=function(){var t=[],e=(this.getbarWidth()-this.getbarWidth()*this.m_chart.clusteredbarpadding)/2;if(IsBoolean(this.m_chart.m_mergesubcategory)&&null!=this.m_chart.m_categoryNames[0]&&null!=this.m_chart.m_subCategoryNames[0]){var i=[],s=0,a=0;for(Object.keys(this.dataMap)[a]in this.dataMap){if(a<Object.keys(this.dataMap).length){for(var r in this.dataMap[Object.keys(this.dataMap)[a]])s++;a++}i.push(s)}for(var o=0,h=+this.getBarGap()/2,n=this.startX,l=0;l<i.length;l++){n+=h;for(var m=o;m<i[l];m++){t[m]=[];for(var c=0,g=0;c<this.yAxisData.length;c++)"clustered"==this.m_chart.m_charttype?(t[m][c]=+n+ +this.getbarWidth()*m+this.getbarWidth()/this.yAxisData.length*g+e,g++):t[m][c]=+n+ +this.getbarWidth()*m+this.getbarWidth()/this.xAxisData.length*g+e}o=i[l],h=this.getBarGap()}this.xPositionArray=this.transformXPixelArray(t)}else for(m=0;m<this.yAxisData[0].length;m++){t[m]=[];for(c=0,l=0;c<this.yAxisData.length;c++)"clustered"==this.m_chart.m_charttype?(t[m][c]=+this.startX+this.getbarWidth()/this.yAxisData.length*l+this.getBarGap()/2+ +this.getBarGap()*m+ +this.getbarWidth()*m+e,l++):t[m][c]=+this.startX+ +this.getbarWidth()*m+this.getBarGap()/2+ +this.getBarGap()*m}this.xPositionArray=this.transformXPixelArray(t)},GroupColumnCalculation.prototype.transformXPixelArray=function(t){for(var e=[],i=0,s=this.yAxisData.length;i<s;i++){e[i]=[];for(var a=0,r=this.yAxisData[0].length;a<r;a++)e[i][a]=t[a][i]}return e},GroupColumnCalculation.prototype.getYPositionArray=function(){return this.yPositionArray},GroupColumnCalculation.prototype.setstackHeightArray=function(){var t=[];if("stacked"==this.m_chartType.toLowerCase()||"100%"==this.m_chartType.toLowerCase()||""==this.m_chartType.toLowerCase())this.arrangeStackHeight();else{this.getRatio(),this.getMinValue();for(var e=0,i=this.yAxisData.length;e<i;e++){t[e]=[];for(var s=0,a=this.yAxisData[e].length;s<a;s++)t[e][s]=this.getRatio()}this.stackHeightArray=t}},GroupColumnCalculation.prototype.setYPositionArray=function(){if(this.yPositionArray=[],"stacked"==this.m_chartType.toLowerCase()||"100%"==this.m_chartType||""==this.m_chartType)this.yPositionArray=this.setyPixelArrayForStackedOrHundredPercent();else{for(var t=0;t<this.yAxisData.length;t++){this.yPositionArray[t]=[],this.stackHeightArray[t]=[];for(var e=0;e<this.yAxisData[t].length;e++){var i=this.getRatio(),s=this.getMinValue(),a=this.getMaxValue();"clustered"==this.m_chart.m_charttype&&(a<0?(this.stackHeightArray[t][e]=(this.yAxisData[t][e]-a)*i,this.yPositionArray[t][e]=0<this.yAxisData[t][e]?+this.startY+(s-a)*i-this.stackHeightArray[t][e]:+this.startY+(s-a)*i):s<0?(this.stackHeightArray[t][e]=this.yAxisData[t][e]*i,this.yPositionArray[t][e]=0<this.yAxisData[t][e]?+this.startY+s*i-this.stackHeightArray[t][e]:+this.startY+s*i):(this.stackHeightArray[t][e]=(this.yAxisData[t][e]-s)*i,this.yPositionArray[t][e]=0<this.yAxisData[t][e]?+this.startY-this.stackHeightArray[t][e]:+this.startY)),this.stackHeightArray[t][e]=Math.abs(this.stackHeightArray[t][e])}}this.mangeStackHeightLimit()}},GroupColumnCalculation.prototype.mangeStackHeightLimit=function(){for(var t=0;t<this.yPositionArray.length;t++)for(var e=0;e<this.yPositionArray[t].length;e++){this.yPositionArray[t][e]>this.m_chart.getStartY()&&(this.yPositionArray[t][e]=this.m_chart.getStartY()),this.yPositionArray[t][e]<this.m_chart.getEndY()&&(this.stackHeightArray[t][e]=this.stackHeightArray[t][e]-(this.m_chart.getEndY()-this.yPositionArray[t][e]),this.yPositionArray[t][e]=this.m_chart.getEndY());var i=this.yPositionArray[t][e]-this.stackHeightArray[t][e];this.m_chart.getStartY()<this.stackHeightArray[t][e]&&(this.stackHeightArray[t][e]=this.m_chart.getStartY()),i>this.m_chart.getStartY()&&(this.stackHeightArray[t][e]=this.stackHeightArray[t][e]+(i-this.m_chart.getStartY()))}},GroupColumnCalculation.prototype.setyPixelArrayForStackedOrHundredPercent=function(){for(var t=[],e=[],i=[],s=this.getRatio(),a=+this.getMinValue(),r=+this.getMaxValue(),o="100%"===this.m_chartType?this.m_chart.getPercentageForHundred():this.yAxisData,h=getDuplicateArray(o),n=0,l=o.length;n<l;n++){t[n]=[],e[n]=[],i[n]=[];for(var m=0,c=o[n].length;m<c;m++)isNaN(o[n][m])&&(o[n][m]=""),0===n?0<=o[n][m]?(0<a&&0<r?r<+o[n][m]?t[n][m]=+this.startY-s*(r-a):t[n][m]=+this.startY-s*o[n][m]+s*a:r<+o[n][m]?t[n][m]=+this.startY-s*r+s*a:t[n][m]=+this.startY-s*o[n][m]+s*a,e[n][m]=t[n][m],i[n][m]=+this.startY+s*this.getMinValue()):(t[n][m]=0<a&&0<r||a<0&&r<0?+this.startY-s*(r-a):+this.startY+s*a,e[n][m]=t[n][m],i[n][m]=t[n][m]-s*o[n][m]):(h[n][m]=0<+h[n-1][m]?+h[n-1][m]+ +o[n][m]:+o[n][m],0<=o[n][m]?(r<+h[n][m]?t[n][m]=+e[n-1][m]-s*o[n][m]+s*(h[n][m]-r):t[n][m]=+e[n-1][m]-s*o[n][m],e[n][m]=t[n][m],i[n][m]=i[n-1][m]):(t[n][m]=i[n-1][m],i[n][m]=+this.startY+s*this.getMinValue()-s*o[n][m],e[n][m]=e[n-1][m]))}return t},GroupColumnCalculation.prototype.arrangeStackHeight=function(){for(var t=[],e=+this.getMinValue(),i=+this.getMaxValue(),s=this.getRatio(),a="100%"===this.m_chartType?this.m_chart.getPercentageForHundred():this.yAxisData,r=getDuplicateArray(a),o=[],h=0,n=a.length;h<n;h++){t[h]=[],o[h]=[];for(var l=0,m=a[h].length;l<m;l++)0===h?(o[h][l]=a[h][l]<0?a[h][l]:0,0<=a[h][l]?0<e&&0<i?i<+a[h][l]?t[h][l]=s*(i-e):t[h][l]=a[h][l]<e?0:s*a[h][l]-s*e:i<+a[h][l]?t[h][l]=s*a[h][l]-s*(+a[h][l]-i):t[h][l]=s*a[h][l]:i<0&&i>=+a[h][l]?t[h][l]=s*a[h][l]-s*i:e>+a[h][l]?t[h][l]=s*a[h][l]-s*(a[h][l]-e):t[h][l]=s*a[h][l]):(r[h][l]=0<+r[h-1][l]?+r[h-1][l]+ +a[h][l]:+a[h][l],o[h][l]=a[h][l]<0?o[h-1][l]+a[h][l]:0,0<=a[h][l]?0<e&&0<i?i<+r[h][l]?t[h][l]=r[h][l]-i<+a[h][l]?s*a[h][l]-s*(r[h][l]-i):0:t[h][l]=+r[h][l]-e<0?0:s*(+r[h][l]-e):i<+r[h][l]?t[h][l]=r[h][l]-i<+a[h][l]?s*a[h][l]-s*(r[h][l]-i):0:t[h][l]=s*a[h][l]:i<0&&i>=+a[h][l]&&e<=+o[h][l]?t[h][l]=s*a[h][l]-s*i:e>+a[h][l]&&e<=+o[h][l]?t[h][l]=s*a[h][l]-s*(e-a[h][l]):e<=+o[h][l]?t[h][l]=s*Math.abs(a[h][l]):t[h][l]=0),t[h][l]=Math.abs(t[h][l])}this.stackHeightArray=t},GroupColumnCalculation.prototype.getXPositionforToolTip=function(){for(var t=[],e=this.getXPositionArray(),i=0;i<e[0].length;i++)t.push(e[0][i]);return t},GroupColumnCalculation.prototype.getstackHeightArray=function(){return this.stackHeightArray},GroupColumnCalculation.prototype.getYAxisText=function(){return this.yAxisData},GroupColumnCalculation.prototype.getYAxisMarkersArray=function(){return this.yAxisData},GroupColumnSeries.prototype.init=function(t,e,i,s,a,r,o,h,n,l,m,c){this.m_chart=c,this.ctx=this.m_chart.ctx,this.m_chartbase=this.m_chart.m_chartbase,this.xPixel=t,this.yPixelArray=e,this.stackWidth=i,this.stackHeightArray=s,this.stackPercentArray=a,this.stackColorArray=r,this.strokecolor=o,this.m_stackMarkingOnTopOfBarFlag=h,this.m_stackShowPercentValueFlag=n,this.m_stackSeriesInitializeFlag=l,this.m_plotTrasparency=m;for(var g=0;g<this.xPixel.length;g++)this.barStackArray[g]=new GroupColumnStack,this.barStackArray[g].init(this.xPixel[g],this.yPixelArray[g],this.stackWidth,this.stackHeightArray[g],this.stackPercentArray[g],this.stackColorArray[g],this.strokecolor,this.ctx,c,this.m_chartbase,this.m_stackMarkingOnTopOfBarFlag,this.m_stackShowPercentValueFlag,this.m_stackSeriesInitializeFlag,this.m_plotTrasparency)},GroupColumnSeries.prototype.drawBarSeries=function(t){for(var e=0;e<this.xPixel.length;e++)this.barStackArray[e].drawBarStack(t,e)},GroupColumnStack.prototype.init=function(t,e,i,s,a,r,o,h,n,l,m,c,g,u){this.ctx=h,this.m_chart=n,this.m_chartbase=l,this.stackXPixel=t,this.stackYPixel=e,this.stackWidth=i,this.stackHeight=s,this.stackPercentValue=a,this.strokeColor=o||"#cccccc",this.stackColor=convertColorToHex(r),this.m_showPercentageFlag=m,this.m_stackShowPercentValueFlag=c,this.m_stackSeriesInitializeFlag=g,this.m_stackPlotTrasparency=u},GroupColumnStack.prototype.drawBarStack=function(t,o){var h=this,e=h.m_chart.svgContainerId;this.ctx.beginPath(),this.ctx.save(),this.ctx.strokeStyle=this.strokeColor,this.ctx.lineWidth=.5;switch(this.m_chartbase){case"rectangle":this.stackHeight<0&&(this.stackXPixel=this.stackXPixel+this.stackHeight,this.stackHeight=Math.abs(this.stackHeight)),this.makeCuboid(this.stackXPixel,this.stackYPixel,this.stackWidth,this.stackHeight,this.stackColor),this.ctx.fillStyle=hex2rgb(this.stackColor,this.m_stackPlotTrasparency),(i=drawSVGRect(this.stackXPixel,this.stackYPixel,this.stackHeight,this.stackWidth,hex2rgb(this.stackColor,this.m_stackPlotTrasparency))).setAttribute("style","stroke-width:0.5px; stroke:"+this.strokeColor+";"),$("#stackgrp"+t+h.m_chart.m_objectid).append(i);break;case"chevron":0!==this.stackHeight&&this.makeChevron(this.stackXPixel,this.stackYPixel,this.stackHeight,this.stackWidth,hex2rgb(this.stackColor,this.m_stackPlotTrasparency),this.strokeColor,t);break;case"gradient1":case"gradient2":case"gradient3":this.stackHeight<0&&(this.stackXPixel=this.stackXPixel+this.stackHeight);n=this.stackHeight,l=(this.stackHeight=0<n?this.stackHeight-(this.stackHeight>2*this.m_chart.m_stackborderwidth?+this.m_chart.m_stackborderwidth:0):Math.abs(this.stackHeight)>2*this.m_chart.m_stackborderwidth?this.stackHeight+ +this.m_chart.m_stackborderwidth:this.stackHeight,this.stackXPixel=Math.abs(n)>2*this.m_chart.m_stackborderwidth?this.stackXPixel+.5*this.m_chart.m_stackborderwidth:this.stackXPixel,this.stackWidth);this.stackWidth=this.stackWidth-(this.stackWidth>2*this.m_chart.m_stackborderwidth?+this.m_chart.m_stackborderwidth:0),"path"===h.m_chart.m_stacksvgtype?this.drawSVGPathBar(this,e,"url(#gradient"+h.m_chart.m_objectid+t+o+")",n,l):((i=drawSVGRect(this.stackXPixel,this.stackYPixel,Math.abs(this.stackHeight),this.stackWidth,"")).setAttribute("fill","url(#gradient"+h.m_chart.m_objectid+t+o+")"),Math.abs(n)>2*this.m_chart.m_stackborderwidth&&Math.abs(l)>2*this.m_chart.m_stackborderwidth&&(i.setAttribute("style","stroke-width:"+this.m_chart.m_stackborderwidth+"px; stroke:"+this.m_chart.m_stackbordercolor+"; stroke-opacity : 1;"),IsBoolean(this.m_chart.m_enablestackshadow))&&!IsBoolean(this.m_chart.isPropertyBrowserCompatible())&&2<this.stackWidth&&2<Math.abs(this.stackHeight)&&($(i).attr("filter","url(#stackShadow"+h.m_chart.m_objectid+")"),i.setAttribute("shape-rendering","crispEdges")),$(i).attr("rx",this.m_chart.m_stackborderradius),$(i).attr("ry",this.m_chart.m_stackborderradius),s=!!document.documentMode,IsBoolean(this.m_chart.m_enableanimation)&&0<this.m_chart.m_baranimationduration&&!s&&(a=drawSVGStackAnimation(0,"width",Math.abs(this.stackHeight),this.m_chart.m_baranimationduration),r=drawSVGStackAnimation(Math.abs(this.stackHeight)+this.stackXPixel,"x",this.stackXPixel,this.m_chart.m_baranimationduration),$(i).append(a),this.stackHeight<0)&&$(i).append(r),$(i).attr("class","timeSeries-stackHighlighter"),$("#stackgrp"+t+h.m_chart.m_objectid).append(i));break;default:var i,s,a,r,n=this.stackHeight,l=(this.stackHeight=0<n?this.stackHeight-(this.stackHeight>2*this.m_chart.m_stackborderwidth?+this.m_chart.m_stackborderwidth:0):Math.abs(this.stackHeight)>2*this.m_chart.m_stackborderwidth?this.stackHeight+ +this.m_chart.m_stackborderwidth:this.stackHeight,this.stackXPixel=Math.abs(n)>2*this.m_chart.m_stackborderwidth?this.stackXPixel+.5*this.m_chart.m_stackborderwidth:this.stackXPixel,this.stackWidth);this.stackWidth=this.stackWidth-(this.stackWidth>2*this.m_chart.m_stackborderwidth?+this.m_chart.m_stackborderwidth:0),"path"===h.m_chart.m_stacksvgtype?this.drawSVGPathBar(this,e,hex2rgb(this.stackColor,this.m_stackPlotTrasparency),n,l):(i=drawSVGRect(this.stackXPixel,this.stackYPixel,this.stackWidth,Math.abs(this.stackHeight),hex2rgb(this.stackColor,this.m_stackPlotTrasparency)),Math.abs(n)>2*this.m_chart.m_stackborderwidth&&Math.abs(l)>2*this.m_chart.m_stackborderwidth&&(i.setAttribute("style","stroke-width:"+this.m_chart.m_stackborderwidth+"px; stroke:"+this.m_chart.m_stackbordercolor+"; stroke-opacity : 1;"),IsBoolean(this.m_chart.m_enablestackshadow))&&!IsBoolean(this.m_chart.isPropertyBrowserCompatible())&&2<this.stackWidth&&2<Math.abs(this.stackHeight)&&($(i).attr("filter","url(#stackShadow"+h.m_chart.m_objectid+")"),i.setAttribute("shape-rendering","crispEdges")),$(i).attr("rx",this.m_chart.m_stackborderradius),$(i).attr("ry",this.m_chart.m_stackborderradius),s=!!document.documentMode,IsBoolean(this.m_chart.m_enableanimation)&&0<this.m_chart.m_baranimationduration&&!s&&(a=drawSVGStackAnimation(0,"height",Math.abs(this.stackHeight),this.m_chart.m_baranimationduration),r=drawSVGStackAnimation(Math.abs(this.stackHeight)+this.stackYPixel,"y",this.stackYPixel,this.m_chart.m_baranimationduration),$(i).append(a),this.stackHeight<0)&&$(i).append(r),$(i).attr("class","timeSeries-stackHighlighter"),$("#stackgrp"+t+h.m_chart.m_objectid).append(i),$(i).attr("id","stackgrp"+h.m_chart.m_objectid+t+o),i.addEventListener("click",function(t){this.id;for(var e=o,i=0;i<h.m_chart.m_seriesData.length;i++)for(var s,a=h.m_chart.m_allSeriesNames[i],r=0;r<h.m_chart.m_categoryData[0].length;r++)IsBoolean(h.m_chart.enableDrillHighlighter)&&(void 0!==h.m_chart.m_barSeriesArray[a]&&(s="stackgrp"+h.m_chart.m_objectid+i+r),e==r?$("#"+s).css("opacity","1"):$("#"+s).css("opacity","0.5"))}))}IsBoolean(this.m_stackSeriesInitializeFlag)&&this.drawText(),this.ctx.restore(),this.ctx.closePath()},GroupColumnStack.prototype.drawSVGPathBar=function(t,e,i,s,a){var r,o=" ",h=Math.abs(s)>+t.m_chart.m_stackborderradius?+t.m_chart.m_stackborderradius:0,n="";""!=(n=0<+t.stackHeight?"M "+t.stackXPixel+o+t.stackYPixel+o+"h"+o+(t.stackHeight-h)+o+"a"+o+h+o+h+o+0+o+0+o+1+o+h+o+h+o+"v"+o+(t.stackWidth-2*h)+o+"a"+o+h+o+h+o+0+o+0+o+1+o+-h+o+h+o+"h"+o+(h-t.stackHeight)+o+"z":"M "+Math.abs(t.stackXPixel+Math.abs(t.stackHeight))+o+t.stackYPixel+o+"h"+o+(t.stackHeight+h)+o+"a"+o+h+o+h+o+0+o+0+o+0+o+-h+o+h+o+"v"+o+(t.stackWidth-2*h)+o+"a"+o+h+o+h+o+0+o+0+o+0+o+h+o+h+o+"h"+o+(Math.abs(t.stackHeight)-h)+o+"v"+o+-t.stackWidth+o)&&0<Math.abs(t.stackHeight)&&(h=document.createElementNS("http://www.w3.org/2000/svg","g"),o=document.createElementNS("http://www.w3.org/2000/svg","g"),(r=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",n),n=!!document.documentMode,IsBoolean(t.m_chart.m_enableanimation)&&0<t.m_chart.m_baranimationduration&&!n&&(r.setAttribute("class","barchart-rounded-bar"),n=0<+t.stackHeight?t.stackXPixel:t.stackXPixel+Math.abs(t.stackHeight),r.setAttribute("style","animation: barchart-rounded-bar "+t.m_chart.m_baranimationduration+"s linear forwards; transform-origin: "+n+"px center;")),Math.abs(s)>2*t.m_chart.m_stackborderwidth&&Math.abs(a)>+t.m_chart.m_stackborderradius?h.setAttribute("style","stroke:"+t.m_chart.m_stackbordercolor+"; stroke-width:"+t.m_chart.m_stackborderwidth+";fill:"+i+";"):h.setAttribute("style","stroke:"+t.m_chart.m_stackbordercolor+"; stroke-width:0;fill:"+i+";"),$(o).attr("class","timeSeries-stackHighlighter"),$(o).append(r),$(h).append(o),$("#"+e).append(h))},GroupColumnStack.prototype.drawText=function(){var t=IsBoolean(this.m_stackShowPercentValueFlag)?parseInt(this.stackPercentValue)+"%":parseInt(this.stackPercentValue);IsBoolean(this.m_showPercentageFlag)&&(this.ctx.fillStyle="black",this.ctx.fillText(t,+this.stackXPixel+ +this.stackHeight+15,+this.stackYPixel+this.stackWidth/2*1+1))},GroupColumnStack.prototype.createGradient=function(){var t=this.ctx.createLinearGradient(this.stackXPixel,this.stackYPixel,this.stackXPixel,+this.stackYPixel+ +this.stackWidth),e=hex2rgb(this.stackColor,.6),i=hex2rgb(this.stackColor,.7);return t.addColorStop(0,this.stackColor),t.addColorStop(.3,e),t.addColorStop(.7,i),t.addColorStop(1,this.stackColor),t},GroupColumnChart.prototype.createGradient1=function(t,e,i){this.svgContainerId;for(var s=document.createElementNS(NS,"linearGradient"),e=(s.setAttribute("x1","0%"),s.setAttribute("x2","0%"),s.setAttribute("y1","0%"),s.setAttribute("y2","100%"),s.setAttribute("id","gradient"+this.m_objectid+e+i),$("#"+this.svgContainerId).append(s),hex2rgb(t,this.m_stackPlotTrasparency)),a=[e,ColorLuminance(t,.2),e],r=100/(a.length-1!=0?a.length-1:1),i=0,o=a.length;i<=o-1;i++){var h=document.createElementNS(NS,"stop");h.setAttribute("offset",i*r+"%"),h.setAttribute("stop-color",a[i]),h.setAttribute("stop-opacity",1),$(s).append(h)}},GroupColumnChart.prototype.createGradient2=function(t,e,i){this.svgContainerId;for(var s=document.createElementNS(NS,"linearGradient"),e=(s.setAttribute("x1","0%"),s.setAttribute("x2","0%"),s.setAttribute("y1","0%"),s.setAttribute("y2","100%"),s.setAttribute("id","gradient"+this.m_objectid+e+i),$("#"+this.svgContainerId).append(s),hex2rgb(t,this.m_stackPlotTrasparency)),a=[e,e,ColorLuminance(t,-.15),e,e],r=100/(a.length-1!=0?a.length-1:1),i=0,o=a.length;i<=o-1;i++){var h=document.createElementNS(NS,"stop");h.setAttribute("offset",i*r+"%"),h.setAttribute("stop-color",a[i]),h.setAttribute("stop-opacity",1),$(s).append(h)}},GroupColumnChart.prototype.createGradient3=function(t,e,i){this.svgContainerId;var s=document.createElementNS(NS,"linearGradient");s.setAttribute("x1","0%"),s.setAttribute("x2","0%"),s.setAttribute("y1","0%"),s.setAttribute("y2","100%"),s.setAttribute("id","gradient"+this.m_objectid+e+i),$("#"+this.svgContainerId).append(s);for(var a=[t,t,hex2rgb(t,.35),t,t],r=100/(a.length-1!=0?a.length-1:1),i=0,o=a.length;i<=o-1;i++){var h=document.createElementNS(NS,"stop");h.setAttribute("offset",i*r+"%"),h.setAttribute("stop-color",a[i]),h.setAttribute("stop-opacity",1),$(s).append(h)}},GroupColumnStack.prototype.createGradient3=function(t,e,i,s,a){t=this.ctx.createLinearGradient(t,e,t,+e+ +i),e=hex2rgb(a,this.m_stackPlotTrasparency);return t.addColorStop(.1,e),t.addColorStop(.15,e),t.addColorStop(.5,ColorLuminance(a,.3)),t.addColorStop(.85,e),t.addColorStop(1,e),t},GroupColumnStack.prototype.makeCylinder=function(t,e,i,s,a){var r=hex2rgb(a,.6);this.ctx.beginPath(),this.ctx.strokeStyle="#fff",this.ctx.fillStyle=r,this.ctx.moveTo(t+s,e),this.ctx.bezierCurveTo(+t+ +s+i/3,+e+3,+t+ +s+2*i/3,+e+6,+t+ +s,+e+ +i),this.ctx.stroke(),this.ctx.strokeStyle=a,this.ctx.moveTo(t,e),this.ctx.bezierCurveTo(+t+ +s-i/3,+e+3,+t+ +s-2*i/3,+e+6,+t+ +s,+e+ +i),this.ctx.fill(),this.ctx.stroke(),this.ctx.closePath()},GroupColumnStack.prototype.makeCuboid=function(t,e,i,s,a){var r=this.m_chart.svgContainerId,o=i/4,a=hex2rgb(a,this.m_stackPlotTrasparency),o=["M",t,e,"L",t+o,e-5,"L",t+o+s,e-5,"L",t+o+s,e-5+i,"L",t+s,e+i,"L",t+s,e,"L",t,e].join(" "),i=drawSVGPath();i.setAttribute("d",o),i.setAttribute("style","stroke-width:0.5px; stroke:#cccccc; fill:"+a+";"),$("#"+r).append(i)},GroupColumnStack.prototype.makeChevron=function(t,e,i,s,a,r,o){this.m_chart.svgContainerId;i=["M",t,e,"L",+t+ +(i=+i<s/2?s/2:i)-s/2,e,"L",+t+ +i,+e+s/2,"L",+t+ +i-s/2,+e+ +s,"L",t,+e+ +s,"L",+t+s/2,+e+s/2,"L",t,e].join(" "),s=drawSVGPath();s.setAttribute("d",i),s.setAttribute("style","stroke-width:0.5px; stroke:"+r+"; fill:"+a+";"),$("#stackgrp"+o+this.m_chart.m_objectid).append(s)},GroupColumnXAxis.prototype=new Xaxis,GroupColumnXAxis.prototype.init=function(t){this.m_chart=t,this.ctx=this.m_chart.ctx,this.m_startX=this.m_chart.getStartX(),this.m_startY=this.m_chart.getStartY(),this.m_endX=this.m_chart.getEndX(),this.m_endY=this.m_chart.getEndY(),this.m_labeltilted=!0,this.m_categorymarkingcolor="#cccccc",this.m_axislinetotextgap=5,this.m_labeltextalign="left",this.m_mapData=this.m_chart.m_calculation.m_chartData,this.m_xAxisData=this.m_chart.m_calculation.xAxisData,this.m_xPositionData=this.m_chart.m_calculation.getXPositionArray()},GroupColumnXAxis.prototype.markXaxis=function(){IsBoolean(this.m_chart.m_mergesubcategory)||this.drawAxisLabels(),this.drawDescription()},GroupColumnXAxis.prototype.drawXAxis=function(){var t,e,i,s,a;IsBoolean(this.m_showlinexaxis)&&(t=this.m_linexaxiscolor,a=+this.m_startX-1-this.m_chart.m_axistodrawingareamargin,e=+this.m_startY+1+this.m_chart.m_axistodrawingareamargin,i=+this.m_endX,s=+this.m_startY+1+this.m_chart.m_axistodrawingareamargin,a=drawSVGLine(a,e,i,s,.5,t),$("#"+this.m_chart.svgContainerId).append(a))},GroupColumnXAxis.prototype.drawSubCategory=function(){for(var t=0;t<this.m_xAxisData.length;t++)this.ctx.beginPath(),this.ctx.save(),this.drawLabel(this.m_xAxisData[t][0],t),this.ctx.restore(),this.ctx.closePath()},GroupColumnXAxis.prototype.drawCategory=function(){var t,e=this.m_chart.getCatTextMargin(),i=0,s=("left"==this.m_chart.m_subcategoryorientation&&(i=this.m_chart.getSubCatTextMargin()),this.m_chart.calculateCategoryBoxSize());for(t in s){var a=Object.keys(this.m_chart.dataMap[t]).length,a=(a=IsBoolean(this.m_chart.m_mergesubcategory)?a*this.m_chart.m_barWidth+this.m_chart.m_barGap:a*(this.m_chart.m_barWidth+this.m_chart.m_barGap),s[t]+a/2),r=this.m_chart.getStartY()+e/2+ +i+10,o=this.getText(""+t,this.m_chart.m_height/5,this.getLabelFontProperties()),h=this.calculateLabelBoxSize(t),n=Math.abs(this.getLabelrotation()*(Math.PI/180)),n=Math.abs(this.m_chart.m_height/5)*Math.sin(n),n=Math.max(this.getLabelFontSize(),n),l=a;n=IsBoolean(this.m_xaxiscategorytextwrap)?(1<this.getTexts(""+t,n,this.getLabelFontProperties()).length&&(l=this.getLabelrotation()<0?a-30:a+30),this.drawSVGTextForCategory(a,r,t,this.m_labelfontcolor,"center","middle",this.getLabelrotation(),n,h,this.getLabelFontProperties(),this.getLabelFontSize(),l)):drawSVGText(a,r,o,this.m_labelfontcolor,"center","start",this.getLabelrotation()),$("#xaxiscategorylabelgrp"+this.m_chart.m_objectid).append(n)}},GroupColumnXAxis.prototype.calculateLabelBoxSize=function(t){var e=this.m_chart.calculateCategoryBoxSize(),i=e[t],s=Object.keys(e).indexOf(t);return e=0<s?e[Object.keys(e)[s-1]]:this.m_chart.getEndX(),this.calculateLabelLength(t,e-i)},GroupColumnXAxis.prototype.calculateLabelLength=function(t,e){t=this.ctx.measureText(t).actualBoundingBoxAscent+this.ctx.measureText(t).actualBoundingBoxDescent;return(e/(t*=1.3)).toFixed(0)},GroupColumnXAxis.prototype.drawSVGTextForCategory=function(t,e,i,s,a,r,o,h,n,l,m,c){var g=document.createElementNS(NS,"text"),i=this.getTexts(""+i,h,l),u=i.slice(0,3),_=(i.length,u=(u=i.slice(0,n)).slice(0,3),i.length>u.length?"...":"");if(1==u.length)isNaN(t)||isNaN(e)||(g.setAttribute("x",c),g.setAttribute("y",e),g.setAttribute("fill",s),""!==o&&void 0!==o&&0!==o&&g.setAttribute("transform","rotate("+o+" "+t+","+e+")"),g.textContent=u[0]+_,g.setAttribute("text-anchor",getSVGAlignment(a)),g.setAttribute("alignment-baseline",r));else if(!isNaN(t)&&!isNaN(e)){g.setAttribute("y",e),g.setAttribute("fill",s),""!==o&&void 0!==o&&0!==o&&g.setAttribute("transform","rotate("+o+" "+t+","+e+")"),g.setAttribute("text-anchor",getSVGAlignment(a)),g.setAttribute("alignment-baseline",r);for(var p=0;p<u.length;p++){var y=document.createElementNS(NS,"tspan");0==p?y.setAttribute("x",t):(y.setAttribute("x",t),y.setAttribute("dy",+this.m_chart.fontScaling(m))),y.textContent=u[p],y.textContent+=p==u.length-1?_:"",g.appendChild(y)}}return g},GroupColumnXAxis.prototype.getTexts=function(t,e,i){var s=""+t,a=[],r="";this.ctx.font=i;for(var o=0;o<s.length;o++)var h=r+s[o],r=e<this.ctx.measureText(h).width&&r?(a.push(r),s[o]):h;return r&&a.push(r),a},GroupColumnXAxis.prototype.drawLabel=function(t,e){"left"==this.m_chart.m_subcategoryorientation&&(i=this.m_chart.getSubCatTextMargin(),s=this.m_chart.getCatTextMargin());var i,s,a,e=+this.m_chart.m_xPositionArray[0][e]+this.m_chart.m_barWidth/2,r="right"==this.m_chart.m_subcategoryorientation&&"rectangle"==this.m_chart.m_chartbase?12:"right"==this.m_chart.m_subcategoryorientation?5:0;IsBoolean(this.m_xaxiscategorytextwrap)||(a=this.m_chart.isEmptySubCategory?this.getLabelFontProperties():this.getSubCatLabelFontProperties(),t=this.getText(""+t,this.m_chart.m_height/5-this.calculateAxisLineToTextGap(),a)),t="right"==this.m_chart.m_subcategoryorientation?drawSVGText(+this.m_chart.getEndX()+r,this.m_startY,t,this.m_labelfontcolor,"left","middle",this.getLabelrotation()):(a=Math.abs(this.getLabelrotation()*(Math.PI/180)),r=Math.abs(this.getXaxisDivison())/1.2,r=this.calculateLabelLength(t,r),a=Math.abs(this.m_chart.m_height/5)*Math.sin(a),a=Math.max(+this.m_subcategoryfontsize,a),this.m_chart.isEmptySubCategory?IsBoolean(this.m_xaxiscategorytextwrap)?this.drawSVGTextForCategory(e,this.m_startY+2*this.m_axislinetotextgap+s/2,t,this.m_labelfontcolor,"center","start",this.getLabelrotation(),a,r,this.getSubCatLabelFontProperties(),this.m_subcategoryfontsize,e):drawSVGText(e,this.m_startY+2*this.m_axislinetotextgap+s/2,t,this.m_labelfontcolor,"center","start",this.getLabelrotation()):IsBoolean(this.m_xaxissubcategorytextwrap)?this.drawSVGTextForCategory(e,this.m_startY+2*this.m_axislinetotextgap+i/2,t,this.m_labelfontcolor,"center","start",this.getLabelrotation(),a,r,this.getSubCatLabelFontProperties(),this.m_subcategoryfontsize,e):drawSVGText(e,this.m_startY+2*this.m_axislinetotextgap+i/2,t,this.m_labelfontcolor,"center","start",this.getLabelrotation())),(IsBoolean(this.m_chart.isEmptySubCategory)?$("#xaxiscategorylabelgrp"+this.m_chart.m_objectid):$("#xaxissubcategorylabelgrp"+this.m_chart.m_objectid)).append(t)},GroupColumnXAxis.prototype.getSubCatLabelFontProperties=function(){return this.m_textUtil.getFontProperties(this.getLabelFontStyle(),this.getLabelFontWeight(),this.m_chart.fontScaling(this.m_subcategoryfontsize),this.getLabelFontFamily())},GroupColumnXAxis.prototype.drawDescription=function(){var t=this,e=this.m_chart.m_allCategoryDisplayNames.join(""),e=IsBoolean(this.m_chart.m_xAxis.m_showdatasetdescription)?this.m_chart.formattedDescription(this.m_chart,e):this.m_chart.formattedDescription(this.m_chart,this.m_description);""!=e&&(e=drawSVGText(this.getXDesc(),this.getYDesc(),this.m_chart.formattedDescription(this.m_chart,e),convertColorToHex(this.m_fontcolor),"middle","middle"),$(e).css({"font-family":selectGlobalFont(t.getFontFamily()),"font-style":t.getFontStyle(),"font-size":t.m_chart.fontScaling(t.getFontSize())+"px","font-weight":t.getFontWeight(),"text-decoration":t.getTextDecoration()}),$("#"+t.m_chart.svgContainerId).append(e))},GroupColumnXAxis.prototype.getXaxisDivison=function(){return(this.m_endX-this.m_startX)/this.m_xAxisData.length},GroupColumnXAxis.prototype.drawAxisLabels=function(){for(var t=0;t<this.m_xAxisData.length+1;t++){var e=parseInt(+this.m_startX+this.getXaxisDivison()*t),i=parseInt(this.m_startY),s=parseInt(this.m_startX+this.getXaxisDivison()*t),a=parseInt(this.m_startY+8),e=drawSVGLine(e,i,s,a,"0.9",this.m_categorymarkingcolor);$("#xaxislabelgrp"+this.m_chart.m_objectid).append(e)}},GroupColumnYAxis.prototype=new Yaxis,GroupColumnYAxis.prototype.init=function(t,e){this.m_chart=t,this.ctx=this.m_chart.ctx,this.m_startX=this.m_chart.getStartX(),this.m_startY=this.m_chart.getStartY(),this.m_endX=this.m_chart.getEndX(),this.m_endY=this.m_chart.getEndY(),this.m_axisformater=!0,this.setAxisFormatters()},GroupColumnYAxis.prototype.setAxisFormatters=function(){this.m_isFormatter=!1,this.m_isSecondaryFormatter=!1,IsBoolean(this.m_chart.getFixedLabel())||IsBoolean(this.getaxisFormater())&&(this.setFormatter(),this.setSecondaryFormatter())},GroupColumnYAxis.prototype.setSecondaryFormatter=function(){var t,e;this.m_secondaryUnitSymbol="",this.m_secondaryFormatterPosition="",this.m_isSecondaryFormatter=!1,"none"!=this.m_chart.m_secondaryformater&&""!=this.m_chart.m_secondaryformater&&(t=this.m_chart.getSecondaryFormater(),""!=(e=this.m_chart.getSecondaryUnit())&&"none"!=e&&null!=e&&(this.m_isSecondaryFormatter=!0,this.m_secondaryUnitSymbol=this.m_util.getFormatterSymbol(t,e)),this.m_secondaryFormatterPosition="suffix")},GroupColumnYAxis.prototype.setFormatter=function(){var t,e;this.m_unitSymbol="",this.m_formatterPosition="",this.m_isFormatter=!1,"none"!=this.m_chart.m_formater&&""!=this.m_chart.m_formater&&(t=this.m_chart.getFormater(),"none"!=(e=this.m_chart.getUnit()))&&""!=e&&(this.m_isFormatter=!0,this.m_unitSymbol=this.m_util.getFormatterSymbol(t,e),this.m_formatterPosition=this.m_chart.getSignPosition(),""==this.m_formatterPosition)&&(this.m_formatterPosition="suffix")},GroupColumnYAxis.prototype.getaxisFormater=function(){return this.m_axisformater},GroupColumnYAxis.prototype.horizontalMarkerLines=function(){for(var t,e=this.m_chart.m_yAxisMarkersArray,i=0;i<e.length;i++)1<e.length&&(t=drawSVGLine(this.m_startX,this.m_startY-i*this.getYAxisDiv(e),this.m_endX,this.m_startY-i*this.getYAxisDiv(e),"1",hex2rgb(this.m_chart.m_markercolor,this.m_chart.m_markertransparency)),$("#horizontallinegrp"+this.m_chart.m_objectid).append(t))},GroupColumnYAxis.prototype.getYAxisDiv=function(t){return(this.m_startY-this.m_endY)/(t.length-1)},GroupColumnYAxis.prototype.zeroMarkerLine=function(){for(var t=this.m_chart.m_yAxisMarkersArray,e=0;e<t.length;e++)if(0<t.length&&0==t[e]){var i=drawSVGLine(+this.m_startX,+this.m_startY-this.getYAxisDiv(t)*e,+this.m_endX,+this.m_startY-this.getYAxisDiv(t)*e,"1",hex2rgb(this.m_chart.m_zeromarkercolor,this.m_chart.m_markertransparency));$("#"+this.m_chart.svgContainerId).append(i);break}},GroupColumnYAxis.prototype.drawYAxis=function(){var t,e,i,s,a;IsBoolean(this.m_showlineyaxis)&&(t=this.m_lineyaxiscolor,a=+this.m_startX-this.m_chart.m_axistodrawingareamargin-1,e=+this.m_startY+1+this.m_chart.m_axistodrawingareamargin,i=+this.m_startX-this.m_chart.m_axistodrawingareamargin-1,s=+this.m_endY,a=drawSVGLine(a,e,i,s,.5,t),$("#"+this.m_chart.svgContainerId).append(a))},GroupColumnYAxis.prototype.markYaxis=function(){for(var t=this.m_chart.m_yAxisMarkersArray,e=""!==this.getDescription()?this.m_fontsize:5,i=this.m_chart.m_height/4-this.m_axislinetotextgap-e,s=0;s<t.length;s++){var a=t[s],a=this.getFormattedText(a,this.m_chart.m_precision),r=(a=this.getText(""+a,i,this.getLabelFontProperties()),this.m_startX-10),o=this.m_startY-s*this.getYAxisDiv(t);a=drawSVGText(r,o,a,this.m_labelfontcolor,"end","middle",this.getLabelrotation()),$("#yaxislabelgrp"+this.m_chart.m_objectid).append(a)}this.drawDescription()},GroupColumnYAxis.prototype.getFormattedText=function(t,e){var i,s,e="undefined"==e||null==e?this.m_chart.m_precision:e;return t%1!=0&&e<1?t=this.setPrecision(t,0):IsBoolean(this.m_isFormatter)||IsBoolean(this.m_isSecondaryFormatter)||"default"!==e&&(t=this.setPrecision(t,e)),"none"!=this.m_chart.m_formater&&""!=this.m_chart.m_formater||"none"!=this.m_chart.m_secondaryformater&&""!=this.m_chart.m_secondaryformater||(t=this.setPrecision(t,e)),IsBoolean(this.m_isFormatter)&&(t=this.m_util.updateTextWithFormatter(t,this.m_unitSymbol,e)),IsBoolean(this.m_isSecondaryFormatter)&&"Number"==this.m_chart.m_secondaryformater&&(t=this.m_util.updateTextWithFormatter(t,this.m_secondaryUnitSymbol,e)),IsBoolean(this.m_isSecondaryFormatter)&&(t="auto"!=this.m_secondaryUnitSymbol?(0!=e&&null!=e?t=this.setPrecision(t,e):t<1&&t%1!=0&&(t=this.setPrecision(t,2)),t=t%1==0&&"default"===this.m_precision?+t:t,this.addSecondaryFormater(t,this.m_secondaryUnitSymbol)):(i=getNumberFormattedSymbol(+t,this.m_chart.m_unit),s=getNumberFormattedNumericValue(+t,e,this.m_chart.m_unit),t=this.setPrecision(s,e),0!=e&&null!=e?t=this.setPrecision(t,e):t<1&&t%1!=0&&(t=this.setPrecision(t,2)),t=t%1==0&&"default"===this.m_precision?+t:t,this.addSecondaryFormater(t,i))),t=getFormattedNumberWithCommas(t,this.m_chart.m_numberformatter,this.m_chart.m_unit),t=IsBoolean(this.m_isFormatter)&&null!=this.m_unitSymbol?this.m_util.addFormatter(t,this.m_unitSymbol,this.m_formatterPosition,e):t},GroupColumnYAxis.prototype.drawDescription=function(){var t,e,i=this,s=convertColorToHex(this.getFontColor()),a=+i.m_chart.fontScaling(i.getFontSize()),r=this.m_chart.m_allSeriesDisplayNames.reduce(function(t,e){return""!==e?""===t?e:t+", "+e:t},""),r=IsBoolean(this.m_chart.m_yAxis.m_showdatasetdescription)?this.m_chart.formattedDescription(this.m_chart,r):this.m_chart.formattedDescription(this.m_chart,this.getDescription());""!=r&&(t=IsBoolean(this.m_chart.m_enablehtmlformate.xaxis)?"<br>":"\\n",3<(r=r.split(t)).length&&r.splice(3,r.length-3),t=this.getXDesc(),e=this.getYDesc()+50,s=drawSVGText(t,e,"",s,"middle","end",270),wrapSVGText(i,t,e,r,s,a,+this.m_startY-+this.m_endY+100),$(s).css({"font-family":selectGlobalFont(i.getFontFamily()),"font-style":i.getFontStyle(),"font-size":i.m_chart.fontScaling(i.getFontSize())+"px","font-weight":i.getFontWeight(),"text-decoration":i.getTextDecoration()}),$("#"+i.m_chart.svgContainerId).append(s))};
//# sourceMappingURL=GroupColumnChart.min.js.map