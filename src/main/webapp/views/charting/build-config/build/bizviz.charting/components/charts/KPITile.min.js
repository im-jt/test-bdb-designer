/*! BDB Charting Library V10.0.0 (2025-08-14 11:37:12) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
function KPITile(t,e){this.base=Chart,this.base(),this.m_x=680,this.m_y=20,this.m_width=450,this.m_height=300,this.m_radius=2,this.m_showmaximizebutton=!1,this.finalData=[],this.m_showborder=!1,this.m_borderradius="1",this.m_borderthickness="1",this.m_lineSeries=[],this.m_colorNames=[],this.m_kpitiledirection="horizontal",this.m_enabletooltip="false",this.m_tileborder="2px solid ",this.m_tileborderopacity="0.6",this.m_paddingfordiv=5,this.m_toppaddingseries=3,this.m_noofbranches="1",this.m_paddingbettile=5,this.m_sparklinetype="line",this.m_linecolor="#006488",this.m_fillcolor="#86dff9",this.m_fillcoloropacity="0.1",this.m_lineWidth="1",this.m_spotcolor="#f08000",this.m_minspotcolor="#ff0000",this.m_maxspotcolor="#ff0000",this.m_highlightspotcolor="#ffaaaa",this.m_highlightlinecolor="#000000",this.m_spotradius="2",this.m_normalrangemin="undefined",this.m_normalrangemax="undefined",this.m_normalrangecolor="#c0c0c0",this.m_disabletooltips=!0,this.m_drawnormalontop="true",this.m_datalabel=!1,this.m_barcolor="#16A085",this.m_negbarcolor="#D24D57",this.m_zerobarcolor="#defedf",this.m_barzeroaxis=!0,this.m_barspacing="1",this.m_tristatebarspacing="1",this.m_tristateposbarcolor="#16A085",this.m_tristatenegbarcolor="#D24D57",this.m_tristatezerobarcolor="#defedf",this.m_valueNames=[],this.m_seriesNames=[],this.m_chartContainer=t,this.m_zIndex=e,this.m_categoryfontcolor="#000000",this.m_categoryfontsize="12",this.m_categoryfontstyle="normal",this.m_categoryfontweight="normal",this.m_categoryfontfamily="Roboto",this.m_primaryseriesfontcolor="#000000",this.m_primaryseriesfontsize="12",this.m_primaryseriesfontstyle="normal",this.m_primaryseriesfontweight="normal",this.m_primaryseriesfontfamily="Roboto",this.m_secondaryseriesfontcolor="#000000",this.m_secondaryseriesfontsize="12",this.m_secondaryseriesfontstyle="normal",this.m_secondaryseriesfontweight="normal",this.m_secondaryseriesfontfamily="Roboto",this.m_trendsize=.3,this.m_positivetrendcolor="#1bcc07",this.m_negativetrendcolor="#fd0101",this.m_zerotrendcolor="#d1d911",this.m_trendshapes={min:"bd-down-arrow",max:"bd-up-arrow",zero:"bd-minus"}}KPITile.prototype=new Chart,KPITile.prototype.setProperty=function(t){this.ParseJsonAttributes(t.Object,this),this.initCanvas()},KPITile.prototype.ParseJsonAttributes=function(t,e){for(var i in this.chartJson=t)if("Chart"==i)for(var a in t[i])e[this.getNodeAttributeName(a)]=t[i][a];else e[this.getNodeAttributeName(i)]=t[i]},KPITile.prototype.setDataProvider=function(t){this.m_dataProvider=t},KPITile.prototype.getDataProvider=function(){return this.m_dataProvider},KPITile.prototype.setFields=function(t){this.m_fieldsJson=t;for(var e=[],i=[],a=[],o=0;o<t.length;o++)switch(this.getProperAttributeNameValue(t[o],"Type")){case"Category":e.push(t[o]);break;case"Series":i.push(t[o]);break;case"Indicator":case"CalculatedField":a.push(t[o])}this.setCategory(e),this.setSeries(i),this.setIndicator(a)},KPITile.prototype.setCategory=function(t){this.m_categoryNames=[],this.m_allcategoryNames=[],this.m_categoryVisibleArr=[],this.m_categoryTextAlign=[];for(var e=0,i=0;i<t.length;i++)this.m_allcategoryNames[i]=this.getProperAttributeNameValue(t[i],"Name"),this.m_categoryVisibleArr[this.m_allcategoryNames[i]]=this.getProperAttributeNameValue(t[i],"visible"),IsBoolean(this.m_categoryVisibleArr[this.m_allcategoryNames[i]])&&(this.m_categoryNames[e]=this.getProperAttributeNameValue(t[i],"Name"),this.m_categoryTextAlign[e]=this.getProperAttributeNameValue(t[i],"textAlign"),e++)},KPITile.prototype.setSeries=function(t){this.m_seriesNames=[],this.m_allseriesNames=[],this.m_seriesVisibleArr=[],this.m_currencyArr=[],this.m_positionArr=[],this.m_textAlignArr=[],this.m_numberFormatter=[];for(var e=0,i=0;i<t.length;i++)this.m_allseriesNames[i]=this.getProperAttributeNameValue(t[i],"Name"),this.m_seriesVisibleArr[this.m_allseriesNames[i]]=this.getProperAttributeNameValue(t[i],"visible"),IsBoolean(this.m_seriesVisibleArr[this.m_allseriesNames[i]])&&(this.m_seriesNames[e]=this.getProperAttributeNameValue(t[i],"Name"),this.m_currencyArr[e]=this.getProperAttributeNameValue(t[i],"unitname"),this.m_positionArr[e]=this.getProperAttributeNameValue(t[i],"signposition"),this.m_textAlignArr[e]=this.getProperAttributeNameValue(t[i],"textAlign"),this.m_numberFormatter[e]=this.getProperAttributeNameValue(t[i],"numberFormatter"),e++)},KPITile.prototype.setIndicator=function(t){this.m_indicatorNames=[],this.m_indicatorDisplayNames=[],this.m_indicatorVisibleArr=[],this.m_allIndicatorDisplayNames=[],this.m_allIndicatorNames=[],this.m_indicatorType=[];for(var e=0,i=0;i<t.length;i++){var a=this.formattedDescription(this,this.getProperAttributeNameValue(t[i],"DisplayName"));this.m_allIndicatorDisplayNames[i]=a,this.m_allIndicatorNames[i]=this.getProperAttributeNameValue(t[i],"Name"),this.m_indicatorVisibleArr[this.m_allIndicatorNames[i]]=this.getProperAttributeNameValue(t[i],"visible"),IsBoolean(this.m_indicatorVisibleArr[this.m_allIndicatorNames[i]])&&(this.m_indicatorDisplayNames[e]=a,this.m_indicatorNames[e]=this.getProperAttributeNameValue(t[i],"Name"),this.m_indicatorType[e]=this.getProperAttributeNameValue(t[i],"IndicatorType"),e++)}},KPITile.prototype.getAllCategoryNames=function(){return this.m_allcategoryNames},KPITile.prototype.getCategoryNames=function(){return this.m_categoryNames},KPITile.prototype.getCategoryTextAlign=function(){return this.m_categoryTextAlign},KPITile.prototype.getSeriesNames=function(){return this.m_seriesNames},KPITile.prototype.getSeriesCurrency=function(){return this.m_currencyArr},KPITile.prototype.getSeriesSignPosition=function(){return this.m_positionArr},KPITile.prototype.getSeriesTextAlign=function(){return this.m_textAlignArr},KPITile.prototype.getSeriesNumberFormatter=function(){return this.m_numberFormatter},KPITile.prototype.getAllIndicatorNames=function(){return this.m_allIndicatorNames},KPITile.prototype.getIndicatorNames=function(){return this.m_indicatorNames},KPITile.prototype.getIndicatorDisplayNames=function(){return this.m_indicatorDisplayNames},KPITile.prototype.getIndicatorType=function(){return this.m_indicatorType},KPITile.prototype.setIndicatorData=function(){this.m_indicatorData=[];var t;if(this.toolTipData=[],this.trendComponentAvailable=!1,this.SparkLineAvailable=[],void 0!==this.getIndicatorNames()&&0<this.getIndicatorNames().length)for(var e=0,i=this.getIndicatorNames().length;e<i;e++){this.m_indicatorData[e]=this.getDataFromJSON(this.getIndicatorNames()[e]),this.toolTipData[e]=this.getDataFromJSON(this.getIndicatorNames()[e]),this.SparkLineAvailable[e]=[];for(var a=0;a<this.m_indicatorData[e].length;a++){if(t="string"==typeof this.m_indicatorData[e][a]?this.m_indicatorData[e][a].split(","):this.m_indicatorData[e][a],this.m_indicatorData[e][a]=[],this.toolTipData[e][a]=[],Array.isArray(t))for(var o=0;o<t.length;o++)this.m_indicatorData[e][a][o]=isNaN(+t[o])?t[o]:+t[o],this.toolTipData[e][a][o]=t[o];else this.toolTipData[e][a][0]=t;if(this.SparkLineAvailable[e][a]="sparkline"==this.getIndicatorType()[e]&&0<this.m_indicatorData[e][a].length,"trend"==this.getIndicatorType()[e]&&3<=this.m_indicatorData[e][a].length){for(var r=!0,s=0;s<3;s++)if(isNaN(+this.m_indicatorData[e][a][s])&&""!==this.m_indicatorData[e][a][s]){r=!1;break}IsBoolean(r)&&(this.m_indicatorData[e][a]=this.m_indicatorData[e][a][0]<this.m_indicatorData[e][a][1]?"min":this.m_indicatorData[e][a][0]>this.m_indicatorData[e][a][2]?"max":"neutral",this.trendComponentAvailable=!0)}}}},KPITile.prototype.getIndicatorData=function(){return this.m_indicatorData},KPITile.prototype.setSeriesField=function(){this.m_seriesdata=[];for(var t=0;t<this.getSeriesNames().length;t++){this.m_seriesdata[t]=this.getDataFromJSON(this.getSeriesNames()[t]);for(var e,i=this.m_util.getCurrencySymbol(this.getSeriesCurrency()[t]),a=this.getSeriesSignPosition()[t],o=0;this.m_seriesdata[t].length>o;o++)e=this.m_seriesdata[t][o],e=getFormattedNumberWithCommas(e,this.getSeriesNumberFormatter()[t]),this.m_seriesdata[t][o]=this.m_util.addFormatter(e,i,a)}},KPITile.prototype.getSeriesField=function(){return this.m_seriesdata},KPITile.prototype.setCategoryField=function(){this.m_categorydata=[];for(var t=0;t<this.getCategoryNames().length;t++)this.m_categorydata[t]=this.getDataFromJSON(this.getCategoryNames()[t])},KPITile.prototype.getCategoryField=function(){return this.m_categorydata},KPITile.prototype.setAllFieldsName=function(){this.m_allfieldsName=[];for(var t=0;t<this.getAllCategoryNames().length;t++)this.m_allfieldsName.push(this.getAllCategoryNames()[t]);for(var e=0;e<this.getAllIndicatorNames().length;e++)this.m_allfieldsName.push(this.getAllIndicatorNames()[e])},KPITile.prototype.getAllFieldsName=function(){return this.m_allfieldsName},KPITile.prototype.setAllFieldsDisplayName=function(){this.m_allfieldsDisplayName=[];for(var t=0;t<this.getCategoryNames().length;t++)this.m_allfieldsDisplayName.push(this.getCategoryNames()[t]);for(var e=0;e<this.getCategoryNames().length;e++)this.m_allfieldsDisplayName.push(this.getIndicatorNames()[e])},KPITile.prototype.getAllFieldsDisplayName=function(){return this.m_allfieldsDisplayName},KPITile.prototype.init=function(){this.setCategoryField(),this.setSeriesField(),this.setIndicatorData(),this.setAllFieldsName(),this.setAllFieldsDisplayName(),this.isSeriesDataEmpty(),this.setShowSeries(this.getAllFieldsName()),this.m_chartFrame.init(this)},KPITile.prototype.isSeriesDataEmpty=function(){this.m_isEmptySeries=!0,0<this.m_dataProvider.length&&(this.m_isEmptySeries=!1)},KPITile.prototype.drawChart=function(){this.drawObject();var t=this.IsDrawingPossible();if(IsBoolean(t.permission)){$("#draggableDiv").remove();for(var e=this,i=+e.m_width-10,a=5,o=5,r=+e.m_height-10,s=e.m_dataProvider.length,n=!1,l=Math.floor(s/this.m_noofbranches)+(s%this.m_noofbranches!=0?1:0),m=Math.floor(s/l)<this.m_noofbranches?s%l==0?Math.floor(s/l):Math.floor(s/l)+1:this.m_noofbranches,d=0;d<m;d++)for(var h=d*l,p=(d+1)*l,c=h;c<p;c++)if(c<s){$("#KPITileSingleDiv"+e.m_objectid+c).remove(),1<s?"vertical"===this.m_kpitiledirection?(i=+e.m_width/l-+e.m_paddingbettile-+e.m_paddingbettile/l*2,o=+e.m_paddingbettile+i*(c-h)+ +e.m_paddingbettile*(c-h),r=+e.m_height/m-+e.m_paddingbettile-+e.m_paddingbettile/m*2,a=+e.m_paddingbettile+r*d+e.m_paddingbettile*d):(i=+e.m_width/m-+e.m_paddingbettile-+e.m_paddingbettile/m*2,a=+e.m_paddingbettile+r*(c-h)+ +e.m_paddingbettile*(c-h),r=+e.m_height/l-+e.m_paddingbettile-+e.m_paddingbettile/l*2,o=+e.m_paddingbettile+i*d+e.m_paddingbettile*d):(r=+e.m_height/s-+e.m_paddingbettile-+e.m_paddingbettile/s*2,i=+e.m_width-2*e.m_paddingbettile,a=+e.m_paddingbettile+r*c+e.m_paddingbettile*c,o=+e.m_paddingbettile);var g=document.createElement("div"),_=(g.setAttribute("id","KPITileSingleDiv"+e.m_objectid+c),IsBoolean(e.m_showborder)?e.m_tileborder+hex2rgb(e.m_bordercolor,e.m_tileborderopacity):""),f="",f=(e.m_bggradients.split(","),"linear-gradient("+e.m_bggradientrotation+"deg,"+e.m_chartFrame.m_bgGradientColors[0]);if(1<e.m_chartFrame.m_bgGradientColors.length){for(var b=1;b<e.m_chartFrame.m_bgGradientColors.length;b++)f+=","+e.m_chartFrame.m_bgGradientColors[b];f+=")"}else f=e.m_chartFrame.m_bgGradientColors[0];$(g).css({position:"absolute",top:a+"px",left:o+"px",height:r+"px",width:i+"px",border:_,"border-radius":"2px",background:f}),$("#draggableDiv"+e.m_objectid).append(g),$("#draggableDiv"+e.m_objectid).css({border:"none"}),0<this.m_categorydata.length&&(n=!0,this.drawCategoryField(c,a,o,r,i)),0<this.getSeriesNames().length&&this.drawSeriesField(c,a,o,r,i,n);var y=this.getIndicatorNames().length;if(0<y)for(var u=0;u<y;u++)"trend"==this.getIndicatorType()[u]?this.drawTrendComponent(this.getIndicatorData()[u][c],a,o,r,i,c,u):this.drawSparkChart(u,c,a,o,r,i)}}else $("#draggableCanvas"+this.m_objectid).show(),this.m_chartFrame.drawFrame(),this.drawMessage(t.message)},KPITile.prototype.IsDrawingPossible=function(){var t=IsBoolean(this.m_isEmptySeries)?{permission:"false",message:this.m_status.noSeries}:{permission:"true",message:this.m_status.success};return t},KPITile.prototype.drawObject=function(){this.ctx.clearRect(this.m_x,this.m_y,this.m_width,this.m_height),this.m_chartFrame.init(this),this.drawChartFrame(),0==this.m_dataProvider.length&&this.drawMessage(this.m_status.noDataset)},KPITile.prototype.drawCategoryField=function(t,e,i,a,o){var r=this,s=document.createElement("p"),n=document.createTextNode(this.m_categorydata[0][t]);s.setAttribute("id","CategoryPara"+r.m_objectid+t),$(s).css({position:"absolute",top:"5px",left:"5px",width:o-5+"px",color:r.m_categoryfontcolor,overflow:"hidden","margin-bottom":"0px","white-space":"nowrap","text-overflow":"ellipsis","font-weight":r.m_categoryfontweight,"font-size":r.fontScaling(+r.m_categoryfontsize)+"px","font-style":r.m_categoryfontstyle,"font-family":selectGlobalFont(r.m_categoryfontfamily),"text-align":r.getCategoryTextAlign()[0],padding:this.m_paddingfordiv+"px"}),IsBoolean(r.m_enabletooltip)&&s.setAttribute("title",r.m_categorydata[0][t]),$(s).append(n),$("#KPITileSingleDiv"+r.m_objectid+t).append(s)},KPITile.prototype.drawSeriesField=function(n,t,e,i,a,o){var l,m=this,r=document.createElement("div"),s="",d=95,a=(r.setAttribute("id","SeriesDiv"+m.m_objectid+n),s=IsBoolean(m.trendComponentAvailable)?.6*a:a-2*m.m_paddingfordiv,o&&(t=.2*i,d=75),void 0!==this.SparkLineAvailable[0]&&this.SparkLineAvailable[0][n]&&(d-=33),$(r).css({position:"absolute",top:t+"px",left:"5px",height:d+"%",padding:m.m_paddingfordiv+"px",width:s+"px"}),document.createElement("p")),o=document.createTextNode(m.m_seriesdata[0][n]);a.setAttribute("id","primarySeries"+m.m_objectid+n),void 0!==this.SparkLineAvailable[0]&&this.SparkLineAvailable[0][n]?$(a).css({color:m.m_primaryseriesfontcolor,width:s-m.m_paddingfordiv,overflow:"hidden","margin-bottom":"0px","white-space":"nowrap","text-overflow":"ellipsis","font-weight":m.m_primaryseriesfontweight,"font-size":m.fontScaling(+m.m_primaryseriesfontsize)+"px","font-style":m.m_primaryseriesfontstyle,"font-family":selectGlobalFont(m.m_primaryseriesfontfamily),"text-align":m.getSeriesTextAlign()[0],"padding-top":m.m_toppaddingseries+"px"}):$(a).css({color:m.m_primaryseriesfontcolor,width:s-m.m_paddingfordiv,overflow:"hidden","margin-bottom":"0px","text-overflow":"ellipsis","font-weight":m.m_primaryseriesfontweight,"font-size":m.fontScaling(+m.m_primaryseriesfontsize)+"px","font-style":m.m_primaryseriesfontstyle,"font-family":selectGlobalFont(m.m_primaryseriesfontfamily),"text-align":m.getSeriesTextAlign()[0],"padding-top":m.m_toppaddingseries+"px"}),IsBoolean(m.m_enabletooltip),$(a).append(o),$(r).append(a),m.m_seriesdata[1]&&m.m_seriesdata[1][n]&&(i=document.createTextNode(m.m_seriesdata[1][n]),(l=document.createElement("p")).setAttribute("id","secondarySeries"+m.m_objectid+n),void 0!==this.SparkLineAvailable[0]&&this.SparkLineAvailable[0][n]?$(l).css({color:m.m_secondaryseriesfontcolor,width:s-m.m_paddingfordiv,overflow:"hidden","margin-bottom":"0px","white-space":"nowrap","text-overflow":"ellipsis","font-weight":m.m_secondaryseriesfontweight,"font-size":m.fontScaling(+m.m_secondaryseriesfontsize)+"px","font-style":m.m_secondaryseriesfontstyle,"font-family":selectGlobalFont(m.m_secondaryseriesfontfamily),"text-align":m.getSeriesTextAlign()[1],"padding-top":m.m_toppaddingseries+"px"}):$(l).css({color:m.m_secondaryseriesfontcolor,width:s-m.m_paddingfordiv,overflow:"hidden","margin-bottom":"0px","text-overflow":"ellipsis","font-weight":m.m_secondaryseriesfontweight,"font-size":m.fontScaling(+m.m_secondaryseriesfontsize)+"px","font-style":m.m_secondaryseriesfontstyle,"font-family":selectGlobalFont(m.m_secondaryseriesfontfamily),"text-align":m.getSeriesTextAlign()[1],"padding-top":m.m_toppaddingseries+"px"}),IsBoolean(m.m_enabletooltip),$(l).append(i),$(r).append(l),IsBoolean(m.m_enabletooltip))&&$(l).on("mouseenter",function(t){var e,i,a,o,r,s;m.m_designMode||(m.removeToolTipDiv(),s=null==(o=document.getElementById("draggablesParentDiv"+m.m_dashboard.m_id))?0:o.scrollLeft,e=null==o?0:o.scrollTop,i=null==o?0:$(o).offset(),a=(null==o?m.m_draggableDiv:$(o)[0]).clientTop,r=(null==o?m.m_draggableDiv:$(o)[0]).clientLeft,a=(0==i?0:i.top)+a-e,e=(0==i?0:i.left)+r-s,i=$(this)[0].offsetLeft,$(this)[0].offsetTop,r=t.pageY-t.offsetY-a+ +l.offsetHeight/2+8,s=t.pageX-e-i+25,(a=document.createElement("div")).innerHTML=m.m_seriesdata[1][n],a.setAttribute("id","toolTipDiv"),a.setAttribute("class","settingIcon"),a.setAttribute("placement","bottom"),null==o?document.body.appendChild(a):$(".draggablesParentDiv").append(a),o=$.extend(m.getTooltipStyles(),{top:r+"px",left:s+"px"}),$(a).css(o),r=+a.offsetWidth,ht=+a.offsetHeight,(s=t.pageX-t.offsetX-e-r/2+ +l.offsetWidth/2-8)+e<e&&(s=+m.m_draggableDiv.offsetLeft+i+ +l.offsetWidth/2-20-40,a.setAttribute("placement","bottom-left")),$(a).css("left",s+"px"),$(a).css("box-shadow","0 5px 15px -5px rgb(0 0 0 / 50%)"))}).on("mouseleave",function(){m.removeToolTipDiv()}),$("#KPITileSingleDiv"+m.m_objectid+n).append(r)},KPITile.prototype.drawTrendComponent=function(t,e,i,a,o,r,s){var n=this,l=($("#TrendDiv"+n.m_objectid+r).remove(),document.createElement("div")),m=(l.setAttribute("id","TrendDiv"+n.m_objectid),$(l).css({position:"absolute",top:.3*a+"px",left:.6*o+5+"px"}),IsBoolean(n.m_enabletooltip),document.createElement("i")),o=o<a?o:a;switch(m.style.fontSize=(90<o*n.m_trendsize?90:o*n.m_trendsize)+"px",t){case"min":m.style.color=n.m_negativetrendcolor,$(m).attr("class",n.m_trendshapes.min);break;case"max":m.style.color=n.m_positivetrendcolor,$(m).attr("class",n.m_trendshapes.max);break;case"neutral":m.style.color=n.m_zerotrendcolor,$(m).attr("class",n.m_trendshapes.zero)}$(l).append(m),$("#KPITileSingleDiv"+n.m_objectid+r).append(l),IsBoolean(n.m_enabletooltip)&&$(l).on("mouseenter",function(t){var e,i,a,o;n.m_designMode||(n.removeToolTipDiv(),(a=document.getElementById("draggablesParentDiv"+n.m_dashboard.m_id)).scrollLeft,a.scrollTop,o=(e=$(a).offset()).top+$(a)[0].clientTop-$(a)[0].scrollTop,e=e.left+$(a)[0].clientLeft-$(a)[0].scrollLeft,a=$(this)[0].offsetLeft,$(this)[0].offsetTop,o=t.pageY-t.offsetY-o+ +l.offsetHeight/2+8,a=t.pageX-e-a+25,(i=document.createElement("div")).innerHTML=n.getIndicatorDisplayNames()[s]+"="+n.toolTipData[s][r][0],i.setAttribute("id","toolTipDiv"),i.setAttribute("class","settingIcon"),i.setAttribute("placement","bottom"),$(".draggablesParentDiv").append(i),o=$.extend(n.getTooltipStyles(),{top:o+"px",left:a+"px"}),$(i).css(o),a=+i.offsetWidth,ht=+i.offsetHeight,o=t.pageX-t.offsetX-e-a/2+ +l.offsetWidth/2-8+"px",$(i).css("left",o),$(i).css("box-shadow","0 5px 15px -5px rgb(0 0 0 / 50%)"))}).on("mouseleave",function(){n.removeToolTipDiv()})},KPITile.prototype.drawSparkChart=function(r,s,t,e,i,a){var o,n=this,l=this.m_indicatorData[r][s],m=document.createElement("div"),m=(m.setAttribute("class","dynamicsparkline"+n.m_objectid+s),$(m).css({position:"absolute",width:a-5+"px",height:.33*i+"px",bottom:"0px"}),$("#KPITileSingleDiv"+n.m_objectid+s).append(m),n.m_disabletooltips=!IsBoolean(n.m_enabletooltip),hex2rgb(convertColorToHex(n.m_tooltipbackgroundcolor),n.m_tooltipbackgroundtransparency));"line"==this.m_sparklinetype?$(".dynamicsparkline"+n.m_objectid+s).sparkline(l,{type:"line",lineColor:n.m_linecolor,fillColor:hex2rgb(n.m_fillcolor,n.m_fillcoloropacity),space:!0,lineWidth:n.m_linewidth,gradColor:"transparent",alpha:"transparent",gradRotation:n.m_bggradientrotation,spotColor:n.m_spotcolor,minSpotColor:n.m_minspotcolor,maxSpotColor:n.m_maxspotcolor,highlightSpotColor:n.m_highlightspotcolor,highlightLineColor:n.m_highlightlinecolor,spotRadius:n.m_spotradius,normalRangeMin:n.m_normalrangemin,normalRangeMax:n.m_normalrangemax,normalRangeColor:n.m_normalrangecolor,dataLabel:!n.m_designMode&&n.m_datalabel,disableTooltips:!!n.m_designMode||n.m_disabletooltips,tooltipBackgroundColor:m,tooltipFontSize:n.m_tooltipfontsize,fieldName:n.m_indicatorDisplayNames[r],marginTop:Math.round(.67*n.m_height),width:Math.round(a-5),height:Math.round(.33*i)}):"bar"==this.m_sparklinetype?(o=(n.m_width-3)/l.length,$(".dynamicsparkline"+n.m_objectid+s).sparkline(l,{type:"bar",zeroAxis:n.m_barzeroaxis,zeroColor:n.m_zerobarcolor,barColor:n.m_barcolor,showBorder:n.m_showborder,negBarColor:n.m_negbarcolor,gradColor:"transparent",alpha:"transparent",gradRotation:n.m_bggradientrotation,barSpacing:0<o-n.m_barspacing?n.m_barspacing:1,barWidth:0<o-n.m_barspacing?o-n.m_barspacing:o,disableTooltips:!!n.m_designMode||n.m_disabletooltips,tooltipBackgroundColor:m,tooltipFontSize:n.m_tooltipfontsize,enableTagOptions:!0,fieldName:n.m_indicatorDisplayNames[r],width:Math.round(a),height:Math.round(.33*i)})):"tristate"==this.m_sparklinetype&&(o=(n.m_width-3)/l.length,$(".dynamicsparkline"+n.m_objectid+s).sparkline(l,{type:"tristate",posBarColor:n.m_tristateposbarcolor,negBarColor:n.m_tristatenegbarcolor,zeroBarColor:n.m_tristatezerobarcolor,showBorder:n.m_showborder,gradColor:"transparent",alpha:"transparent",gradRotation:n.m_bggradientrotation,disableTooltips:!!n.m_designMode||n.m_disabletooltips,tooltipBackgroundColor:m,tooltipFontSize:n.m_tooltipfontsize,fieldName:n.m_indicatorDisplayNames[r],barSpacing:0<o-n.m_tristatebarspacing?n.m_tristatebarspacing:1,barWidth:0<o-n.m_tristatebarspacing?o-n.m_tristatebarspacing:o,width:Math.round(a),height:Math.round(.33*i)})),$(".dynamicsparkline"+n.m_objectid+s).bind("sparklineClick",function(t){var e,i,a,t=t.sparklines[0],o=(t.getCurrentRegionFields(),n.getIndicatorNames()[r]);void 0!==t.currentRegion&&(t=n.getFieldNameValueMap(t.currentRegion,o,s),e=n.getIndicatorDisplayNames()[r],i=t[o],a="line"==n.m_sparklinetype?n.m_linecolor:"bar"==n.m_sparklinetype?0<i?n.m_barcolor:i<0?n.m_negbarcolor:n.m_barzeroaxis:0<i?n.m_tristateposbarcolor:i<0?n.m_tristatenegbarcolor:n.m_tristatezerobarcolor,t.drillField=o,t.drillDisplayField=e,t.drillValue=i,n.updateDataPoints(t,a))})},KPITile.prototype.initCanvas=function(){$("#draggableDiv"+this.m_objectid).remove(),this.initializeDraggableDivAndCanvas()},KPITile.prototype.initializeDraggableDivAndCanvas=function(){this.setDashboardNameAndObjectId(),this.m_draggableDiv=this.createDraggableDiv(this.m_chartContainer,this.m_zIndex),this.createDraggableCanvas(this.m_draggableDiv),this.setCanvasContext(),this.initMouseMoveEvent(this.m_chartContainer),this.initMouseClickEvent()},KPITile.prototype.drawChartFrame=function(){this.m_chartFrame.drawFrame()},KPITile.prototype.getToolTipData=function(t,e,i){},KPITile.prototype.getFieldNameValueMap=function(t,e,i){for(var a=new Object,o=[],o=this.getDataProvider()[i][e].split(","),r=0;r<o.length;r++)o[r]=isNaN(+o[r])?o[r]:+o[r];return a[e]=o[t],a};
//# sourceMappingURL=KPITile.min.js.map