/*! BDB Charting Library V10.0.0 (2025-08-14 11:37:12) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
function GuidedTour(t,e){this.base=Widget,this.base(),this.m_chartContainer=t,this.m_zIndex=e,this.m_toursteps=[],this.m_associatedtour={},this.m_associatedtourlist=[],this.m_associatedtourbuttonlist={},this.m_tourname="dashboardTour",this.m_alpha=.9,this.m_maintainaspectratio=!1,this.m_tourevents={start:"",end:"",pause:""}}GuidedTour.prototype=new Widget,GuidedTour.prototype.setProperty=function(t){this.ParseJsonAttributes(t.Object,this),this.initCanvas()},GuidedTour.prototype.ParseJsonAttributes=function(t,e){for(var i in this.chartJson=t)if("GuidedTour"==i)for(var o in t[i])if("imageSource"===o)for(var a in t[i][o])this.setAttributeValueToNode(a,t[i][o],e);else this.setAttributeValueToNode(o,t[i],e);else this.setAttributeValueToNode(i,t,e)},GuidedTour.prototype.initCanvas=function(){$("#draggableDiv"+this.m_objectid).remove(),this.initializeDraggableDivAndCanvas()},GuidedTour.prototype.initializeDraggableDivAndCanvas=function(t,e){this.setDashboardNameAndObjectId(),this.createDraggableDiv(this.m_chartContainer,this.m_zIndex)},GuidedTour.prototype.setDashboardNameAndObjectId=function(){this.m_objectId=this.m_objectid,2==this.m_objectid.split(".").length&&(this.m_objectid=this.m_objectid.split(".")[1]),this.m_componentid="GuidedTourDiv"+this.m_objectid},GuidedTour.prototype.draw=function(){this.drawObject()},GuidedTour.prototype.drawObject=function(){this.init(),this.drawChart(),""!=this.m_onafterrendercallback&&onAfterRender(this.m_onafterrendercallback)},GuidedTour.prototype.setTourMethods=function(t){return""!=this.m_tourevents.start&&(t.onStart=this.m_tourevents.start),""!=this.m_tourevents.end&&(t.onEnd=this.m_tourevents.end),""!=this.m_tourevents.pause&&(t.onPause=this.m_tourevents.pause),t},GuidedTour.prototype.init=function(){if(!IsBoolean(this.m_designMode)){for(var t=this,e=$("#draggableDiv"+t.m_objectid),i=[],o=0;o<this.m_associatedtourlist.length;o++){var a={};a.element="#"+sdk.getDivIdFromComponetId(this.m_associatedtourlist[o].compName),a.title=this.m_associatedtourlist[o].title,a.content=this.m_associatedtourlist[o].content,a.placement=this.m_associatedtourlist[o].placement,a.duration=this.m_associatedtourlist[o].duration,i.push(a)}var s={name:t.m_tourname,steps:i,onStart:function(){},onEnd:function(){},onPause:function(){}},s=t.setTourMethods(s);$(e).click({config:s},function(t){if(s.steps.length<1)alertPopUpModal({type:"error",message:"Tour is not configured",timeout:"3000"});else if(s)try{var e,i={WatermarkDivOverflow:$("#WatermarkDiv").css("overflow"),draggablesParentDivOverflow:$(".draggablesParentDiv").css("overflow")},o={name:s.name,steps:s.steps,storage:!1,backdrop:!0,animation:!1,onStart:function(t){$("#WatermarkDiv").css("overflow",""),"AbsoluteLayout"!==dGlobals.layoutType&&$(".draggablesParentDiv").css("overflow","").removeClass("iPhoneScrollBar").removeClass("mobileViewCSS"),s.onStart&&s.onStart()},onEnd:function(t){$("#WatermarkDiv").css("overflow",i.WatermarkDivOverflow),"AbsoluteLayout"!==dGlobals.layoutType&&$(".draggablesParentDiv").css("overflow",i.draggablesParentDivOverflow).addClass("iPhoneScrollBar").addClass("mobileViewCSS"),s.onEnd&&s.onEnd()},onPause:function(t){$("#WatermarkDiv").css("overflow",""),"AbsoluteLayout"!==dGlobals.layoutType&&$(".draggablesParentDiv").css("overflow","").removeClass("iPhoneScrollBar").removeClass("mobileViewCSS"),s.onPause&&s.onPause()},template:'<div class="popover tour"><div class="arrow">&nbsp;</div><h3 class="popover-title">&nbsp;</h3><div class="popover-content">&nbsp;</div><div class="popover-navigation"><button class="btn btn-default" data-role="prev">&laquo; Prev</button> <button class="btn btn-default" data-role="next">Next &raquo;</button><button class="btn btn-default" data-role="pause-resume">Pause</button> <button class="btn btn-default" data-role="end">End tour</button></div></div>'};for(e in s)s.hasOwnProperty(e)&&"onStart"!=e&&"onEnd"!=e&&(o[e]=s[e]);var a=new Tour(o);a.ended()?a.restart():(a.init(),a.start())}catch(t){}})}},GuidedTour.prototype.drawChart=function(){this.drawTour()},GuidedTour.prototype.drawTour=function(){var t=this,e=$("#draggableDiv"+t.m_objectid);null!=$("#"+t.m_componentid)&&$("#"+t.m_componentid).remove(),"text"===this.m_tourtype?(null!=$("#img"+t.m_objectid)&&$("#img"+t.m_objectid).remove(),this.drawLabel()):(this.createImage(e),this.drawImage(e))},GuidedTour.prototype.drawLabel=function(){for(var t=this,e=$("#draggableDiv"+t.m_objectid),i=(null!=$("#"+t.m_componentid)&&$("#"+t.m_componentid).remove(),this.m_text+""),o="",a=0;a<i.length;a++)o+=" "==i[a]&&" "==i[a+1]?"&nbsp;":i[a];this.m_text=o;var s=document.createElement("span");s.setAttribute("id",t.m_componentid),s.setAttribute("class","LabelComponent"),$(s).css({width:this.m_width+"px",height:this.m_height+"px","text-decoration":this.m_textdecoration,"font-weight":this.m_fontweight,"font-style":this.m_fontstyle,"font-size":this.fontScaling(+this.m_fontsize)+"px","font-family":selectGlobalFont(this.m_fontfamily),color:convertColorToHex(t.m_color),"vertical-align":this.m_verticalalign,cursor:this.m_cursortype,"text-align":this.m_textalign,"background-color":hex2rgb(convertColorToHex(t.m_backgroundcolor),this.m_backgroundalpha),display:"TABLE-CELL",position:"relative","border-radius":this.m_borderradius+"px","padding-left":this.m_labelpadding+"px","padding-right":this.m_labelpadding+"px"}),s.innerHTML=this.m_text,"vertical"==this.m_labeltextrotation&&($(s).css({width:this.m_height+"px","transform-origin":"left top",transform:"rotate(-90deg) translate(-"+this.m_height+"px, 0px)",height:this.m_width+"px"}),$(e).css("width",this.m_height)),$(e).append(s)},GuidedTour.prototype.drawImage=function(t){var e=this,i=$("#img"+e.m_objectid);0!=this.m_alpha&&(""!=this.m_cdata&&null!=this.m_cdata&&-1==this.m_cdata.indexOf("http")?0==this.m_cdata.indexOf("data:image/png;")||0==this.m_cdata.indexOf("data:image/jpg;")||0==this.m_cdata.indexOf("data:image/jpeg;")?$(i).attr("src",this.m_cdata):$(i).attr("src","data:image/png;base64,"+this.m_cdata):-1!=this.m_cdata.indexOf("http")?$(i).attr("src",this.m_cdata):$(i).attr("src",this.m_imagePath)),setTimeout(function(){e.setWidthHeightWithAspectRatio(i,0)},0)},GuidedTour.prototype.createImage=function(t){$("#img"+this.m_objectid).remove();var e=document.createElement("img");e.id="img"+this.m_objectid,$(e).css({width:this.m_width+"px",height:this.m_height+"px",top:"0px",left:"0px",position:"absolute",opacity:this.m_alpha,filter:"alpha(opacity="+this.m_alpha+")",borderRadius:this.m_borderradius+"px",cursor:this.m_cursortype}),$("#draggableDiv"+this.m_objectid).append(e)},GuidedTour.prototype.setWidthHeightWithAspectRatio=function(t,e){var t=null!=$(t).get(0)?t[0]:t,i=this.m_width,o=this.m_height;IsBoolean(this.m_maintainaspectratio)&&(o=(t=t.naturalWidth/t.naturalHeight)<this.m_width/this.m_height?(i=t*this.m_height,this.m_height):(i=this.m_width,this.m_width/t)),$("#img"+this.m_objectid).css("width",i-e+"px"),$("#img"+this.m_objectid).css("height",o-e+"px")};
//# sourceMappingURL=GuidedTour.min.js.map