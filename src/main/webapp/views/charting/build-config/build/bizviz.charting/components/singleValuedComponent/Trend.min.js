/*! BDB Charting Library V10.0.0 (2025-08-14 11:37:12) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
function Trend(t,i){this.base=Widget,this.base(),this.m_text="",this.m_virtualdatafield="",this.m_datarownumber="",this.m_virtualdataid="",this.m_textdecoration="",this.m_fontweight="",this.m_fontstyle="",this.m_verticalalign="",this.m_fontsize="",this.m_isdynamic="",this.m_backgroundalpha="",this.m_alignmentbaseline="",this.m_fontfamily="",this.m_color="",this.m_textalign="",this.m_backgroundcolor="",this.m_editable=!1,this.m_labelText="",this.m_objectID=[],this.m_componentid="",this.m_positivetrendcolor="#1bcc07",this.m_positivesymbolcolor="#d3ffe4",this.m_negativetrendcolor="#fd0101",this.m_negativesymbolcolor="#f4dcad",this.m_zerotrendcolor="#d1d911",this.m_zerosymbolcolor="#fbfbdb",this.m_virtualdataid="",this.m_virtualdatafield="",this.m_datarownumber="",this.m_baserange="0,0",this.m_enabletooltip=!1,this.m_fielddisplayname="Trend",this.m_value="-1",this.m_trendValue="1",this.m_maxValue="",this.m_minValue="",this.m_globalkey="",this.m_fieldvalue="",this.trend="",this.trendColorMap=new Object,this.m_tooltip=new Tooltip,this.m_isEmptySeries=!1,this.m_innerRadius="",this.m_outerRadius="",this.m_chartContainer=t,this.m_zIndex=i}Trend.prototype=new Widget,Trend.prototype.setProperty=function(t){this.ParseJsonAttributes(t.Object,this),this.initCanvas()},Trend.prototype.getStartX=function(){return 0},Trend.prototype.getStartY=function(){return 0},Trend.prototype.getEndX=function(){return this.m_width},Trend.prototype.getEndY=function(){return this.m_height},Trend.prototype.ParseJsonAttributes=function(t,i){for(var s in this.chartJson=t)if("Trend"==s)for(var e in t[s])this.setAttributeValueToNode(e,t[s],i);else this.setAttributeValueToNode(s,t,i)},Trend.prototype.setDataProvider=function(t){this.m_trendValue=this.m_value=t},Trend.prototype.initCanvas=function(){$("#draggableDiv"+this.m_objectid).remove(),this.initializeDraggableDivAndCanvas()},Trend.prototype.initializeDraggableDivAndCanvas=function(t,i){this.setDashboardNameAndObjectId(),this.m_draggableDiv=this.createDraggableDiv(this.m_chartContainer,this.m_zIndex),this.createDraggableCanvas(this.m_draggableDiv),this.setCanvasContext(),this.initMouseMoveEvent(),this.initMouseClickEvent()},Trend.prototype.updateWidgetsDataSetValues=function(){this.m_trendValue=this.m_value,""!=this.m_virtualdatafield&&""!=this.m_datarownumber&&null!=this.m_fieldSetValue.m_fieldNameValues[this.m_datarownumber]&&null!=this.m_fieldSetValue.m_fieldNameValues[this.m_datarownumber][this.m_virtualdatafield]&&(this.m_trendValue=this.m_fieldSetValue.m_fieldNameValues[this.m_datarownumber][this.m_virtualdatafield]),this.drawObject()},Trend.prototype.setRangeArray=function(){var t=this.m_baserange.split(",");2==t.length?(this.m_minValue=t[0],this.m_maxValue=t[1]):(this.m_minValue=0,this.m_maxValue=0)},Trend.prototype.setColorMap=function(){this.trendColorMap.Positive=[convertColorToHex(this.m_positivetrendcolor),convertColorToHex(this.m_positivesymbolcolor)],this.trendColorMap.Negative=[convertColorToHex(this.m_negativetrendcolor),convertColorToHex(this.m_negativesymbolcolor)],this.trendColorMap.Zero=[convertColorToHex(this.m_zerotrendcolor),convertColorToHex(this.m_zerosymbolcolor)]},Trend.prototype.drawObject=function(){this.setRangeArray(),this.setColorMap(),this.init(),this.drawChart(),""!=this.m_onafterrendercallback&&onAfterRender(this.m_onafterrendercallback)},Trend.prototype.init=function(){this.m_trendValue=this.m_value,this.m_startX=+this.m_x+this.m_width/2*1,this.m_startY=+this.m_y+this.m_height/2*1,this.CalculateRadius(),this.Calculation(),this.m_tooltip.init(this)},Trend.prototype.draw=function(){this.drawObject()},Trend.prototype.drawChart=function(){this.drawTrend()},Trend.prototype.drawTrend=function(){var color=this.trendColorMap[this.trend];this.drawouterCircle(color[0]),eval("this.draw"+this.trend+"Symbol(color[1]);")},Trend.prototype.getObjectName=function(){return this.getObjectType()},Trend.prototype.drawouterCircle=function(t){var i=t;try{(i=this.ctx.createRadialGradient(+this.m_x+this.m_width/2*1,+this.m_y+this.m_height/2*1,this.m_width/2-.2*this.m_width*1,+this.m_x+this.m_width/2*1,+this.m_y+this.m_height/2*1,this.m_width/2)).addColorStop(0,t),i.addColorStop(1,t)}catch(t){}this.clearCircle(this.m_startX,this.m_startY,this.m_outerRadius),this.drawCircle(this.m_startX,this.m_startY,this.m_outerRadius-2*this.m_outerRadius/100,i)},Trend.prototype.CalculateRadius=function(){this.m_outerRadius=this.m_width/2-1,+this.m_height>+this.m_width?this.m_outerRadius=this.m_width/2-1:this.m_outerRadius=this.m_height/2-1,this.m_innerRadius=3*this.m_outerRadius/4},Trend.prototype.drawCircle=function(t,i,s,e){this.ctx.save(),this.ctx.beginPath(),this.ctx.strokeStyle=e,this.ctx.fillStyle=e,this.ctx.lineWidth="1",this.ctx.arc(t,i,s,0,2*Math.PI,!1),this.ctx.fill(),this.ctx.stroke(),this.ctx.closePath(),this.ctx.restore()},Trend.prototype.clearCircle=function(t,i,s){this.ctx.arc(t,i,s,0,2*Math.PI,!1),this.ctx.clearRect(t-s-1,i-s-1,2*s+2,2*s+2)},Trend.prototype.drawinnerCircle=function(t){var i=t;try{(i=this.ctx.createRadialGradient(+this.m_x+this.m_width/2*1,+this.m_y+this.m_height/2*1,this.m_width/2-this.m_width/4*1,+this.m_x+this.m_width/2*1,+this.m_y+this.m_height/2*1,this.m_width/2-this.m_width/8*1)).addColorStop(0,t),i.addColorStop(1,t)}catch(t){}this.drawCircle(this.m_startX,this.m_startY,this.innerRadius,i)},Trend.prototype.Calculation=function(){+this.m_trendValue>=+this.m_minValue&&+this.m_trendValue<=+this.m_maxValue?this.trend="Zero":+this.m_trendValue<+this.m_minValue?this.trend="Negative":+this.m_trendValue>+this.m_maxValue&&(this.trend="Positive")},Trend.prototype.drawPositiveSymbol=function(t){this.ctx.save(),this.ctx.beginPath(),this.ctx.strokeStyle="#ffffff",this.ctx.fillStyle=t,this.ctx.lineWidth="1",this.ctx.moveTo(this.m_startX-this.m_innerRadius/5*1,this.m_startY),this.ctx.lineTo(this.m_startX-this.m_innerRadius/5*1,this.m_startY+.7*this.m_innerRadius*1),this.ctx.lineTo(this.m_startX+this.m_innerRadius/5*1,this.m_startY+.7*this.m_innerRadius*1),this.ctx.lineTo(this.m_startX+this.m_innerRadius/5*1,this.m_startY),this.ctx.lineTo(this.m_startX+this.m_innerRadius/2*1,this.m_startY),this.ctx.lineTo(this.m_startX,this.m_startY-.7*this.m_innerRadius*1),this.ctx.lineTo(this.m_startX-this.m_innerRadius/2*1,this.m_startY),this.ctx.lineTo(this.m_startX-this.m_innerRadius/5*1,this.m_startY),this.ctx.fill(),this.ctx.stroke(),this.ctx.closePath(),this.ctx.restore()},Trend.prototype.drawZeroSymbol=function(t){this.ctx.save(),this.ctx.beginPath(),this.ctx.strokeStyle="#ffffff",this.ctx.lineWidth="1",this.ctx.fillStyle=t,this.ctx.rect(this.m_startX-this.m_innerRadius,this.m_startY-this.m_innerRadius/3.5,2*this.m_innerRadius,this.m_innerRadius/2),this.ctx.fill(),this.ctx.stroke(),this.ctx.closePath(),this.ctx.restore()},Trend.prototype.drawNegativeSymbol=function(t){this.ctx.save(),this.ctx.beginPath(),this.ctx.strokeStyle="#ffffff",this.ctx.lineWidth="1",this.ctx.fillStyle=t,this.ctx.moveTo(this.m_startX-this.m_innerRadius/5*1,this.m_startY),this.ctx.lineTo(this.m_startX-this.m_innerRadius/5*1,this.m_startY-.7*this.m_innerRadius*1),this.ctx.lineTo(this.m_startX+this.m_innerRadius/5*1,this.m_startY-.7*this.m_innerRadius*1),this.ctx.lineTo(this.m_startX+this.m_innerRadius/5*1,this.m_startY),this.ctx.lineTo(this.m_startX+this.m_innerRadius/2*1,this.m_startY),this.ctx.lineTo(this.m_startX,this.m_startY+.7*this.m_innerRadius*1),this.ctx.lineTo(this.m_startX-this.m_innerRadius/2*1,this.m_startY),this.ctx.lineTo(this.m_startX-this.m_innerRadius/5*1,this.m_startY),this.ctx.fill(),this.ctx.stroke(),this.ctx.closePath(),this.ctx.restore()},Trend.prototype.drawTooltip=function(t,i){this.m_designMode||(t=this.getToolTipData(t,i),this.drawTooltipContent(t))},Trend.prototype.drawTooltipContent=function(t){this.m_tooltip.draw(t,this.m_componenttype)},Trend.prototype.getToolTipData=function(t,i){var s;if(!IsBoolean(this.m_designMode))return t=t-(+this.m_x+this.m_width/2),i=i-(+this.m_y+this.m_height/2),Math.sqrt(t*t+i*i)<=this.m_outerRadius-5&&IsBoolean(this.m_enabletooltip)?s={cat:this.m_fielddisplayname,data:[this.m_trendValue]}:this.hideToolTip(),s},Trend.prototype.getDataPointAndUpdateGlobalVariable=function(){var t={};t[""==this.m_fieldname||null==this.m_fieldname?"Value":this.m_fieldname]=this.m_fieldvalue,this.updateDataPoints(t)};
//# sourceMappingURL=Trend.min.js.map