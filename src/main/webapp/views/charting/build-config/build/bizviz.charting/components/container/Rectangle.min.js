/*! BDB Charting Library V10.0.0 (2025-08-14 11:37:12) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
function Rectangle(t,i){this.base=Widget,this.base(),this.m_borderthickness="",this.m_width="",this.m_bordercolor="",this.m_alpha="",this.m_height="",this.m_x,this.m_y,this.m_gradients="",this.m_borderalpha="1",this.m_gradientrotation="",this.m_globalkey="",this.m_fieldvalue="",this.m_borderradius=0,this.m_gradientColorArr=[],this.gradientCoords=[],this.m_chartContainer=t,this.m_zIndex=i}Rectangle.prototype=new Widget,Rectangle.prototype.setProperty=function(t){this.ParseJsonAttributes(t.Object,this),this.initCanvas()},Rectangle.prototype.ParseJsonAttributes=function(t,i){for(var e in this.chartJson=t)if("Rectangle"==e)for(var h in t[e])this.setAttributeValueToNode(h,t[e],i);else this.setAttributeValueToNode(e,t,i)},Rectangle.prototype.initCanvas=function(){$("#"+this.m_objectid).remove(),this.initializeDraggableDivAndCanvas()},Rectangle.prototype.initializeDraggableDivAndCanvas=function(){this.setDashboardNameAndObjectId(),this.m_draggableDiv=this.createDraggableDiv(this.m_chartContainer,this.m_zIndex),this.createDraggableCanvas(this.m_draggableDiv),this.setCanvasContext(),this.initMouseClickEvent()},Rectangle.prototype.setDashboardNameAndObjectId=function(){this.m_objectId=this.m_objectid,2==this.m_objectid.split(".").length&&(this.m_objectid=this.m_objectid.split(".")[1]),this.m_componentid=this.m_objectid},Rectangle.prototype.init=function(){if(null!=this.m_gradients){this.m_GradientColors=this.m_gradients.split(",");for(var t=0;t<this.m_GradientColors.length;t++){var i=convertColorToHex(this.m_GradientColors[t]);this.m_GradientColors[t]=hex2rgb(i,this.m_alpha)}}this.gradientCoords=this.calculateGradientCoordinates(this.m_gradientrotation)},Rectangle.prototype.calculateGradientCoordinates=function(t){var i,e=[],h=this.m_x,s=this.m_y,r=this.m_width,a=this.m_y,n=t;return 0<=(n=n<0?+(n=t%360)+360:n)&&n<=45?(i=+n,h=this.m_x,s=this.m_y,r=+this.m_x+ +this.m_width,a=+this.m_y+ +this.m_height*Math.sin(i*Math.PI/180*2)):45<n&&n<=90?(i=n-45,h=this.m_x,s=this.m_y,r=+this.m_x+ +this.m_width-+this.m_width*Math.sin(i*Math.PI/180*2),a=this.m_height):90<n&&n<=135?(i=n-90,h=+this.m_x+ +this.m_width*Math.sin(i*Math.PI/180*2),s=this.m_y,r=this.m_x,a=this.m_height):135<n&&n<=180?(i=n-135,h=this.m_width,s=this.m_y,r=this.m_x,a=+this.m_y+ +this.m_height-+this.m_height*Math.sin(i*Math.PI/180*2)):180<n&&n<=225?(i=n-180,h=this.m_width,s=+this.m_y+this.m_height*Math.sin(i*Math.PI/180*2),r=this.m_x,a=this.m_y):225<n&&n<=270?(i=n-225,h=+this.m_x+ +this.m_width-+this.m_width*Math.sin(i*Math.PI/180*2),s=+this.m_y+ +this.m_height,r=this.m_x,a=this.m_y):270<n&&n<=325?(i=n-270,h=this.m_x,s=+this.m_y+ +this.m_height,r=+this.m_x+this.m_width*Math.sin(i*Math.PI/180*2),a=this.m_y):325<n&&n<=360&&(i=n-325,h=this.m_x,s=+this.m_y+ +this.m_height-this.m_height*Math.sin(i*Math.PI/180*2),r=+this.m_x+ +this.m_width,a=+this.m_y),e[0]=h,e[1]=s,e[2]=r,e[3]=a,e},Rectangle.prototype.draw=function(){this.drawObject()},Rectangle.prototype.drawObject=function(){this.init(),this.drawChart(),""!=this.m_onafterrendercallback&&onAfterRender(this.m_onafterrendercallback)},Rectangle.prototype.drawChart=function(){this.drawRectangle()},Rectangle.prototype.drawRectangle=function(){this.ctx.clearRect(0,0,+this.m_width,+this.m_height),this.ctx.beginPath(),this.ctx.lineWidth=this.m_borderthickness,this.ctx.fillStyle=this.m_GradientColors[0],IsBoolean(this.m_designMode)||(this.ctx.fillStyle=this.getBackgroundGradient()),this.ctx.rect(this.m_x,this.m_y,+this.m_width,+this.m_height),this.ctx.fill(),this.ctx.closePath(),$("#draggableDiv"+this.m_componentid).css({"border-radius":this.m_borderradius+"px",border:this.m_borderthickness+"px solid "+this.m_bordercolor})},Rectangle.prototype.fillHorizontalByPercentage=function(t){this.ctx.clearRect(0,0,+this.m_width,+this.m_height),this.ctx.beginPath(),this.ctx.fillStyle=this.getBackgroundGradient(),this.ctx.lineWidth=this.m_borderthickness,this.ctx.strokeStyle=convertColorToHex(this.m_bordercolor);var i=parseInt(this.m_width);this.ctx.rect(this.m_x,this.m_y,t/100*i,+this.m_height),this.ctx.fill(),this.ctx.stroke(),this.ctx.closePath()},Rectangle.prototype.fillVerticalByPercentage=function(t){this.ctx.clearRect(0,0,+this.m_width,+this.m_height),this.ctx.beginPath(),this.ctx.fillStyle=this.getBackgroundGradient(),this.ctx.lineWidth=this.m_borderthickness,this.ctx.strokeStyle=convertColorToHex(this.m_bordercolor);t=t/100*parseInt(this.m_height);this.ctx.rect(this.m_x,this.m_height-t,+this.m_width,t),this.ctx.fill(),this.ctx.stroke(),this.ctx.closePath()},Rectangle.prototype.fillVerticalStack=function(t,i){this.ctx.clearRect(0,0,+this.m_width,+this.m_height),this.createVSlices(t,i)},Rectangle.prototype.fillHorizontalStack=function(t,i){this.ctx.clearRect(0,0,+this.m_width,+this.m_height),this.createHSlices(t,i)},Rectangle.prototype.createVSlices=function(t,i){for(var e=0,h=($.each(t,function(){e+=parseInt(this)||0}),0),s=0;s<t.length;s++){var r=parseInt(t[s])*this.m_height/e;this.ctx.fillStyle=i[s],this.ctx.fillRect(this.m_x,h,this.m_width,r),h+=r}return[]},Rectangle.prototype.createHSlices=function(t,i){for(var e=0,h=($.each(t,function(){e+=parseInt(this)||0}),0),s=0;s<t.length;s++){var r=parseInt(t[s])*this.m_width/e;this.ctx.fillStyle=i[s],this.ctx.fillRect(h,this.m_y,r,this.m_height),h+=r}return[]},Rectangle.prototype.getBackgroundGradient=function(){for(var t=this.ctx.createLinearGradient(this.gradientCoords[0],this.gradientCoords[1],this.gradientCoords[2],2*this.gradientCoords[3]),i=0;i<this.m_GradientColors.length;i++){var e=this.m_GradientColors[i],h=i/this.m_GradientColors.length;t.addColorStop(h,e)}return t},Rectangle.prototype.getDataPointAndUpdateGlobalVariable=function(){var t={};t[""==this.m_fieldname||null==this.m_fieldname?"Value":this.m_fieldname]=this.m_fieldvalue,this.updateDataPoints(t)};
//# sourceMappingURL=Rectangle.min.js.map