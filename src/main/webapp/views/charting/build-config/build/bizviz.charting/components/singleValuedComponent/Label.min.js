/*! BDB Charting Library V10.0.0 (2025-08-14 11:37:12) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
function Label(t,e){this.base=Widget,this.base(),this.m_text="",this.m_virtualdatafield="",this.m_tooltip="",this.m_datarownumber="",this.m_virtualdataid="",this.m_textdecoration="",this.m_fontweight="",this.m_fontstyle="",this.m_verticalalign="",this.m_fontsize="",this.m_isdynamic="",this.m_backgroundalpha="",this.m_alignmentbaseline="",this.m_fontfamily="",this.m_color="",this.m_textalign="",this.m_backgroundcolor="",this.m_hoverenabled=!1,this.m_hovercolor="",this.m_bordercolor="",this.m_borderwidth=0,this.m_borderthickness=0,this.m_editable=!1,this.m_labelText="",this.m_globalkey="",this.m_fieldvalue="",this.m_borderradius=0,this.m_labelpadding=0,this.m_objectID=[],this.m_componentid="",this.m_chartContainer=t,this.m_zIndex=e,this.m_precision="default",this.m_secondaryunit="none",this.m_unit="none",this.m_signposition="prefix",this.m_formater="Currency",this.m_secondaryformater="Number",this.m_numberformatter="none",this.m_tooltipPosition="auto",this.m_cursortype="pointer"}Label.prototype=new Widget,Label.prototype.updateWidgetsDataSetValues=function(){this.m_labelText=this.m_text,IsBoolean(this.m_isdynamic)&&""!=this.m_virtualdatafield&&""!=this.m_datarownumber&&""!=this.m_fieldSetValue&&null!=this.m_fieldSetValue.m_fieldNameValues[this.m_datarownumber]&&null!=this.m_fieldSetValue.m_fieldNameValues[this.m_datarownumber][this.m_virtualdatafield]&&(this.m_labelText=this.m_text=this.m_fieldSetValue.m_fieldNameValues[this.m_datarownumber][this.m_virtualdatafield]),this.drawObject()},Label.prototype.setProperty=function(t){this.ParseJsonAttributes(t.Object,this),this.initCanvas()},Label.prototype.ParseJsonAttributes=function(t,e){for(var o in this.chartJson=t)if("Label"==o)for(var i in t[o])this.setAttributeValueToNode(i,t[o],e);else this.setAttributeValueToNode(o,t,e)},Label.prototype.setDataProvider=function(t){this.m_labelText=this.m_text=t},Label.prototype.getDataProvider=function(){return this.m_labelText},Label.prototype.initCanvas=function(){$("#draggableDiv"+this.m_objectid).remove(),this.initializeDraggableDivAndCanvas()},Label.prototype.initializeDraggableDivAndCanvas=function(t,e){this.setDashboardNameAndObjectId(),this.createDraggableDiv(this.m_chartContainer,this.m_zIndex)},Label.prototype.setDashboardNameAndObjectId=function(){this.m_objectId=this.m_objectid,2==this.m_objectid.split(".").length&&(this.m_objectid=this.m_objectid.split(".")[1]),this.m_componentid="labelDiv"+this.m_objectid},Label.prototype.draw=function(){this.drawObject()},Label.prototype.drawObject=function(){this.init(),this.drawChart(),""!=this.m_onafterrendercallback&&onAfterRender(this.m_onafterrendercallback)},Label.prototype.init=function(){IsBoolean(this.m_isdynamic)?""!=this.m_virtualdataid&&""!=this.m_virtualdatafield&&""!=this.m_datarownumber||(this.m_labelText=this.getValueFromGlobalVariable(this.m_text,"square")):this.m_labelText=this.m_text},Label.prototype.drawChart=function(){IsBoolean(this.m_isActive)&&this.drawLabel()},Label.prototype.drawLabel=function(){for(var v=this,t=$("#draggableDiv"+v.m_objectid),e=(null!=$("#"+v.m_componentid)&&$("#"+v.m_componentid).remove(),this.m_labelText+""),o="",i=0;i<e.length;i++)o+=" "==e[i]&&" "==e[i+1]?"&nbsp;":e[i];this.m_labelText=""==o?o:this.getFormattedText(o);var x=document.createElement("span");x.setAttribute("id",v.m_componentid),x.setAttribute("class","LabelComponent"),x.setAttribute("style","border-color :"+v.m_bordercolor+";border-width :"+ +v.m_borderwidth+"px;border-style :solid"),t.css({"border-radius":v.m_borderradius+"px"}),$(x).css({width:this.m_width+"px",height:this.m_height+"px","text-decoration":this.m_textdecoration,"font-weight":this.m_fontweight,"font-style":this.m_fontstyle,"font-size":this.fontScaling(+this.m_fontsize)+"px","font-family":selectGlobalFont(this.m_fontfamily),color:convertColorToHex(v.m_color),hovercolor:convertColorToHex(v.m_hovercolor),"vertical-align":this.m_verticalalign,cursor:this.m_cursortype,"text-align":this.m_textalign,"background-color":hex2rgb(convertColorToHex(v.m_backgroundcolor),this.m_backgroundalpha),display:"TABLE-CELL",position:"relative","border-radius":this.m_borderradius+"px","padding-left":this.m_labelpadding+"px","padding-right":this.m_labelpadding+"px"}),IsBoolean(this.m_hoverenabled)&&$(x).hover(function(){var t="#"+v.m_componentid;""==v.m_hovercolor?$(t).css("background-color",hex2rgb(convertColorToHex(v.m_backgroundcolor),v.m_backgroundalpha)):$(t).css("background-color",v.m_hovercolor)},function(){var t="#"+v.m_componentid;$(t).css("background-color",hex2rgb(convertColorToHex(v.m_backgroundcolor),v.m_backgroundalpha))}),x.innerHTML=this.m_labelText,"vertical"==this.m_labeltextrotation&&($(x).css({width:this.m_height+"px","transform-origin":"left top",transform:"rotate(-90deg) translate(-"+this.m_height+"px, 0px)",height:this.m_width+"px"}),$(t).css("width",this.m_height)),x.onclick=function(){IsBoolean(this.m_designMode)||v.getDataPointAndUpdateGlobalVariable()},this.checkToolTipDesc=this.updateToolTipInfo(this.m_tooltip);IsBoolean(v.m_designMode)||""==v.m_tooltip||" "==v.m_tooltip.trim()||$(x).mouseenter(function(t){!function(t){if(!v.m_designMode&&""!=v.m_tooltip&&" "!=v.m_tooltip){t.stopPropagation(),v.removeToolTipDiv();var e,o="gauge"==v.m_objecttype||"semigauge"==v.m_objecttype?document.body:document.getElementById("draggablesParentDiv"+v.m_dashboard.m_id),i=o.scrollLeft,s=o.scrollTop,o=($(o).offset(),$(this)[0].offsetLeft),a=$(this)[0].offsetTop,m=+t.pageY-a+5,r=+t.pageX-o+5,l=document.createElement("div"),n=(l.innerHTML=v.checkToolTipDesc,l.setAttribute("id","toolTipDiv"),l.setAttribute("class","settingIcon"),l.setAttribute("placement","bottom"),("gauge"==v.m_objecttype||"semigauge"==v.m_objecttype?$(document.body):$(".draggablesParentDiv")).append(l),+v.m_width),d=+v.m_height,h=16<d?8+v.m_tooltipborderwidth:0,p=16<n?8+v.m_tooltipborderwidth:0,_=40,b=20,c=t.pageX-t.offsetX-o,f="gauge"==v.m_objecttype||"semigauge"==v.m_objecttype?t.pageY-t.offsetY+d-a-h:+(v.m_top+d)-a-h,f=(c/=2,$.extend(v.getTooltipStyles(),{top:f+"px",left:c+"px"})),c=(m=+v.m_top+d-a,$(l).css(f),r="gauge"==v.m_objecttype||"semigauge"==v.m_objecttype?(g=+(+v.m_top+$(comp)[0].offsetHeight)+"px",$(l).css("top",g),e=t.pageX-t.offsetX-l.offsetWidth/2+$(comp)[0].offsetWidth/2-8+"px",t.pageX-t.offsetX-l.offsetWidth/2+$(comp)[0].offsetWidth/2-8):(e=+v.m_left+n/2-o-(l.offsetWidth+_)/2+"px",+v.m_left+n/2-o-(l.offsetWidth+_)/2),IsBoolean(isTouchEnabled)||$(l).hover(function(){v.m_tooltipremove=!1},function(){v.m_tooltipremove=!0,$(l).remove()}),$(x).width()+$(x).offset().left);if("vertical"==v.m_labeltextrotation&&(+c>+v.m_dashboard.m_AbsoluteLayout.m_width+i?v.m_tooltipPosition="left-middle":v.m_tooltipPosition="right-middle"),"auto"!==v.m_tooltipPosition)switch(v.m_tooltipPosition=v.m_tooltipPosition.trim(),v.m_tooltipPosition){case"bottom":$(l).css("left",e),l.setAttribute("placement",v.m_tooltipPosition);break;case"bottom-left":var u=1==v.m_tooltipborderwidth?1:0,r=+v.m_left-_-19+n/2-1-u;$(l).css("left",r),l.setAttribute("placement",v.m_tooltipPosition);break;case"bottom-right":u=1==v.m_tooltipborderwidth?1:0;r=r-(l.offsetWidth+b)/2+_+10+u,$(l).css("left",r),l.setAttribute("placement",v.m_tooltipPosition);break;case"top":m=+v.m_top+ +s-(l.offsetHeight+_)+h,$(l).css({left:e,top:m}),l.setAttribute("placement",v.m_tooltipPosition);break;case"top-left":u=1==v.m_tooltipborderwidth?1:0,m=+v.m_top+ +s-(l.offsetHeight+_)+h;r=+v.m_left-_-19+n/2-1-u,$(l).css({left:r,top:m}),l.setAttribute("placement",v.m_tooltipPosition);break;case"top-right":u=1==v.m_tooltipborderwidth?1:0;m=+v.m_top+ +s-(l.offsetHeight+_)+h,r=r-(l.offsetWidth+b)/2+_+10+u,$(l).css({left:r,top:m}),l.setAttribute("placement",v.m_tooltipPosition);break;case"right-top":case"right-middle":r=+v.m_left-50+n/2,r=+v.m_left+n-p,m=(m=0<v.m_tooltipPosition.indexOf("top")?m-d/2-10-_:+v.m_top+ +s+d/2-(l.offsetHeight+2*v.m_tooltipborderwidth+_)/2)<0?v.m_top-20:m,$(l).css({left:r,top:m}),"right-top"==v.m_tooltipPosition?l.setAttribute("placement","left-top"):l.setAttribute("placement","left-middle");break;case"right-bottom":m=+v.m_top+ +s-(l.offsetHeight+2*v.m_tooltipborderwidth+_)+h,r=+v.m_left-50+n/2,r=+v.m_left+n-p,m=(m=m+40+10+d/2-8)<0?+v.m_top-18:m,$(l).css({left:r,top:m}),l.setAttribute("placement","left-bottom");break;case"left-top":case"left-middle":r=(r=r-(l.offsetWidth+20)/2+50)-n/2-40-2-18+p,m=(m=0<v.m_tooltipPosition.indexOf("top")?m-d/2-10-_:+v.m_top+ +s+d/2-(l.offsetHeight+2*v.m_tooltipborderwidth+_)/2)<0?+v.m_top-20:m,$(l).css({left:r,top:m}),"left-top"==v.m_tooltipPosition?l.setAttribute("placement","right-top"):l.setAttribute("placement","right-middle");break;case"left-bottom":m=+v.m_top+ +s-(l.offsetHeight+2*v.m_tooltipborderwidth+_)+h,r=(r=r-(l.offsetWidth+20)/2+50)-n/2-40-2-18+p,m=(m=m+40+10+d/2-8)<0?+v.m_top-18:m,$(l).css({left:r,top:m}),l.setAttribute("placement","right-bottom");break;default:v.removeToolTipDiv(),alertPopUpModal({type:"warning",message:"Please choose the correct tooltip position",timeout:"3000"})}else{var g,a="bottom",f="",u=1==v.m_tooltipborderwidth?1:0,o=((g=t.pageY-t.offsetY+0)+d+10+ +l.offsetHeight+20-h>window.pageYOffset+window.innerHeight&&(m=+v.m_top+ +s-(+l.offsetHeight+_)+h,$(l).css("top",m),a="top"),r+(l.offsetWidth+_)<+v.m_dashboard.m_AbsoluteLayout.m_width+i?$(l).css("left",e):(r=r-(l.offsetWidth+20)/2+50)+(l.offsetWidth+_)>+v.m_dashboard.m_AbsoluteLayout.m_width+i?(r=r-n/2-_-2*v.m_tooltipborderwidth-20+p,m=(m="top"==(f=(m="top"==a?m+_+d/2:+v.m_top+ +s+d/2-(l.offsetHeight+2*v.m_tooltipborderwidth+_)/2+1)<0?"top":"middle")?+v.m_top+ +s-_-10+d/2:m-1)<-20?+v.m_top-20:m,f="top"==a?"bottom":"middle"==f?f:"top",a="right","bottom"==f&&(m+=2),m="bottom"==f?m+1:m,m="top"==f&&1==v.m_tooltipborderwidth?m-1:"middle"==f&&1==v.m_tooltipborderwidth?m+1:m,$(l).css({left:r,top:m})):(r+=u,$(l).css("left",r),f="right"),+v.m_left+n/2+10-($(l).width()+66)/2<0&&("gauge"!==v.m_objecttype||"semigauge"!==v.m_objecttype)&&((r=+v.m_left-50+n/2)<0&&n/2<=50?(r=+v.m_left+n-p,m=(m="top"==(f=(m="top"==a?m+_+d/2:+v.m_top+ +s+d/2-(l.offsetHeight+2*v.m_tooltipborderwidth+_)/2+1)<0?"top":"middle")?+v.m_top+ +s-_-10+d/2:m-1)<-20?+v.m_top-20:m,f="top"==a?"bottom":"middle"==f?f:"top",a="left","bottom"==f&&(m+=2),m="bottom"==f?m+1:m,m="top"==f&&1==v.m_tooltipborderwidth?m-1:"middle"==f&&1==v.m_tooltipborderwidth?m+1:m,$(l).css({left:r,top:m})):f=(r=r<-8?0:r-10-u,$(l).css("left",r),"left")),""==f?a:a+"-"+f);l.setAttribute("placement",o)}}}.bind(this)(t)}).mouseout(function(t){!function(t){v.removeToolTipDiv()}.bind(this)(t)}),$(t).append(x)},Label.prototype.getDataPointAndUpdateGlobalVariable=function(){var t={};t[""==this.m_fieldname||null==this.m_fieldname?"Value":this.m_fieldname]=this.m_fieldvalue,this.updateDataPoints(t)},Label.prototype.getFormattedText=function(t){var e,o,i,s,a,m,r;return!this.isFormattedValue()||isNaN(getNumericComparableValue(t))?t:(e=""!=this.m_signposition?this.m_signposition:"suffix",o=this.m_precision,m=this.m_unit,a=this.m_secondaryunit,i=this.m_formater,s=this.m_secondaryformater,r="default"===o?+getNumericComparableValue(t):(+getNumericComparableValue(t)).toFixed(o),""!=m?(i=this.m_util.getFormatterSymbol(i,m),"auto"==(s=this.m_util.getFormatterSymbol(s,a))?(t=getNumericComparableValue(t),a=getNumberFormattedSymbol(+t,m),m=getNumberFormattedNumericValue(+t,o,m),m=this.m_util.updateTextWithFormatter(m,"",o),r=this.m_util.addFormatter(m,a,"suffix")):(r=this.m_util.updateTextWithFormatter(r,s,o),"none"!=s&&""!=s&&(r=this.m_util.addFormatter(r,s,"suffix"))),"NaN"==r||""===r?"":this.m_util.addFormatter(getFormattedNumberWithCommas(r,this.m_numberformatter),i,e)):"NaN"==r?t:r)},Label.prototype.isFormattedValue=function(){return"none"!=this.m_numberformatter||"none"!=this.m_secondaryunit||"none"!=this.m_unit};
//# sourceMappingURL=Label.min.js.map