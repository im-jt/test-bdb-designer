/*! BDB Charting Library V10.0.0 (2025-08-14 11:37:12) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
function SpiderChart(t,e){this.base=Chart,this.base(),this.m_x=350,this.m_y=20,this.m_width=300,this.m_height=260,this.m_generatexml="",this.m_seriesNames=[],this.m_categoryData=[],this.m_seriesData=[],this.m_charttype="polygon",this.m_spiderChartCalculation=new SpiderChartCalculation,this.m_textUtil=new TextUtil,this.m_xAxis=new Xaxis,this.m_yAxis=new Yaxis,this.m_title=new svgTitle(this),this.m_subTitle=new svgSubTitle,this.m_chartContainer=t,this.m_zIndex=e,this.m_spiderwebstyle="stroke",this.m_canvastype="svg",this.m_enableanimation="false",this.m_animationduration=.5,this.m_hovershape=2}function SpiderChartCalculation(){this.m_max=0,this.m_armLength=0,this.m_centerX=0,this.m_centerY=0,this.m_numberOfMarkers=5,this.m_categoryData=[],this.m_seriesData=[],this.m_armXCordinates=[],this.m_armYCordinates=[],this.m_markerTextArray=[],this.m_armXCordinatesForLabel=[],this.m_armYCordinatesForLabel=[],this.m_seriesXCordinates=[],this.m_seriesYCordinates=[]}SpiderChart.prototype=new Chart,SpiderChart.prototype.setProperty=function(t){this.ParseJsonAttributes(t.Object,this),this.initCanvas()},SpiderChart.prototype.ParseJsonAttributes=function(t,e){for(var i in this.chartJson=t)if("Chart"==i)for(var r in t[i])switch(r){case"xAxis":for(var a in t[i][r]){var s=this.getNodeAttributeName(a);e.m_xAxis[s]=t[i][r][a]}break;case"yAxis":for(var o in t[i][r]){var s=this.getNodeAttributeName(o);e.m_yAxis[s]=t[i][r][o]}break;case"Title":for(var n in t[i][r]){var s=this.getNodeAttributeName(n);e.m_title[s]=t[i][r][n]}break;case"SubTitle":for(var h in t[i][r]){s=this.getNodeAttributeName(h);e.m_subTitle[s]=t[i][r][h]}break;default:e[s=this.getNodeAttributeName(r)]=t[i][r]}else e[s=this.getNodeAttributeName(i)]=t[i]},SpiderChart.prototype.initCanvas=function(){$("#draggableDiv"+this.m_objectid).remove(),this.initializeDraggableDivAndCanvas()},SpiderChart.prototype.initializeDraggableDivAndCanvas=function(){this.setDashboardNameAndObjectId(),this.m_draggableDiv=this.createDraggableDiv(this.m_chartContainer,this.m_zIndex),this.createDraggableCanvas(this.m_draggableDiv),this.setCanvasContext(),this.createSVG(),$("#draggableCanvas"+this.m_objectid).hide(),this.initMouseMoveEvent(this.m_chartContainer),this.initMouseClickEventForSVG(this.svgContainerId)},SpiderChart.prototype.createSVG=function(){var t=this,e=(this.svgContainerId="svgContainer"+t.m_objectid,$("#"+t.svgContainerId).remove(),document.createElementNS("http://www.w3.org/2000/svg","svg"));e.setAttribute("xlink","http://www.w3.org/1999/xlink"),e.setAttribute("width",this.m_width),e.setAttribute("height",this.m_height),e.setAttribute("id",this.svgContainerId),$(e).css({width:this.m_width,height:this.m_height}),$("#draggableDiv"+t.m_objectid).append(e)},SpiderChart.prototype.getDataProvider=function(){return this.m_dataProvider},SpiderChart.prototype.setFields=function(t){this.m_fieldsJson=t;for(var e=[],i=[],r=0;r<t.length;r++)switch(this.getProperAttributeNameValue(t[r],"Type")){case"Category":e.push(t[r]);break;case"Series":case"CalculatedField":i.push(t[r])}this.setCategory(e),this.setSeries(i)},SpiderChart.prototype.setCategory=function(t){this.m_categoryNames=[],this.m_categoryDisplayNames=[],this.m_allCategoryNames=[],this.m_allCategoryDisplayNames=[],this.m_categoryVisibleArr={},this.m_categoryFieldColor=[];for(var e=0,i=0;i<t.length;i++){this.m_allCategoryNames[i]=this.getProperAttributeNameValue(t[i],"Name");var r=this.formattedDescription(this,this.getProperAttributeNameValue(t[i],"DisplayName"));this.m_allCategoryDisplayNames[i]=r,this.m_categoryVisibleArr[this.m_allCategoryDisplayNames[i]]=this.getProperAttributeNameValue(t[i],"visible"),IsBoolean(this.m_categoryVisibleArr[this.m_allCategoryDisplayNames[i]])&&(this.m_categoryNames[e]=this.getProperAttributeNameValue(t[i],"Name"),this.m_categoryDisplayNames[e]=r,this.m_categoryFieldColor[e]=this.getProperAttributeNameValue(t[i],"Color"),e++)}},SpiderChart.prototype.setSeries=function(t){this.m_seriesNames=[],this.m_seriesDisplayNames=[],this.m_seriesColors=[],this.m_legendNames=[],this.m_seriesVisibleArr={},this.m_allSeriesDisplayNames=[],this.m_allSeriesNames=[],this.m_plotRadiusArray=[],this.m_plotTrasparencyArray=[],this.m_plotShapeArray=[],this.legendMap={};for(var e=0,i=0;i<t.length;i++){var r=this.formattedDescription(this,this.getProperAttributeNameValue(t[i],"DisplayName"));this.m_allSeriesDisplayNames[i]=r,this.m_allSeriesNames[i]=this.getProperAttributeNameValue(t[i],"Name"),this.m_seriesVisibleArr[this.m_allSeriesNames[i]]=this.getProperAttributeNameValue(t[i],"visible"),IsBoolean(this.m_seriesVisibleArr[this.m_allSeriesNames[i]])&&(this.m_seriesNames[e]=this.getProperAttributeNameValue(t[i],"Name"),this.m_seriesDisplayNames[e]=r,this.m_seriesColors[e]=convertColorToHex(this.getProperAttributeNameValue(t[i],"Color")),this.m_legendNames[e]=r,r=this.getProperAttributeNameValue(t[i],"PlotRadius"),this.m_plotRadiusArray[e]=null!=r&&null!==r&&""!==r?r:2,r=this.getProperAttributeNameValue(t[i],"PlotTransparency"),this.m_plotTrasparencyArray[e]=null!=r&&null!==r&&""!==r?r:1,r=this.getProperAttributeNameValue(t[i],"PlotType"),this.m_plotShapeArray[e]=null!=r&&null!==r&&""!==r?r:"point",r={seriesName:this.m_seriesNames[e],displayName:this.m_seriesDisplayNames[e],color:this.m_seriesColors[e],shape:this.m_plotShapeArray[e],index:e},this.legendMap[this.m_seriesNames[e]]=r,e++)}this.setLegendsIntialLoad(this.m_defaultlegendfields)},SpiderChart.prototype.getLegendInfo=function(){return this.legendMap},SpiderChart.prototype.getAllSeriesNames=function(){return this.m_allSeriesNames},SpiderChart.prototype.getAllCategoryNames=function(){return this.m_allCategoryNames},SpiderChart.prototype.getCategoryNames=function(){return this.m_categoryNames},SpiderChart.prototype.getCategoryDisplayNames=function(){return this.m_categoryDisplayNames},SpiderChart.prototype.getSeriesNames=function(){return this.m_seriesNames},SpiderChart.prototype.getSeriesDisplayNames=function(){return this.m_seriesDisplayNames},SpiderChart.prototype.getSeriesColors=function(){return this.m_seriesColors},SpiderChart.prototype.getCategoryColorsForAction=function(){return this.m_categoryFieldColor},SpiderChart.prototype.getSeriesColorsForAction=function(){return this.m_seriesColors},SpiderChart.prototype.setSeriesColor=function(t){this.m_seriesColor=t},SpiderChart.prototype.setLegendNames=function(t){this.m_legendNames=t},SpiderChart.prototype.getLegendNames=function(){return this.m_legendNames},SpiderChart.prototype.setCategoryData=function(){this.m_categoryData=[];for(var t=0;t<this.getCategoryNames().length;t++)this.m_categoryData[t]=this.getDataFromJSON(this.getCategoryNames()[t])},SpiderChart.prototype.setSeriesData=function(){this.m_seriesData=[];for(var t=0;t<this.getSeriesNames().length;t++)this.m_seriesData[t]=this.getDataFromJSON(this.getSeriesNames()[t])},SpiderChart.prototype.getCategoryData=function(){return this.m_categoryData},SpiderChart.prototype.getSeriesData=function(){return this.m_seriesData},SpiderChart.prototype.setAllFieldsName=function(){this.m_allfieldsName=[];for(var t=0;t<this.getAllCategoryNames().length;t++)this.m_allfieldsName.push(this.getAllCategoryNames()[t]);for(var e=0;e<this.getAllSeriesNames().length;e++)this.m_allfieldsName.push(this.getAllSeriesNames()[e])},SpiderChart.prototype.getAllFieldsName=function(){return this.m_allfieldsName},SpiderChart.prototype.setAllFieldsDisplayName=function(){this.m_allfieldsDisplayName=[];for(var t=0;t<this.getCategoryDisplayNames().length;t++)this.m_allfieldsDisplayName.push(this.getCategoryDisplayNames()[t]);for(var e=0;e<this.getSeriesDisplayNames().length;e++)this.m_allfieldsDisplayName.push(this.getSeriesDisplayNames()[e])},SpiderChart.prototype.getAllFieldsDisplayName=function(){return this.m_allfieldsDisplayName},SpiderChart.prototype.getStartX=function(){return this.m_x+0},SpiderChart.prototype.getStartY=function(){var t=1.5*this.fontScaling(this.m_xAxis.m_labelfontsize);return this.m_y+this.m_height-t},SpiderChart.prototype.getEndX=function(){return this.m_x+this.m_width},SpiderChart.prototype.getEndY=function(){return this.m_y+ +this.getMarginForTitle()+ +this.getMarginForSubTitle()},SpiderChart.prototype.getMarginForSubTitle=function(){var t=IsBoolean(this.m_subTitle.m_showsubtitle)?""!=this.m_subTitle.getDescription()?1.2*this.fontScaling(this.m_subTitle.getFontSize()*this.m_subTitle.m_formattedDescription.length*1):10:0;return t},SpiderChart.prototype.init=function(){this.createSVG(),this.setCategoryData(),this.setSeriesData(),this.setAllFieldsName(),this.setAllFieldsDisplayName(),this.setColorsForSeries(),this.isSeriesDataEmpty(),this.visibleSeriesInfo=this.getVisibleSeriesData(this.getSeriesData()),this.m_chartFrame.init(this),this.m_title.init(this),this.m_subTitle.init(this),IsBoolean(this.m_isEmptySeries)||this.initializeCalculation(),this.initializeToolTipProperty(),this.m_tooltip.init(this),this.initMouseClickEventForSVG(this.svgContainerId)},SpiderChart.prototype.setColorsForSeries=function(){if(this.m_seriesColorsArray=[],IsBoolean(this.m_enablecolorfromdrill)&&IsBoolean(this.m_startDrill))for(var t=0;t<this.m_seriesData.length;t++)this.m_seriesColorsArray[t]=this.m_drillColor;else for(var e=this.getSeriesColors(),t=0;t<this.m_seriesData.length;t++)this.m_seriesColorsArray[t]=e[t]},SpiderChart.prototype.drawChart=function(){this.drawChartFrame(),this.drawTitle(),this.drawSubTitle(),this.drawLegends();var t=this.IsDrawingPossible();IsBoolean(t.permission)?this.drawSpiderWebs():this.drawSVGMessage(t.message)},SpiderChart.prototype.IsDrawingPossible=function(){var t={};return this.m_categoryData.length<3?t={permission:"false",message:this.m_status.noMinCategory}:IsBoolean(this.isEmptyCategory)?t={permission:"false",message:this.m_status.noData}:IsBoolean(this.m_isEmptySeries)||(t=IsBoolean(this.isVisibleSeries())?{permission:"true",message:this.m_status.success}:{permission:"false",message:this.m_status.noSeries}),t},SpiderChart.prototype.drawSpiderWebs=function(){this.drawSpiderArms(),"polygon"==this.m_charttype?this.drawPolygonWeb():"circle"==this.m_charttype&&this.drawCircularWeb(),this.drawCategoryMarking(),this.drawSeriesMarking(),this.drawSeries(),IsBoolean(this.getShowPoint())&&this.drawPoint()},SpiderChart.prototype.drawObject=function(){this.drawSVGObject()},SpiderChart.prototype.drawTitle=function(){this.m_title.draw()},SpiderChart.prototype.drawSubTitle=function(){this.m_subTitle.draw()},SpiderChart.prototype.drawChartFrame=function(){this.m_chartFrame.drawSVGFrame(),this.getBGGradientColorToContainer()},SpiderChart.prototype.getBGGradientColorToContainer=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","defs");t.setAttribute("id","defsElement"+this.m_objectid),$("#"+this.svgContainerId).append(t)},SpiderChart.prototype.initializeCalculation=function(){this.m_categoryData=this.updateCategoryData(this.m_categoryData),this.m_seriesData=this.updateSeriesData(this.m_seriesData),this.m_spiderChartCalculation.init(this,this.m_categoryData,this.m_seriesData),this.m_yAxis.init(this,this.m_spiderChartCalculation)},SpiderChart.prototype.updateSeriesData=function(t){this.m_displaySeriesDataFlag=[];for(var e=0;e<t.length;e++){this.m_displaySeriesDataFlag[e]=[];for(var i=0;i<t[e].length;i++)this.m_displaySeriesDataFlag[e][i]=!0,isNaN(t[e][i])&&(this.m_displaySeriesDataFlag[e][i]=!1,t[e][i]=getNumericComparableValue(t[e][i]))}return t},SpiderChart.prototype.updateCategoryData=function(t){var e=[];if(null!=t&&null!==t&&""!==t&&0!=t.length)for(var i=0;i<t[0].length;i++){e[i]=[];for(var r=0;r<t.length;r++)e[i][r]=t[r][i]}return e},SpiderChart.prototype.drawSpiderArms=function(){for(var t=this.m_spiderChartCalculation.getCenterX(),e=this.m_spiderChartCalculation.getCenterY(),i=0;i<this.m_spiderChartCalculation.m_numberOfArms;i++){var r=this.m_spiderChartCalculation.m_armXCordinates[i],a=this.m_spiderChartCalculation.m_armYCordinates[i],r=drawSVGLine(t,e,r,a,"0.5",this.m_axiscolor);$("#"+this.svgContainerId).append(r)}},SpiderChart.prototype.drawPolygonWeb=function(){this.createHorizontalLineGroup("polygonwebgrp");for(var t=this.m_spiderChartCalculation.m_markerTextArray.length;0<t;t--){for(var e="",i=this.m_spiderChartCalculation.m_armMarkerXCordinates[0][t],r=this.m_spiderChartCalculation.m_armMarkerXCordinates[0][t],a=this.m_spiderChartCalculation.m_armMarkerYCordinates[0][t],s=this.m_spiderChartCalculation.m_armMarkerYCordinates[0][t],o=1;o<this.m_spiderChartCalculation.m_numberOfArms;o++){var n=this.m_spiderChartCalculation.m_armMarkerXCordinates[o][t],h=this.m_spiderChartCalculation.m_armMarkerYCordinates[o][t];1==o?e+="M"+i+","+a+"L"+n+","+h:o==this.m_spiderChartCalculation.m_armMarkerXCordinates.length-1?e+="L"+n+","+h+"L"+r+","+s:e+="L"+n+","+h}var l=document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttribute("d",e),"fill"===this.m_spiderwebstyle?t%2==0?l.setAttribute("style","stroke-width:0.3px; stroke:"+convertColorToHex(this.m_axiscolor)+"; fill:"+hex2rgb("#ffffff","1")+";"):l.setAttribute("style","stroke-width:0.3px; stroke:"+convertColorToHex(this.m_axiscolor)+"; fill:"+hex2rgb(this.m_axiscolor,"0.1")+";"):l.setAttribute("style","stroke-width:0.3px; stroke:"+convertColorToHex(this.m_axiscolor)+"; fill:none;"),$("#polygonwebgrp"+this.m_objectid).append(l)}},SpiderChart.prototype.drawCircularWeb=function(){var t=this.m_spiderChartCalculation.getArmLength()/this.m_spiderChartCalculation.m_markerTextArray.length,e=this.m_spiderChartCalculation.getCenterX(),i=this.m_spiderChartCalculation.getCenterY();this.createHorizontalLineGroup("circularwebgrp");for(var r,a=this.m_spiderChartCalculation.m_markerTextArray.length;0<a;a--)r="fill"==this.m_spiderwebstyle?(r="#FFFFFF",a%2!=0&&(r=hex2rgb(convertColorToHex(this.m_axiscolor),.1)),drawSVGCircle(e,i,t*a,"0.4",r,convertColorToHex(this.m_axiscolor))):drawSVGCircle(e,i,t*a,"0.4","none",convertColorToHex(this.m_axiscolor)),$("#circularwebgrp"+this.m_objectid).append(r)},SpiderChart.prototype.drawCategoryMarking=function(){this.createXAxisMarkerLabelGroup("categorymark");for(var t=0;t<this.m_spiderChartCalculation.m_numberOfArms;t++){var e=""+this.m_categoryData[t],i=this.m_spiderChartCalculation.m_armXCordinatesForLabel[t],r=this.m_spiderChartCalculation.m_armYCordinatesForLabel[t];if(i==this.m_spiderChartCalculation.getCenterX()||i>=+this.m_spiderChartCalculation.getCenterX()-1&&i<=+this.m_spiderChartCalculation.getCenterX()+1){var a=this.m_width-15-15;if(a<this.ctx.measureText(e).width)for(var s=0;s<e.length;s++){var o=e.substring(0,e.length-s);if(a>this.ctx.measureText(o).width){e=o.substring(0,o.length-2)+"...";break}}i-=this.ctx.measureText(e).width/2}else if(i<this.m_spiderChartCalculation.getCenterX()){var n=i-+this.m_x-15;if(n<this.ctx.measureText(e).width)for(s=0;s<e.length;s++)if(o=e.substring(0,e.length-s),n>this.ctx.measureText(o).width){e=o.substring(0,o.length-2)+"...";break}i-=this.ctx.measureText(e).width}var h=convertColorToHex(this.m_xAxis.m_labelfontcolor),e=drawSVGText(i,r,e,h,"left","start","0");$("#categorymark"+this.m_objectid).append(e)}},SpiderChart.prototype.drawSeriesMarking=function(){this.createXAxisMarkerLabelGroup("seriesmark");for(var t=parseInt(this.m_spiderChartCalculation.getArmLength()/this.m_spiderChartCalculation.m_markerTextArray.length),e=this.m_spiderChartCalculation.m_markerTextArray,i=this.m_spiderChartCalculation.m_markerTextArray.length,r=[],a=0;a<i;a++){var s=e[a];s=this.getFormatterText(s,this.m_precision),r.push(s)}if(!isUniqueArray(r))for(var o=getDuplicatesFromArray(r),a=0;a<i;a++){var s=e[a],n=this.getFormatterText(s,this.m_precision);s="default"==this.m_precision&&"auto"==this.m_yAxis.m_secondaryUnitSymbol&&0<Object.keys(o).length?this.getFormatterText(s,1):n,r[a]=s}for(a=0;a<=i;a++){y1=+this.m_spiderChartCalculation.getCenterY()-t*a*Math.sin(Math.PI/2)+6,h=0==a?(y1=+this.m_spiderChartCalculation.getCenterY()-t*a*Math.sin(theta)+5,0):r[a-1];var h,l=this.m_spiderChartCalculation.getCenterX()-this.ctx.measureText(h).width-4,m=convertColorToHex(this.m_xAxis.m_labelfontcolor),s=drawSVGText(l,y1,getFormattedNumberWithCommas(h,this.m_numberformatter),m,"left","start","0");$("#seriesmark"+this.m_objectid).append(s)}},SpiderChart.prototype.drawSeries=function(){for(var t=0,e=0;e<this.m_seriesNames.length;e++)if(IsBoolean(this.m_seriesVisibleArr[this.m_seriesNames[e]])){var i,r=this.m_seriesColorsArray[e],a=this.m_spiderChartCalculation.m_seriesXCordinates[t][0],s=this.m_spiderChartCalculation.m_seriesYCordinates[t][0],o="";this.createStackGroup(this.m_spiderChartCalculation,"seriesgrp",t,this.m_seriesNames[e]);for(var n,h=0;h<this.m_spiderChartCalculation.m_seriesXCordinates[t].length-1;h++){var l=this.m_spiderChartCalculation.m_seriesXCordinates[t][h],m=this.m_spiderChartCalculation.m_seriesYCordinates[t][h],p=this.m_spiderChartCalculation.m_seriesXCordinates[t][h+1],d=this.m_spiderChartCalculation.m_seriesYCordinates[t][h+1];""!=l&&""!=m&&""!=p&&""!=d&&(0==h?o+="M"+l+","+m+"L"+p+","+d:h==this.m_spiderChartCalculation.m_seriesXCordinates[t].length-2?o+="L"+p+","+d+"L"+a+","+s:o+="L"+p+","+d)}null==(i=o)&&""==i||((n=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",i),n.setAttribute("style","stroke:"+r+"; stroke-width:0.5;fill:"+hex2rgb(r,this.m_plotTrasparencyArray[e])+";"),$("#seriesgrp"+t+this.m_objectid).append(n),t++)}},SpiderChart.prototype.drawPoint=function(){for(var t=0,e=0;e<this.m_seriesNames.length;e++)if(this.createShapeGroup("pointshape",e,this.m_seriesNames[e]),IsBoolean(this.m_seriesVisibleArr[this.m_seriesNames[e]])){for(var i=0;i<this.m_spiderChartCalculation.m_seriesXCordinates[t].length;i++){var r=this.m_spiderChartCalculation.m_seriesXCordinates[t][i],a=this.m_spiderChartCalculation.m_seriesYCordinates[t][i],s=this.m_seriesColorsArray[e],o=hex2rgb(s,this.m_plotTrasparencyArray[e]);hex2rgb(s,.4);switch(this.m_plotShapeArray[e]){case"cube":this.drawCube(e,i,+r,+a,+this.m_plotRadiusArray[e],o);break;case"cross":this.drawCross(e,i,+r,+a,+this.m_plotRadiusArray[e],o);break;case"quad":this.drawQuad(e,i,+r,+a,+this.m_plotRadiusArray[e],o);break;case"triangle":this.drawTriangle(e,i,+r,+a,+this.m_plotRadiusArray[e],o);break;case"point":this.drawCircle(e,i,+r,+a,+this.m_plotRadiusArray[e],o);break;case"polygon":this.drawPolygon(e,i,+r,+a,+this.m_plotRadiusArray[e],o);break;case"star":this.drawStar(e,i,+r,+a,+this.m_plotRadiusArray[e],o);break;case"default":this.drawCircle(e,i,+r,+a,+this.m_plotRadiusArray[e],o)}}t++}},SpiderChart.prototype.drawTriangle=function(t,e,i,r,a,s){var o=[s,"transparent"],i="M"+ +i+" "+(+r-+a)+" L"+(+i+ +a)+" "+(+r+ +a)+" L"+(+i-+a)+" "+(+r+ +a)+" L"+ +i+" "+(+r-+a),r=document.createElementNS(NS,"path"),i=(r.setAttribute("d",i),!!document.documentMode);if(IsBoolean(this.m_enableanimation)&&0<this.m_animationduration&&!i){var n=document.createElementNS(NS,"linearGradient");n.setAttribute("id","LinearGradient"+this.m_objectid+e+t);for(var h=0;h<2;h++){var l=document.createElementNS(NS,"stop"),m=(l.setAttribute("offset","0"),l.setAttribute("stop-color",o[h]),drawSVGStackAnimation(0,"offset",a,10*this.m_animationduration));$(l).append(m),$(l).attr("class","pointShapeColorAnimation"),$(n).append(l)}$("#defsElement"+this.m_objectid).append(n),s="url(#LinearGradient"+this.m_objectid+e+t+")",$(r).attr("class","timeSeries-pointShapeHighlighter")}r.setAttributeNS(null,"fill",s),r.setAttributeNS(null,"stroke",s),$("#pointshape"+t+this.m_objectid).append(r)},SpiderChart.prototype.drawQuad=function(t,e,i,r,a,s){var o=this,n=document.createElementNS(NS,"rect"),i=(n.setAttributeNS(null,"x",i-a),n.setAttributeNS(null,"y",r-a),n.setAttributeNS(null,"height",2*a),n.setAttributeNS(null,"width",2*a),n.setAttribute("transform","rotate(45 "+i+","+r+")"),n.setAttributeNS(null,"stroke",s),n.setAttributeNS(null,"fill",s),!!document.documentMode);IsBoolean(this.m_enableanimation)&&0<this.m_animationduration&&!i&&((r=document.createElementNS("http://www.w3.org/2000/svg","animate")).setAttribute("attributeName","height"),r.setAttribute("from","1"),r.setAttribute("to",2*a),r.setAttribute("dur",o.m_animationduration+"s"),$(n).append(r),$(n).attr("class","pointShapeAnimation"),n.addEventListener("mouseover",function(t){n.setAttributeNS(null,"height",2*a+o.m_hovershape),n.setAttributeNS(null,"width",2*a+o.m_hovershape),n.setAttributeNS(null,"opacity",.8)}),n.addEventListener("mouseout",function(){n.setAttributeNS(null,"height",2*a),n.setAttributeNS(null,"width",2*a),n.setAttributeNS(null,"opacity",o.m_plotTrasparencyArray[t])})),$("#pointshape"+t+this.m_objectid).append(n)},SpiderChart.prototype.drawCross=function(t,e,i,r,a,s){var o=[s,"transparent"],i="M"+(+i-+a)+" "+(+r-+a)+" L"+(+i+ +a)+" "+(+r+ +a)+" M"+(+i+ +a)+" "+(+r-+a)+" L"+(+i-+a)+" "+(+r+ +a),r=document.createElementNS(NS,"path"),i=(r.setAttribute("d",i),r.setAttributeNS(null,"stroke-width",3),!!document.documentMode);if(IsBoolean(this.m_enableanimation)&&0<this.m_animationduration&&!i){var n=document.createElementNS(NS,"linearGradient");n.setAttribute("id","LinearGradient"+this.m_objectid+e+t);for(var h=0;h<2;h++){var l=document.createElementNS(NS,"stop"),m=(l.setAttribute("offset","0"),l.setAttribute("stop-color",o[h]),drawSVGStackAnimation(0,"offset",a,10*this.m_animationduration));$(l).append(m),$(l).attr("class","pointShapeColorAnimation"),$(n).append(l)}$("#defsElement"+this.m_objectid).append(n),s="url(#LinearGradient"+this.m_objectid+e+t+")",$(r).attr("class","timeSeries-pointShapeHighlighter")}r.setAttributeNS(null,"fill",s),r.setAttributeNS(null,"stroke",s),$("#pointshape"+t+this.m_objectid).append(r)},SpiderChart.prototype.drawCube=function(t,e,i,r,a,s){var o=this,n=document.createElementNS(NS,"rect"),i=(n.setAttributeNS(null,"x",i-a),n.setAttributeNS(null,"y",r-a),n.setAttributeNS(null,"height",2*a),n.setAttributeNS(null,"width",2*a),n.setAttributeNS(null,"stroke",s),n.setAttributeNS(null,"fill",s),!!document.documentMode);IsBoolean(this.m_enableanimation)&&0<this.m_animationduration&&!i&&((r=document.createElementNS("http://www.w3.org/2000/svg","animate")).setAttribute("attributeName","width"),r.setAttribute("from","1"),r.setAttribute("to",2*a),r.setAttribute("dur",o.m_animationduration+"s"),$(n).append(r),$(n).attr("class","pointShapeAnimation"),n.addEventListener("mouseover",function(t){n.setAttributeNS(null,"height",2*a+o.m_hovershape),n.setAttributeNS(null,"width",2*a+o.m_hovershape),n.setAttributeNS(null,"opacity",.8)}),n.addEventListener("mouseout",function(){n.setAttributeNS(null,"height",2*a),n.setAttributeNS(null,"width",2*a),n.setAttributeNS(null,"opacity",o.m_plotTrasparencyArray[t])})),$("#pointshape"+t+this.m_objectid).append(n)},SpiderChart.prototype.drawCircle=function(t,e,i,r,a,s){var o=this,n=document.createElementNS("http://www.w3.org/2000/svg","circle"),i=(n.setAttributeNS(null,"cx",i),n.setAttributeNS(null,"cy",r),n.setAttributeNS(null,"r",a),n.setAttributeNS(null,"stroke",s),n.setAttributeNS(null,"fill",s),!!document.documentMode);IsBoolean(this.m_enableanimation)&&0<this.m_animationduration&&!i&&((r=document.createElementNS("http://www.w3.org/2000/svg","animate")).setAttribute("attributeName","r"),r.setAttribute("from","1"),r.setAttribute("to",a),r.setAttribute("dur",this.m_animationduration+"s"),$(n).append(r),$(n).attr("class","pointShapeAnimation"),n.addEventListener("mouseover",function(t){n.setAttributeNS(null,"r",+a+o.m_hovershape)}),n.addEventListener("mouseout",function(){n.setAttributeNS(null,"r",+a)})),$("#pointshape"+t+this.m_objectid).append(n)},SpiderChart.prototype.drawPolygon=function(t,e,i,r,a,s){for(var o=[s,"transparent"],n=2*Math.PI/6,h="M"+ +a+" 0",l=1;l<=6;l++)h+=" L"+a*Math.cos(n*l)+" "+a*Math.sin(n*l);var m=document.createElementNS(NS,"path"),i=(m.setAttribute("transform","translate("+i+","+r+")"),m.setAttribute("d",h),m.setAttributeNS(null,"stroke-width",3),!!document.documentMode);if(IsBoolean(this.m_enableanimation)&&0<this.m_animationduration&&!i){var p=document.createElementNS(NS,"linearGradient");p.setAttribute("id","LinearGradient"+this.m_objectid+e+t);for(l=0;l<2;l++){var d=document.createElementNS(NS,"stop"),u=(d.setAttribute("offset","0"),d.setAttribute("stop-color",o[l]),drawSVGStackAnimation(0,"offset",a,10*this.m_animationduration));$(d).append(u),$(d).attr("class","pointShapeColorAnimation"),$(p).append(d)}$("#defsElement"+this.m_objectid).append(p),s="url(#LinearGradient"+this.m_objectid+e+t+")",$(m).attr("class","timeSeries-pointShapeHighlighter")}m.setAttributeNS(null,"fill",s),m.setAttributeNS(null,"stroke",s),$("#pointshape"+t+this.m_objectid).append(m)},SpiderChart.prototype.drawStar=function(t,e,i,r,a,s){for(var o=i,n=r,h=a,l=a/2,m=Math.PI/2*3,i=o,r=n,p=Math.PI/5,d=[s,"transparent"],u="M"+ +o+" "+(n-l),c=0;c<5;c++)i=+o+Math.cos(m)*l,r=+n+Math.sin(m)*l,m=+m+p,u=(u+=" L"+i+" "+r)+" L"+(i=+o+Math.cos(m)*h)+" "+(r=+n+Math.sin(m)*h),m=+m+p;u+=" L"+o+" "+(n-l);var _=document.createElementNS(NS,"path"),C=(_.setAttribute("d",u),_.setAttributeNS(null,"stroke-width",3),!!document.documentMode);if(IsBoolean(this.m_enableanimation)&&0<this.m_animationduration&&!C){var g=document.createElementNS(NS,"linearGradient");g.setAttribute("id","LinearGradient"+this.m_objectid+e+t);for(c=0;c<2;c++){var y=document.createElementNS(NS,"stop"),S=(y.setAttribute("offset","0"),y.setAttribute("stop-color",d[c]),drawSVGStackAnimation(0,"offset",a,10*this.m_animationduration));$(y).append(S),$(y).attr("class","pointShapeColorAnimation"),$(g).append(y)}$("#defsElement"+this.m_objectid).append(g),s="url(#LinearGradient"+this.m_objectid+e+t+")",$(_).attr("class","timeSeries-pointShapeHighlighter")}_.setAttributeNS(null,"fill",s),_.setAttributeNS(null,"stroke",s),$("#pointshape"+t+this.m_objectid).append(_)},SpiderChart.prototype.getToolTipData=function(t,e){if(!IsBoolean(this.m_isEmptySeries)&&!IsBoolean(this.isEmptyCategory)&&IsBoolean(this.isVisibleSeries())&&IsBoolean("None"!==this.m_customtextboxfortooltip.dataTipType)){this.xPositionArr=this.m_spiderChartCalculation.m_seriesXCordinates,this.yAxisDataArray=this.m_spiderChartCalculation.m_seriesYCordinates;var i,r,a=this.m_spiderChartCalculation.getCenterX(),s=this.m_spiderChartCalculation.getCenterY(),o=this.m_spiderChartCalculation.getArmLength();if(a-o<=t&&t<=a+o&&e<=s+o&&s-o<=e){for(var n=0;n<this.xPositionArr.length;n++)for(var h=0;h<this.xPositionArr[n].length;h++)if(i=+this.m_plotRadiusArray[n],t<=+this.xPositionArr[n][h]+i&&t>=+this.xPositionArr[n][h]-i&&e<=+this.yAxisDataArray[n][h]+i&&e>=+this.yAxisDataArray[n][h]-i){if(r={},IsBoolean("Default"==this.m_customtextboxfortooltip.dataTipType)){r.cat="",r.data=new Array,r.cat=this.m_categoryData[h];for(var l,m,p=0,d=0;p<this.m_seriesData.length;p++)IsBoolean(this.m_seriesVisibleArr[this.m_seriesNames[p]])&&((l=[])[0]={color:this.m_seriesColorsArray[p],shape:this.legendMap[this.getSeriesNames()[p]].shape},l[1]=this.m_legendNames[p],m=(m=+this.m_seriesData[p][h])%1!=0&&"default"!==this.m_tooltipprecision?m.toFixed(this.m_tooltipprecision):+this.m_seriesData[p][h],m=this.getFormatterForToolTip(m),l[2]=m,r.data[d]=l,d++);r.highlightIndex=this.getDrillColor(t,e),IsBoolean(this.m_controlledtooltip)&&(r=this.updateTooltipData(r));break}r=this.getDataProvider()[n]}}else this.hideToolTip();return r}},SpiderChart.prototype.getDrillColor=function(t,e){if(!IsBoolean(this.m_isEmptySeries)&&!IsBoolean(this.isEmptyCategory)){this.xPositionArr=this.m_spiderChartCalculation.m_seriesXCordinates,this.yAxisDataArray=this.m_spiderChartCalculation.m_seriesYCordinates;var i,r=this.m_spiderChartCalculation.getCenterX(),a=this.m_spiderChartCalculation.getCenterY(),s=this.m_spiderChartCalculation.getArmLength();if(r-s<=t&&t<=r+s&&e<=a+s&&a-s<=e)for(var o=this.xPositionArr.length-1;0<=o;o--)for(var n=0;n<this.xPositionArr[o].length;n++)if(i=+this.m_plotRadiusArray[o],t<=+this.xPositionArr[o][n]+i&&t>=+this.xPositionArr[o][n]-i&&e<=+this.yAxisDataArray[o][n]+i&&e>=+this.yAxisDataArray[o][n]-i)return o}},SpiderChart.prototype.getFormatterText=function(t,e){var i=t;return i=IsBoolean(this.getFixedLabel())?i:this.m_yAxis.getFormattedText(t,e)},SpiderChart.prototype.getDrillDataPoints=function(t,e){if(!IsBoolean(this.m_isEmptySeries)&&!IsBoolean(this.isEmptyCategory)&&IsBoolean(this.isVisibleSeries())){this.mouseX=t,this.mouseY=e,this.xPositionArr=this.m_spiderChartCalculation.m_seriesXCordinates,this.yAxisDataArray=this.m_spiderChartCalculation.m_seriesYCordinates;var t=this.m_spiderChartCalculation.getCenterX(),e=this.m_spiderChartCalculation.getCenterY(),i=this.m_spiderChartCalculation.getArmLength();if(this.mouseX>=t-i&&this.mouseX<=t+i&&this.mouseY<=e+i&&this.mouseY>=e-i)for(var r=this.xPositionArr.length-1;0<=r;r--)for(var a=0;a<this.xPositionArr[r].length;a++){var s,o,n,h,l=+this.m_plotRadiusArray[r];if(this.mouseX<=+this.xPositionArr[r][a]+l&&this.mouseX>=+this.xPositionArr[r][a]-l&&this.mouseY<=+this.yAxisDataArray[r][a]+l&&this.mouseY>=+this.yAxisDataArray[r][a]-l)return l=this.getFieldNameValueMap(a),s=this.m_seriesColorsArray[r],o=this.visibleSeriesInfo.seriesName[r],n=this.visibleSeriesInfo.seriesDisplayName[r],h=l[o],l.drillField=o,l.drillDisplayField=n,l.drillValue=h,{drillRecord:l,drillColor:s}}}},SpiderChartCalculation.prototype.init=function(t,e,i){this.m_chart=t,this.m_globalCalculation=this.m_chart,this.m_categoryData=e,this.m_seriesData=this.m_chart.getVisibleSeriesData(i).seriesData,this.m_startX=this.m_globalCalculation.getStartX(),this.m_startY=this.m_globalCalculation.getStartY(),this.m_endX=this.m_globalCalculation.getEndX(),this.m_endY=this.m_globalCalculation.getEndY(),this.m_chartType=this.m_chart.getChartType(),this.setDrawHeight(),this.setDrawWidth(),this.calculateArmLength(),this.calculateCenterX(),this.calculateCenterY(),this.m_numberOfArms=e.length,this.m_angleBetweenArms=2*Math.PI/this.m_numberOfArms,this.calculateArmsEndCoordinates(),this.calculateArmsEndCoordinatesForCategoryLabel(),this.calculateMaxValue(),this.calculateArmMarkers(),this.calculateArmMarkersCoordinates(),this.setSeriesCoordinates()},SpiderChartCalculation.prototype.getDrawHeight=function(){return this.drawHeight},SpiderChartCalculation.prototype.setDrawHeight=function(){this.drawHeight=+this.m_startY-+this.m_endY},SpiderChartCalculation.prototype.getDrawWidth=function(){return this.drawWidth},SpiderChartCalculation.prototype.setDrawWidth=function(){this.drawWidth=+this.m_endX-+this.m_startX},SpiderChartCalculation.prototype.calculateArmLength=function(){this.m_armLength=(this.getDrawHeight()>=this.getDrawWidth()?this.getDrawWidth()/2:this.getDrawHeight()/2)-10},SpiderChartCalculation.prototype.getArmLength=function(){return this.m_armLength},SpiderChartCalculation.prototype.calculateCenterX=function(){this.m_centerX=+this.m_chart.m_x+this.getDrawWidth()/2*1},SpiderChartCalculation.prototype.getCenterX=function(){return this.m_centerX},SpiderChartCalculation.prototype.calculateCenterY=function(){this.m_centerY=this.m_endY+this.getDrawHeight()/2},SpiderChartCalculation.prototype.getCenterY=function(){return this.m_centerY},SpiderChartCalculation.prototype.calculateArmsEndCoordinates=function(){for(var t=1;t<=this.m_numberOfArms;t++){var e=this.m_angleBetweenArms*(t-1)+Math.PI/2*1,i=+this.getCenterX()+this.getArmLength()*Math.cos(e),e=+this.getCenterY()-this.getArmLength()*Math.sin(e);this.m_armXCordinates[t-1]=i,this.m_armYCordinates[t-1]=e}},SpiderChartCalculation.prototype.calculateArmsEndCoordinatesForCategoryLabel=function(){for(var t=+this.getArmLength()+this.m_chart.fontScaling(+this.m_chart.m_xAxis.m_labelfontsize)/2+2,e=1;e<=this.m_numberOfArms;e++)theta=this.m_angleBetweenArms*(e-1)+Math.PI/2*1,coordinateX=+this.getCenterX()+t*Math.cos(theta),coordinateY=+this.getCenterY()-t*Math.sin(theta),this.m_armXCordinatesForLabel[e-1]=coordinateX,this.m_armYCordinatesForLabel[e-1]=coordinateY},SpiderChartCalculation.prototype.calculateMaxValue=function(){for(var t=this.m_max=0;t<this.m_seriesData.length;t++){var e=this.calculateMax(this.m_seriesData[t]);+this.m_max<+e&&(this.m_max=e)}var i=10,r=(this.m_max<10?i=5:this.m_max<100?i=10:this.m_max<500?i=50:this.m_max<1e3?i=100:this.m_max<5e3?i=500:this.m_max<1e4&&(i=1e3),this.m_max%i);0<r&&(this.m_max=+this.m_max+(i-r))},SpiderChartCalculation.prototype.calculateMax=function(t){for(var e=isNaN(t[0])?0:t[0],i=1;i<t.length;i++)+e<+t[i]&&(e=t[i]);return e},SpiderChartCalculation.prototype.getMaxValue=function(){return this.m_max},SpiderChartCalculation.prototype.calculateArmMarkers=function(){this.m_markerTextArray=[];for(var t=0;t<this.m_numberOfMarkers;t++){var e=this.getMaxValue()/this.m_numberOfMarkers*(t+1);e%1!=0&&(e=e.toFixed(1)),this.m_markerTextArray[t]=e}},SpiderChartCalculation.prototype.calculateArmMarkersCoordinates=function(){this.m_armMarkerXCordinates=[],this.m_armMarkerYCordinates=[];for(var t=0;t<this.m_numberOfArms;t++){this.m_armMarkerXCordinates[t]=[],this.m_armMarkerYCordinates[t]=[];for(var e=0;e<=this.m_markerTextArray.length;e++){var i=this.getArmLength()/this.m_markerTextArray.length*e;theta=this.m_angleBetweenArms*t+Math.PI/2*1,coordinateX=+this.getCenterX()+i*Math.cos(theta),coordinateY=+this.getCenterY()-i*Math.sin(theta),this.m_armMarkerXCordinates[t][e]=coordinateX,this.m_armMarkerYCordinates[t][e]=coordinateY}}},SpiderChartCalculation.prototype.setSeriesCoordinates=function(){this.m_seriesXCordinates=[],this.m_seriesYCordinates=[];for(var t=this.getArmLength()/this.getMaxValue(),e=0;e<this.m_seriesData.length;e++){this.m_seriesXCordinates[e]=[],this.m_seriesYCordinates[e]=[];for(var i=0;i<this.m_seriesData[e].length;i++)armLength=t*(isNaN(this.m_seriesData[e][i])?0:this.m_seriesData[e][i]),theta=this.m_angleBetweenArms*i+Math.PI/2*1,coordinateX=+this.getCenterX()+armLength*Math.cos(theta),coordinateY=+this.getCenterY()-armLength*Math.sin(theta),this.m_seriesXCordinates[e][i]=coordinateX,this.m_seriesYCordinates[e][i]=coordinateY}};
//# sourceMappingURL=SpiderChart.min.js.map