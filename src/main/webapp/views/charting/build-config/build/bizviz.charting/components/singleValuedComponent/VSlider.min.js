/*! BDB Charting Library V10.0.0 (2025-08-14 11:37:12) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
function VSlider(t,e){this.base=Widget,this.base(),this.m_chartContainer=t,this.m_zIndex=e,this.m_showticks="",this.m_minimum="",this.m_snapinterval="",this.m_tickalpha="",this.m_labelfontfamily="",this.m_numberofticks="",this.m_labelcolor="",this.m_maximum="",this.m_globalkey="",this.m_chromecolor="",this.m_tickscolor="",this.m_fieldname="",this.m_labelfontstyle="",this.m_labelfontweight="",this.m_labelfontsize="",this.m_showmarkers="true",this.m_fieldNameValueMap=new Object,this.m_value,this.m_defaultvalue="0",this.m_objectID=[],this.m_componentid="",this.m_sliderId="",this.scaleHeight="10",this.m_scalewidth="10",this.m_handlecolor="#ff0000",this._handleColorOpacity="1",this.handleCenterX="20",this.handleCenterY="40",this.m_handleradius="10",this.scaleTopPadding="40",this._scaleRightPadding="20",this.scaleBottomPadding="40",this.scaleLeftPadding="20",this.containerOffsetTop=0,this.containerOffsetLeft=0,this.onValueChange=function(t){},this.unitFactor=0,this.m_cursortype="pointer",this.m_backgroundcolor="#FFFFFF",this.m_backgroundalpha=0,this.m_freezehandle=!1,this.m_handlecursor="move",this.m_unit="auto",this.m_enhancedVSlider="",this.m_circleshadowopacity=.5,this.m_dx=0,this.m_dy=3.5,this.stdDeviation=2.5,this.m_floodColor="#a3a3a3",this.m_scaleborder=5,this.m_scalebgcolor="#eff0f0"}VSlider.prototype=new Widget,VSlider.prototype.draw=function(){this.drawObject()},VSlider.prototype.drawObject=function(){this.init(),""!=this.m_onafterrendercallback&&onAfterRender(this.m_onafterrendercallback)},VSlider.prototype.setDataProvider=function(t){this.m_defaultvalue=t},VSlider.prototype.initializeDraggableDivAndCanvas=function(t,e){this.setDashboardNameAndObjectId(),this.createDraggableDiv(this.m_chartContainer,this.m_zIndex)},VSlider.prototype.getValue=function(){var t=this;if(isIE=!!document.documentMode){for(var e=$("#sliderHandle"+t.m_objectid).attr("transform").split(""),i="",o=0;o<e.length;o++)isNaN(+e[o])&&"."!==e[o]||(" "===e[o]?i="":i+=e[o]);var a=+i}else a=+$("#sliderHandle"+t.m_objectid).attr("transform").split(" ")[2];a=a*t.unitFactor+ +t.m_minimum;return+(a=this.m_snapinterval%1!=0?(0!=a%this.m_snapinterval&&(a=this.roundNumber(a,1)),this.checkNumberMuliplierOrNot(a)):Math.round(a))>t.m_maximum?t.m_maximum:a},VSlider.prototype.checkNumberMuliplierOrNot=function(t){var e,i=t,o=[],a=+this.m_minimum;if(i%this.m_snapinterval!=0){for(o.push(a);a<this.m_maximum;)a+=this.m_snapinterval,o.push(this.roundNumber(a,1));for(var l=0;l<o.length;l++)if(i<o[l]){e=l;break}var r=o[e-1],n=o[e],i=(r+n)/2<i?n:r;t>this.m_maximum&&(i=this.m_maximum)}return i},VSlider.prototype.roundNumber=function(t,e){e=Math.abs(parseInt(e))||0;e=Math.pow(10,e);return Math.round(t*e)/e},VSlider.prototype.setValue=function(t){var e,i=this;try{return e=i.getYCo(t),i.moveHandleTo(e),i.updateValue(e),!0}catch(t){return!1}},VSlider.prototype.updateValue=function(t){var e=this,i=e.m_width/2+1.1*e.fontScaling(+e.m_handleradius);2*e.fontScaling(+e.m_handleradius)<e.m_scalewidth&&(i+=(+e.m_scalewidth-2*e.fontScaling(+e.m_handleradius))/2),$("#sliderValue"+e.m_objectid).text(e.getValue()),$("#sliderValue"+e.m_objectid).attr({y:t+ +e.scaleTopPadding,x:i,visibility:"visible"})},VSlider.prototype.moveHandleTo=function(t){$("#sliderHandle"+this.m_objectid).attr({transform:"translate( 0, "+t+" )",visibility:"visible"})},VSlider.prototype.doStepFilter=function(t){var e=this,i=e.getValue(),o=e.getValueOf(t),i=Math.abs(i-o),a=o%+e.m_snapinterval;i>=+e.m_snapinterval&&(t=e.getYCo(o-=a),e.moveHandleTo(t),i=o/(+e.m_maximum-+e.m_minimum)*100,IsBoolean(this.m_enhancedVSlider)&&($("#initialVerticalValue"+e.m_objectid).attr({offset:i+"%"}),$("#handleVerticalPosValue"+e.m_objectid).attr({offset:i+"%"}),$("#differenceVerticalValue"+e.m_objectid).attr({offset:"100%"}),$("#sliderScale"+e.m_objectid).attr({stroke:"",style:"fill : url(#verticalScaleHighlight"+e.m_objectid+")"})),e.updateValue(t),e.m_defaultvalue=e.getValue(),e.m_value=e.getValue(),e.onValueChange(e.m_defaultvalue))},VSlider.prototype.calculateFromJson=function(){var t=this;t.setDashboardNameAndObjectId(),+t.m_width<50&&(t.m_width=50)},VSlider.prototype.initCalculation=function(){var t=this;t.initContainerOffset(),t.scaleLeftPadding=t.calculateAndGetScaleLeftPadding(),t.scaleHeight=t.m_height-(+t.scaleTopPadding+ +t.scaleBottomPadding),t.unitFactor=Math.abs(t.m_maximum-t.m_minimum)/t.scaleHeight,t.handleCenterX=t.m_width/2},VSlider.prototype.createComponent=function(t,e){this.m_handlecursor=IsBoolean(this.m_freezehandle)?"not-allowed":"move",this.m_cursortype=IsBoolean(this.m_freezehandle)?"default":this.m_cursortype;var i=this;$("#draggableDiv"+i.m_objectid).append('<svg id="slider'+i.m_objectid+'"><defs><filter id="verticalHandleShadow'+i.m_objectid+'" x="-0.07" y="-0.03"><feDropShadow id="dVerticalShadow'+i.m_objectid+'"/></filter><linearGradient id="verticalScaleHighlight'+i.m_objectid+'" x1="0" x2="0" y1="0" y2="1"><stop id="initialVerticalValue'+i.m_objectid+'"/><stop id="handleVerticalPosValue'+i.m_objectid+'"/><stop id="differenceVerticalValue'+i.m_objectid+'"/></linearGradient></defs><rect id="sliderBG'+i.m_objectid+'"></rect><rect id="sliderScale'+i.m_objectid+'" style="cursor:'+i.m_cursortype+'"></rect><circle id="sliderHandle'+i.m_objectid+'" style="cursor:'+i.m_handlecursor+'"></circle><text id="sliderValue'+i.m_objectid+'">'+(+i.m_defaultvalue+ +i.m_minimum)+'</text><text id="sliderMinValue'+i.m_objectid+'">'+t+'</text><text id="sliderMaxValue'+i.m_objectid+'">'+e+"</text></svg>"),this.setCSS()},VSlider.prototype.makeSlidable=function(){var o=this;o.m_updateflag=!0,o.m_designMode||("ontouchstart"in document.documentElement?$("#draggableDiv"+o.m_objectid).bind("touchstart",function(t){$("body").css("cursor",o.m_cursortype);var t=t.originalEvent.touches[0],e=$(this).offset().top-$(this)[0].scrollTop,t=t.pageY-e,e=+o.containerOffsetTop,i=+o.scaleHeight+e;e<=t&&t<=i&&(o.doStepFilter(t),IsBoolean(o.m_designMode)||o.getDataPointAndUpdateGlobalVariable())}).bind("touchend",function(){}):($("#sliderHandle"+o.m_objectid).on("mousedown",function(){$(document).on("mousemove",function(t){$("body").css("cursor",o.m_cursortype);var e=$("#WatermarkDiv").scrollTop();o.m_updateflag=!0;var t=+(+t.pageY+ +e>=+o.m_y?+t.pageY:+o.m_y+t.offsetY)-(+o.m_y+ +o.scaleTopPadding)-o.containerOffsetTop+ +e,e=+o.containerOffsetTop,i=e+ +o.scaleHeight;e<=t&&t<=i&&o.doStepFilter(t)}),$(document).on("mouseup",function(t){$(document).off("mousemove"),$("body").css("cursor","auto"),!IsBoolean(o.m_designMode)&&IsBoolean(o.m_updateflag)&&(o.getDataPointAndUpdateGlobalVariable(),o.m_updateflag=!1),$(document).off("mouseup"),$(document).off("mousemove")})}),$("#sliderHandle"+o.m_objectid).on("mouseup",function(t){$(document).off("mousemove"),$("body").css("cursor","auto");var e=$("#WatermarkDiv").scrollTop(),t=+(+t.pageY+ +e>=+o.m_y?+t.pageY:+o.m_y+t.offsetY)-(+o.m_y+ +o.scaleTopPadding)-o.containerOffsetTop+ +e,e=+o.containerOffsetTop,i=e+ +o.scaleHeight;e<=t&&t<=i&&(o.doStepFilter(t),!IsBoolean(o.m_designMode))&&IsBoolean(o.m_updateflag)&&(o.getDataPointAndUpdateGlobalVariable(),o.m_updateflag=!1),$(document).off("mouseup"),$(document).off("mousemove")}),$("#sliderScale"+o.m_objectid).on("click",function(t){var e=$("#WatermarkDiv").scrollTop(),t=+(+t.pageY+ +e>=+o.m_y?+t.pageY:+o.m_y+t.offsetY)-(+o.m_y+ +o.scaleTopPadding)-o.containerOffsetTop+ +e;o.doStepFilter(t),IsBoolean(o.m_designMode)||o.getDataPointAndUpdateGlobalVariable()})))},VSlider.prototype.getDataPointAndUpdateGlobalVariable=function(){var t;""!==this.m_value&&((t={})[""==this.m_fieldname||null==this.m_fieldname?"Value":this.m_fieldname]=void 0===this.m_value?this.m_minimum:this.m_value,this.updateDataPoints(t))},VSlider.prototype.init=function(){var t=this.m_util.getNumberSymbol("percent"),e="auto"==this.m_unit?this.textformatter(this.m_minimum):this.m_util.addUnitAssuffix(this.m_minimum,t),t="auto"==this.m_unit?this.textformatter(this.m_maximum):this.m_util.addUnitAssuffix(this.m_maximum,t);this.m_enhancedVSlider=this.chartJson.VSlider.enhancedVSlider,this.initcolors(),this.calculateFromJson(),this.initCalculation(),$("#slider"+this.m_objectid).remove(),this.createComponent(e,t),IsBoolean(this.m_freezehandle)||this.makeSlidable()},VSlider.prototype.initcolors=function(){this.m_labelcolor=convertColorToHex(this.m_labelcolor),this.m_chromecolor=convertColorToHex(this.m_chromecolor),this.m_handlecolor=convertColorToHex(this.m_handlecolor),this.m_alphaChromecolor=hex2rgb(this.m_chromecolor,.5);var t=convertColorToHex(this.m_tickscolor);this.m_tickscolor=hex2rgb(t,this.m_tickalpha)},VSlider.prototype.ParseJsonAttributes=function(t,e){for(var i in this.chartJson=t)if("VSlider"==i)for(var o in t[i])this.setAttributeValueToNode(o,t[i],e);else this.setAttributeValueToNode(i,t,e)},VSlider.prototype.setProperty=function(t){this.ParseJsonAttributes(t.Object,this),this.initCanvas()},VSlider.prototype.initCanvas=function(){$("#draggableDiv"+this.m_objectid).remove(),this.initializeDraggableDivAndCanvas()},VSlider.prototype.getSliderType=function(t){return Boolean(t.Object.HSlider)?"HSlider":"VSlider"},VSlider.prototype.initContainerOffset=function(){this.containerOffsetLeft=$(this.m_chartContainer)[0].offsetLeft,this.containerOffsetTop=$(this.m_chartContainer)[0].offsetTop},VSlider.prototype.calculateAndGetScaleTopPadding=function(){return this.m_height/2-this.scaleHeight/2},VSlider.prototype.calculateAndGetScaleLeftPadding=function(){return this.m_width/2-this.m_scalewidth/2},VSlider.prototype.getXCo=function(t){return t/this.unitFactor},VSlider.prototype.getYCo=function(t){return t/this.unitFactor},VSlider.prototype.setDashboardNameAndObjectId=function(){this.m_objectId=this.m_objectid,2==this.m_objectid.split(".").length&&(this.m_objectid=this.m_objectid.split(".")[1]),this.m_componentid="Parent"+this.m_objectid,this.m_sliderId=this.m_objectid},VSlider.prototype.getValueOf=function(t){return t*this.unitFactor},VSlider.prototype.setCSS=function(){var t=this,e=($("#draggableDiv"+t.m_objectid).css({"background-color":hex2rgb(convertColorToHex(this.m_backgroundcolor),this.m_backgroundalpha)}),$("#slider"+t.m_objectid).attr({width:t.m_width,height:t.m_height}),$("#sliderBG"+t.m_objectid).attr({width:t.m_width,height:t.m_height,x:"0",y:"0",fill:hex2rgb(convertColorToHex(t.m_backgroundcolor),t.m_backgroundalpha)}),$("#sliderScale"+t.m_objectid).attr({width:t.m_scalewidth,height:t.scaleHeight,rx:t.m_scaleborder,ry:t.m_scaleborder,x:t.scaleLeftPadding,y:t.scaleTopPadding,stroke:t.m_chromecolor,fill:t.m_chromecolor}),+t.m_defaultvalue+ +t.m_minimum),i=($("#sliderHandle"+t.m_objectid).attr({cx:t.handleCenterX,cy:t.handleCenterY,r:t.fontScaling(+t.m_handleradius),stroke:"gray","stroke-width":"1",fill:t.m_handlecolor,transform:"translate( 0, "+t.getYCo(t.m_defaultvalue)+" )",opacity:t._handleColorOpacity}),IsBoolean(this.m_enhancedVSlider)&&($("#sliderHandle"+t.m_objectid).attr({stroke:"#e3e3e3",style:"filter: url(#verticalHandleShadow"+t.m_objectid+")"}),$("#sliderScale"+t.m_objectid).attr({stroke:t.m_scalebgcolor,fill:t.m_scalebgcolor})),t.m_width/2+1.1*t.fontScaling(+t.m_handleradius));2*t.fontScaling(+t.m_handleradius)<t.m_scalewidth&&(i+=(+t.m_scalewidth-2*t.fontScaling(+t.m_handleradius))/2),$("#sliderValue"+t.m_objectid).attr({y:t.getYCo(t.m_defaultvalue)+ +t.scaleTopPadding,x:i,"font-size":t.fontScaling(+t.m_labelfontsize)+"px","font-family":selectGlobalFont(t.m_labelfontfamily),"font-weight":t.m_labelfontweight,"font-style":t.m_labelfontstyle,fill:t.m_labelcolor,display:"intial"}),(e<+t.m_minimum||e>+t.m_maximum)&&($("#sliderHandle"+t.m_objectid).attr({visibility:"hidden"}),$("#sliderValue"+t.m_objectid).attr({visibility:"hidden"})),IsBoolean(t.m_showticks)||$("#sliderValue"+t.m_objectid).attr({display:"none"}),$("#sliderMinValue"+t.m_objectid).attr({y:t.fontScaling(+t.scaleTopPadding-+t.m_handleradius-3),x:t.m_width/2,"font-size":t.fontScaling(+t.m_labelfontsize)+"px","font-family":selectGlobalFont(t.m_labelfontfamily),"font-weight":t.m_labelfontweight,"font-style":t.m_labelfontstyle,"text-anchor":"middle","alignment-baseline":"baseline",fill:t.m_labelcolor,display:IsBoolean(t.m_showmarkers)?"block":"none"}),$("#sliderMaxValue"+t.m_objectid).attr({y:+t.scaleTopPadding+ +t.scaleHeight+t.fontScaling(+t.m_handleradius)+3,x:t.m_width/2,"font-size":t.fontScaling(+t.m_labelfontsize)+"px","font-family":selectGlobalFont(t.m_labelfontfamily),"font-weight":t.m_labelfontweight,"font-style":t.m_labelfontstyle,"text-anchor":"middle","alignment-baseline":"hanging",fill:t.m_labelcolor,display:IsBoolean(t.m_showmarkers)?"block":"none"}),$("#dVerticalShadow"+t.m_objectid).attr({dx:t.m_dx,dy:t.m_dy,stdDeviation:t.m_stdDeviation,"flood-color":t.m_floodColor,"flood-opacity":t.m_circleshadowopacity}),$("#initialVerticalValue"+t.m_objectid).attr({style:"stop-opacity: 1; stop-color:"+t.m_chromecolor+";"}),$("#handleVerticalPosValue"+t.m_objectid).attr({style:"stop-opacity: 1; stop-color:"+t.m_scalebgcolor+";"}),$("#differenceVerticalValue"+t.m_objectid).attr({style:"stop-opacity: 1; stop-color:"+t.m_scalebgcolor+";"}),t.m_defaultvalue>t.m_minimum&&t.m_defaultvalue<=t.m_maximum&&IsBoolean(this.m_enhancedVSlider)&&(i=+t.m_defaultvalue/(+t.m_maximum-+t.m_minimum)*100,$("#initialVerticalValue"+t.m_objectid).attr({offset:i+"%"}),$("#handleVerticalPosValue"+t.m_objectid).attr({offset:i+"%"}),$("#differenceVerticalValue"+t.m_objectid).attr({offset:"100%"}),$("#sliderScale"+t.m_objectid).attr({stroke:"",style:"fill : url(#verticalScaleHighlight"+t.m_objectid+")"}))},VSlider.prototype.textformatter=function(t){return getNumberFormattedValue(t)},VSlider.prototype.enhanceVerticalSlider=function(){$("#sliderHandle"+this.m_objectid).attr({stroke:"#e3e3e3",style:"filter: url(#verticalHandleShadow"+this.m_objectid+")"}),$("#sliderScale"+this.m_objectid).attr({stroke:"#eff0f0",fill:"#eff0f0"})},VSlider.prototype.removeEnhancedVerticalSlider=function(){$("#sliderHandle"+this.m_objectid).attr({stroke:"gray",style:"none"}),$("#sliderScale"+this.m_objectid).attr({stroke:this.m_chromecolor,fill:this.m_chromecolor})};
//# sourceMappingURL=VSlider.min.js.map