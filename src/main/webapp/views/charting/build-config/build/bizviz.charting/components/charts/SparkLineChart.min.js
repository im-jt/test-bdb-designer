/*! BDB Charting Library V10.0.0 (2025-08-14 11:37:12) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
function SparkLineChart(t,e){this.base=Chart,this.base(),this.m_x=680,this.m_y=20,this.m_width=300,this.m_height=260,this.m_radius=2,this.m_showmaximizebutton=!1,this.finalData=[],this.m_showborder=!1,this.m_borderradius="1",this.m_borderthickness="1",this.m_lineSeries=[],this.m_colorNames=[],this.m_sparklinetype="line",this.m_linecolor="#0000f0",this.m_fillcolor="#c0d0f0",this.m_fillcoloropacity="1",this.m_lineWidth="1",this.m_spotcolor="#f08000",this.m_minspotcolor="#ff0000",this.m_maxspotcolor="#ff0000",this.m_highlightspotcolor="#ffaaaa",this.m_highlightlinecolor="#000000",this.m_spotradius="1",this.m_normalrangemin="undefined",this.m_normalrangemax="undefined",this.m_normalrangecolor="#c0c0c0",this.m_disabletooltips=!0,this.m_drawnormalontop="true",this.m_datalabel=!1,this.m_barcolor="#16A085",this.m_negbarcolor="#D24D57",this.m_zerobarcolor="#defedf",this.m_barzeroaxis=!0,this.m_barspacing="1",this.m_tristatebarspacing="1",this.m_tristateposbarcolor="#16A085",this.m_tristatenegbarcolor="#D24D57",this.m_tristatezerobarcolor="#defedf",this.m_fontfamily="Roboto",this.m_categoryNames=[],this.m_seriesNames=[],this.m_chartContainer=t,this.m_zIndex=e,this.m_autoaxissetup=!0,this.m_formater="Currency"}SparkLineChart.prototype=new Chart,SparkLineChart.prototype.setProperty=function(t){this.ParseJsonAttributes(t.Object,this),this.initCanvas()},SparkLineChart.prototype.ParseJsonAttributes=function(t,e){for(var i in this.chartJson=t)if("Chart"==i)for(var a in null==t[i].sparkLineType&&(t[i].sparkLineType=t[i].type,delete t[i].type),t[i])e[this.getNodeAttributeName(a)]=t[i][a];else e[this.getNodeAttributeName(i)]=t[i]},SparkLineChart.prototype.setDataProvider=function(t){this.m_dataProvider=t},SparkLineChart.prototype.getDataProvider=function(){return this.m_dataProvider},SparkLineChart.prototype.setFields=function(t){this.m_fieldsJson=t;for(var e=[],i=[],a=0;a<t.length;a++)switch(this.getProperAttributeNameValue(t[a],"Type")){case"Category":e.push(t[a]);break;case"Series":case"CalculatedField":i.push(t[a])}this.setCategory(e),this.setSeries(i)},SparkLineChart.prototype.setCategory=function(t){this.m_categoryNames=[],this.m_categoryDisplayNames=[],this.m_allCategoryNames=[],this.m_allCategoryDisplayNames=[],this.m_categoryVisibleArr={};for(var e=0,i=0;i<t.length;i++){this.m_allCategoryNames[i]=this.getProperAttributeNameValue(t[i],"Name");var a=this.formattedDescription(this,this.getProperAttributeNameValue(t[i],"DisplayName"));this.m_allCategoryDisplayNames[i]=a,this.m_categoryVisibleArr[this.m_allCategoryDisplayNames[i]]=this.getProperAttributeNameValue(t[i],"visible"),IsBoolean(this.m_categoryVisibleArr[this.m_allCategoryDisplayNames[i]])&&(this.m_categoryNames[e]=this.getProperAttributeNameValue(t[i],"Name"),this.m_categoryDisplayNames[e]=a,e++)}},SparkLineChart.prototype.setSeries=function(t){this.m_seriesNames=[],this.m_seriesDisplayNames=[],this.m_seriesColors=[],this.m_legendNames=[],this.m_seriesVisibleArr={},this.m_plotRadiusArray=[],this.m_plotTrasparencyArray=[],this.m_plotShapeArray=[],this.m_allSeriesDisplayNames=[],this.m_allSeriesNames=[];var e=0;this.legendMap={};for(var i=0;i<t.length;i++){var a=this.formattedDescription(this,this.getProperAttributeNameValue(t[i],"DisplayName"));this.m_allSeriesDisplayNames[i]=a,this.m_allSeriesNames[i]=this.getProperAttributeNameValue(t[i],"Name"),this.m_seriesVisibleArr[this.m_allSeriesNames[i]]=this.getProperAttributeNameValue(t[i],"visible"),IsBoolean(this.m_seriesVisibleArr[this.m_allSeriesNames[i]])&&(this.m_seriesDisplayNames[e]=a,this.m_seriesColors[e]=convertColorToHex(this.getProperAttributeNameValue(t[i],"Color")),this.m_legendNames[e]=a,this.m_seriesNames[e]=this.getProperAttributeNameValue(t[i],"Name"),a=this.getProperAttributeNameValue(t[i],"PlotRadius"),this.m_plotRadiusArray[e]=null!=a&&null!==a&&""!==a?a:2,a=this.getProperAttributeNameValue(t[i],"PlotTransparency"),this.m_plotTrasparencyArray[e]=null!=a&&null!==a&&""!==a?a:1,a=this.getProperAttributeNameValue(t[i],"PlotType"),this.m_plotShapeArray[e]=null!=a&&null!==a&&""!==a?a:"point",a={seriesName:this.m_seriesNames[e],displayName:this.m_seriesDisplayNames[e],color:this.m_seriesColors[e],shape:this.m_plotShapeArray[e],index:e},this.legendMap[this.m_seriesNames[e]]=a,e++)}},SparkLineChart.prototype.getAllSeriesNames=function(){return this.m_allSeriesNames},SparkLineChart.prototype.getAllCategoryNames=function(){return this.m_allCategoryNames},SparkLineChart.prototype.getCategoryNames=function(){return this.m_categoryNames},SparkLineChart.prototype.getCategoryDisplayNames=function(){return this.m_categoryDisplayNames},SparkLineChart.prototype.getSeriesNames=function(){return this.m_seriesNames},SparkLineChart.prototype.getSeriesDisplayNames=function(){return this.m_seriesDisplayNames},SparkLineChart.prototype.getSeriesColors=function(){return this.m_seriesColors},SparkLineChart.prototype.setSeriesColor=function(t){this.m_seriesColor=t},SparkLineChart.prototype.setLegendNames=function(t){this.m_legendNames=t},SparkLineChart.prototype.getLegendNames=function(){return this.m_legendNames},SparkLineChart.prototype.setCategoryData=function(){if(this.m_categoryData=[],this.isEmptyCategory=!0,0<this.getCategoryNames().length){this.isEmptyCategory=!1;for(var t=0,e=this.getCategoryNames().length;t<e;t++)this.m_categoryData[t]=this.getDataFromJSON(this.getCategoryNames()[t])}},SparkLineChart.prototype.getCategoryData=function(){return this.m_categoryData},SparkLineChart.prototype.setSeriesData=function(){this.m_seriesData=[];for(var t=0;t<this.getSeriesNames().length;t++)this.m_seriesData[t]=this.getDataFromJSON(this.getSeriesNames()[t])},SparkLineChart.prototype.getSeriesData=function(){return this.m_seriesData},SparkLineChart.prototype.setAllFieldsName=function(){this.m_allfieldsName=[];for(var t=0;t<this.getAllCategoryNames().length;t++)this.m_allfieldsName.push(this.getAllCategoryNames()[t]);for(var e=0;e<this.getAllSeriesNames().length;e++)this.m_allfieldsName.push(this.getAllSeriesNames()[e])},SparkLineChart.prototype.getAllFieldsName=function(){return this.m_allfieldsName},SparkLineChart.prototype.setAllFieldsDisplayName=function(){this.m_allfieldsDisplayName=[];for(var t=0;t<this.getCategoryDisplayNames().length;t++)this.m_allfieldsDisplayName.push(this.getCategoryDisplayNames()[t]);for(var e=0;e<this.getSeriesDisplayNames().length;e++)this.m_allfieldsDisplayName.push(this.getSeriesDisplayNames()[e])},SparkLineChart.prototype.getAllFieldsDisplayName=function(){return this.m_allfieldsDisplayName},SparkLineChart.prototype.init=function(){this.setCategoryData(),this.setSeriesData(),this.setAllFieldsName(),this.setAllFieldsDisplayName(),this.isSeriesDataEmpty(),this.setShowSeries(this.getAllFieldsName()),this.updateSeriesDataWithCommaSeperators(),this.m_chartFrame.init(this),this.initializeToolTipProperty()},SparkLineChart.prototype.initializeToolTipProperty=function(){""==this.m_customtextboxfortooltip?(this.m_customtextboxfortooltip={dataTipTypeArray:"",dataTipType:"Default",datatipData:""},IsBoolean(this.m_disabletooltips)||(this.m_customtextboxfortooltip.dataTipType="None")):""!=this.m_customtextboxfortooltip.dataTipTypeArray||IsBoolean(this.m_disabletooltips)||(this.m_customtextboxfortooltip.dataTipType="None"),"Default"==this.m_customtextboxfortooltip.dataTipType?this.m_disabletooltips=!0:this.m_disabletooltips=!1},SparkLineChart.prototype.updateSeriesDataWithCommaSeperators=function(){if(this.m_displaySeriesDataFlag=[],0<this.m_seriesData.length)for(var t=0;this.m_seriesData.length>t;t++){this.m_displaySeriesDataFlag[t]=[],this.finalData[t]=[];for(var e,i=0;i<this.m_seriesData[t].length;i++)this.m_displaySeriesDataFlag[t][i]=!0,isNaN(this.m_seriesData[t][i])?(this.m_displaySeriesDataFlag[t][i]=!1,this.m_seriesData[t][i]=getNumericComparableValue(this.m_seriesData[t][i]),isNaN(this.m_seriesData[t][i])||this.finalData[t].push(this.m_seriesData[t][i])):(e=this.m_seriesData[t][i],this.m_seriesData[t][i]=(""+e).replace(/\s+/g,""),""!==this.m_seriesData[t][i]&&void 0!==this.m_seriesData[t][i]&&this.finalData[t].push(this.m_seriesData[t][i]))}},SparkLineChart.prototype.isVisibleSeriesAvailable=function(){for(var t=0;t<this.getSeriesNames().length;t++)if(IsBoolean(this.m_seriesVisibleArr[this.m_seriesNames[t]]))return!0;return!1},SparkLineChart.prototype.drawChart=function(){this.m_chartFrame.drawFrame();var t=this.IsDrawingPossible();IsBoolean(t.permission)?this.drawSparkChart():($("#draggableCanvas"+this.m_objectid).show(),this.drawMessage(t.message))},SparkLineChart.prototype.drawObject=function(){this.ctx.clearRect(this.m_x,this.m_y,this.m_width,this.m_height),this.m_chartFrame.init(this),this.drawChartFrame(),this.drawMessage(this.m_status.noDataset)},SparkLineChart.prototype.IsDrawingPossible=function(){var t={};return IsBoolean(this.m_isEmptySeries)?IsBoolean(0<this.m_allSeriesDisplayNames.length)?IsBoolean(this.isVisibleSeries())?IsBoolean(this.m_isEmptySeries)&&(t={permission:"false",message:this.m_status.noData}):t={permission:"false",message:this.m_status.noSeries}:t={permission:"false",message:this.m_status.noFields}:t=IsBoolean(this.isVisibleSeries())?{permission:"true",message:this.m_status.success}:{permission:"false",message:this.m_status.noSeries},t},SparkLineChart.prototype.drawSparkChart=function(){var t,e,r=this,i=[],i=r.m_linecolor.split(","),a=($("#draggableDiv").remove(),$("#draggableCanvas"+r.m_objectid).hide(),$(".dynamicsparkline"+r.m_objectid).remove(),document.createElement("div")),s=(a.style.width=r.m_width+"px",a.style.height=r.m_height+"px",a.setAttribute("class","dynamicsparkline"+r.m_objectid),$("#draggableDiv"+r.m_objectid).append(a),!IsBoolean(r.m_disabletooltips)),o=hex2rgb(convertColorToHex(r.m_tooltipbackgroundcolor),r.m_tooltipbackgroundtransparency);if("line"==this.m_sparklinetype)for(var l=0;r.finalData.length>l;l++)i[l]=null==i[l]?i[0]:i[l],t=0!==l,$(".dynamicsparkline"+r.m_objectid).sparkline(r.finalData[l],{type:"line",lineColor:i[l],fillColor:hex2rgb(r.m_fillcolor,r.m_fillcoloropacity),space:!0,composite:t,showBorder:r.m_showborder,borderThickness:r.m_borderthickness,lineWidth:r.m_linewidth,gradColor:r.m_bggradients,alpha:r.m_bgalpha,gradRotation:r.m_bggradientrotation,spotColor:r.m_spotcolor,minSpotColor:r.m_minspotcolor,maxSpotColor:r.m_maxspotcolor,highlightSpotColor:r.m_highlightspotcolor,highlightLineColor:r.m_highlightlinecolor,spotRadius:r.m_spotradius,normalRangeMin:r.m_normalrangemin,normalRangeMax:r.m_normalrangemax,normalRangeColor:r.m_normalrangecolor,dataLabel:!r.m_designMode&&r.m_datalabel,disableTooltips:!!r.m_designMode||s,tooltipBackgroundColor:o,tooltipFontSize:r.m_tooltipfontsize,fieldName:r.m_allfieldsDisplayName[l],tooltipvisibility:"hidden",tooltipFormatter:function(t,e,i,a){return r.getToolTipFormat(t,e,i,a)},width:Math.round(r.m_width),height:Math.round(r.m_height)});else"bar"==this.m_sparklinetype?(e=(r.m_width-3)/r.finalData[0].length,$(".dynamicsparkline"+r.m_objectid).sparkline(r.finalData[0],{type:"bar",zeroAxis:r.m_barzeroaxis,zeroColor:r.m_zerobarcolor,barColor:r.m_barcolor,showBorder:r.m_showborder,borderThickness:r.m_borderthickness,negBarColor:r.m_negbarcolor,gradColor:r.m_bggradients,alpha:r.m_bgalpha,gradRotation:r.m_bggradientrotation,tooltipBackgroundColor:o,tooltipFontSize:r.m_tooltipfontsize,barSpacing:0<e-r.m_barspacing?r.m_barspacing:1,barWidth:0<e-r.m_barspacing?e-r.m_barspacing:e,disableTooltips:!!r.m_designMode||s,enableTagOptions:!0,fieldName:r.m_fieldsJson[0].DisplayName,tooltipvisibility:"hidden",tooltipFormatter:function(t,e,i,a){return r.getToolTipFormat(t,e,i[0],a)},width:Math.round(r.m_width),height:Math.round(r.m_height),chartRangeMin:IsBoolean(r.m_autoaxissetup)?void 0:r.m_minimumaxisvalue})):"tristate"==this.m_sparklinetype&&(e=(r.m_width-3)/r.finalData[0].length,$(".dynamicsparkline"+r.m_objectid).sparkline(r.finalData[0],{type:"tristate",posBarColor:r.m_tristateposbarcolor,negBarColor:r.m_tristatenegbarcolor,zeroBarColor:r.m_tristatezerobarcolor,showBorder:r.m_showborder,borderThickness:r.m_borderthickness,gradColor:r.m_bggradients,alpha:r.m_bgalpha,gradRotation:r.m_bggradientrotation,tooltipBackgroundColor:o,tooltipFontSize:r.m_tooltipfontsize,disableTooltips:!!r.m_designMode||s,fieldName:r.m_fieldsJson[0].DisplayName,tooltipvisibility:"hidden",barSpacing:0<e-r.m_tristatebarspacing?r.m_tristatebarspacing:1,barWidth:0<e-r.m_tristatebarspacing?e-r.m_tristatebarspacing:e,tooltipFormatter:function(t,e,i,a){return r.getToolTipFormat(t,e,i,a)},width:Math.round(r.m_width),height:Math.round(r.m_height)}));$(".dynamicsparkline"+r.m_objectid).bind("sparklineClick",function(t){var e,i,a,s,t=t.sparklines[0];t.getCurrentRegionFields();void 0!==t.currentRegion&&(t=r.getFieldNameValueMap(t.currentRegion),e=r.getSeriesNames()[0],i=r.getSeriesDisplayNames()[0],a=t[e],s="line"==r.m_sparklinetype?r.m_linecolor:"bar"==r.m_sparklinetype?0<a?r.m_barcolor:a<0?r.m_negbarcolor:r.m_barzeroaxis:0<a?r.m_tristateposbarcolor:a<0?r.m_tristatenegbarcolor:r.m_tristatezerobarcolor,t.drillField=e,t.drillDisplayField=i,t.drillValue=a,r.updateDataPoints(t,s))}),this.finalData=[]},SparkLineChart.prototype.getToolTipFormat=function(t,e,i,a){var s="",r=this.m_tooltipborderwidth+"px solid "+this.m_tooltipbordercolor,o=hex2rgb(convertColorToHex(this.m_tooltipbackgroundcolor),this.m_tooltipbackgroundtransparency),e="line"==e.userOptions.type?i.y:i.value,e=e%1!=0&&"default"!==this.m_tooltipprecision?e.toFixed(this.m_tooltipprecision):+e;return e=this.getFormattedData(e),0<this.m_categoryData.length?(0===a&&(s+='<table class=" chart-tooltip toolTip" style=\'visibility:visible;background:'+o+";width:"+this.m_customtooltipwidth+"px;border:"+r+";font-family:"+selectGlobalFont(this.m_fontfamily)+";'><tr><td colspan=\"4\" style='background:"+o+";border:"+r+";'><span style= width:auto;font-weight:bold;> "+this.m_categoryData[0][i.offset]+"</span></td></tr>"),s+="<tr><td style='background:"+o+";border:"+r+";'><span style= 'width:auto;margin-right:0px;color:"+i.color+";'>&#9679;</span>"+this.m_seriesDisplayNames[a]+"</td><td style='background:"+o+";border:"+r+";'><span style= width:auto;>"+e+"</span></td></tr>",a===this.m_seriesDisplayNames.length-1&&(s+="</table>")):1==this.m_seriesDisplayNames.length?s='<table class=" chart-tooltip toolTip" style=\'visibility:visible;background:'+o+";width:"+this.m_customtooltipwidth+"px;border:"+r+";font-family:"+selectGlobalFont(this.m_fontfamily)+";'><tr><td colspan=\"4\" style='background:"+o+";border:"+r+";'><span style= width:auto;font-weight:bold;> "+this.m_seriesDisplayNames[a]+"</span></td></tr><tr><td style='background:"+o+";border:"+r+";'><span style= 'width:auto;margin-right:0px;color:"+i.color+";'>&#9679;</span>"+e+"</td></tr></table>":(0===a&&(s+='<table class=" chart-tooltip toolTip" style=\'visibility:visible;background:'+o+";width:"+this.m_customtooltipwidth+"px;border:"+r+";font-family:"+selectGlobalFont(this.m_fontfamily)+";'>"),s+="<tr><td style='background:"+o+";border:"+r+";'><span style= 'width:auto;margin-right:0px;color:"+i.color+";'>&#9679;</span>"+this.m_seriesDisplayNames[a]+"</td><td style='background:"+o+";border:"+r+";'><span style= width:auto;>"+e+"</span></td></tr>",a===this.m_seriesDisplayNames.length-1&&(s+="</table>")),s},SparkLineChart.prototype.getFormattedData=function(t){var e=this.getFormater(),i=this.getUnit(),a="default"!==this.m_tooltipprecision?this.m_tooltipprecision:void 0!==(a=(t+"").split("."))[1]?a[1].length:0,t=this.getLocaleWithPrecision(t,a,this.m_numberformatter);return this.m_unitSymbol=this.m_util.getFormatterSymbol(e,i),"prefix"===this.m_signposition?this.m_unitSymbol+""+t:t+""+this.m_unitSymbol},SparkLineChart.prototype.initCanvas=function(){$("#draggableDiv"+this.m_objectid).remove(),this.initializeDraggableDivAndCanvas()},SparkLineChart.prototype.initializeDraggableDivAndCanvas=function(){this.setDashboardNameAndObjectId(),this.m_draggableDiv=this.createDraggableDiv(this.m_chartContainer,this.m_zIndex),this.createDraggableCanvas(this.m_draggableDiv),this.setCanvasContext(),this.initMouseMoveEvent(this.m_chartContainer),this.initMouseClickEvent()},SparkLineChart.prototype.getColorsForSeries=function(){return this.m_seriesColorsArray},SparkLineChart.prototype.drawChartFrame=function(){this.m_chartFrame.drawFrame()};
//# sourceMappingURL=SparkLineChart.min.js.map