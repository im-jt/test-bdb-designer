/*! BDB Charting Library V10.0.0 (2025-08-14 11:37:12) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
function ProjectTimelineChart(t,e){this.base=Chart,this.base(),this.m_chartContainer=t,this.m_zIndex=e,this.m_x=680,this.m_y=320,this.m_categoryData=[],this.m_seriesData=[],this.m_categoryNames=[],this.m_seriesNames=[],this.m_displaymilestones=[!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1],this.m_tdisplayname="Task1,Task2,Task3",this.m_tshape="rectangle,rectangle,chevron",this.m_tcolor="#E74C3C,#F7CA18,#36D343",this.m_msdisplayname="Milestone1,Milestone2,Milestone3",this.m_msshape="triangle,flag",this.m_mscolor="#e74c3c,#f7ca18,#36d343",this.m_msbelowpositioned="true,false,true",this.m_timelinescale="years",this.m_timebandcolor="#3f4e51",this.m_timebandtextcolor="#ffffff",this.m_displayyears="true",this.m_displayyearstextcolor="#ff531a",this.m_milestonefontcolor="#000000",this.m_milestonefontsize=12,this.m_milestonefontweight="normal",this.m_milestonefontfamily="Roboto",this.m_milestonefontstyle="normal",this.m_milestonetextdecoration="none",this.m_taskfontcolor="#000000",this.m_taskfontsize=12,this.m_taskfontweight="normal",this.m_taskfontfamily="Roboto",this.m_taskfontstyle="normal",this.m_tasktextdecoration="none",this.m_ProjectTitleCalculation=new ProjectTimelineCalculation,this.isValidStartEndDate=!0,this.timeline="",this.m_todaymarkerwidth=2,this.m_todaymarkercolor="#fefefe",this.m_minorlabelcolor="#999999",this.m_minorlabelbordercolor="#dddddd",this.m_taskfillopacity=.9,this.m_milestonefillopacity=0,this.m_taskitemoverflow=!0,this.m_contentalignment="auto",this.m_milestoneborderwidth=1,this.m_milestoneitemdefaultcolor="#000000",this.m_milestoneitemdefaultshape="circle",this.m_scrollableboxcolor="#000000",this.m_activeboxcolor="#30d635",this.m_axistoitemmargin=15,this.m_marginbetweenitem=5,this.m_clicktouse=!0,this.m_axislabelfontsize=12,this.m_axislabelfontweight="normal",this.m_axislabelfontstyle="normal",this.m_axislabelfontfamily="Roboto",this.m_axislabeltextdecoration="none",this.m_templatedateformat="dd MMM",this.m_mindatelimit=new Date(1950,1,1),this.m_maxdatelimit=new Date(2050,1,1),this.m_showminorlabels=!0,this.m_showmajorlabels=!0}function ProjectTimelineCalculation(){this.m_chart=""}ProjectTimelineChart.prototype=new Chart,ProjectTimelineChart.prototype.setProperty=function(t){this.ParseJsonAttributes(t.Object,this),this.initCanvas()},ProjectTimelineChart.prototype.ParseJsonAttributes=function(t,e){for(var i in t)if("Chart"==i)for(var s in t[i])switch(s){case"Title":for(var a in t[i][s]){var o=this.getNodeAttributeName(a);e.m_title[o]=t[i][s][a]}break;case"SubTitle":for(var l in t[i][s]){var o=this.getNodeAttributeName(l);e.m_subTitle[o]=t[i][s][l]}break;case"TaskDetails":for(var r in t[i][s])e[o=this.getNodeAttributeName(r)]=t[i][s][r];break;case"MileStoneDetails":for(var m in t[i][s])e[o=this.getNodeAttributeName(m)]=t[i][s][m];break;default:e[o=this.getNodeAttributeName(s)]=t[i][s]}else e[o=this.getNodeAttributeName(i)]=t[i]},ProjectTimelineChart.prototype.getDataProvider=function(){return this.m_dataProvider},ProjectTimelineChart.prototype.initCanvas=function(){$("#draggableDiv"+this.m_objectid).remove(),this.initializeDraggableDivAndCanvas()},ProjectTimelineChart.prototype.initializeDraggableDivAndCanvas=function(t,e){var i;this.setDashboardNameAndObjectId(),this.m_draggableDiv=this.createDraggableDiv(this.m_chartContainer,this.m_zIndex),this.createDraggableCanvas(this.m_draggableDiv),this.m_designMode?(i=this.createInnerDiv(this.m_draggableDiv),this.createVisTimeline(i)):this.createVisTimeline(this.m_draggableDiv),this.setCanvasContext(),this.initMouseClickEvent()},ProjectTimelineChart.prototype.createInnerDiv=function(t){var e=document.createElement("div"),e=(e.style.width="100%",e.style.height="100%",e.style.zIndex="3",e.style.top="0px",e.style.position="absolute",e.style.background="transparent",$(t).append(e),document.createElement("div"));return e.setAttribute("id","innerDiv"+this.m_objectid),e.style.height="100%",e.style.width="100%",e.style.top="0px",e.style.position="absolute",e.style.zIndex="2",$(t).append(e),e},ProjectTimelineChart.prototype.createVisTimeline=function(t){this.initializeToolTipProperty(),this.m_tooltip.init(this),this.timeline=new vis.Timeline(t),this.setTimelineEvents(this.timeline)},ProjectTimelineChart.prototype.setFields=function(t){for(var e=[],i=[],s=[],a=[],o=0,l=(this.m_fieldsJson=t).length;o<l;o++)switch(this.getProperAttributeNameValue(t[o],"Type")){case"Category":e.push(t[o]);break;case"Series":i.push(t[o]);break;case"startvalue":s.push(t[o]);break;case"endvalue":a.push(t[o]);break;default:i.push(t[o])}this.setCategory(e),this.setSeries(i),this.setStartValue(s),this.setEndValue(a)},ProjectTimelineChart.prototype.setCategory=function(t){this.m_categoryNames=[],this.m_categoryDisplayNames=[],this.m_allCategoryNames=[],this.m_allCategoryDisplayNames=[],this.m_categoryVisibleArr=[];for(var e=0,i=0;i<t.length;i++){this.m_allCategoryNames[i]=this.getProperAttributeNameValue(t[i],"Name");var s=this.formattedDescription(this,this.getProperAttributeNameValue(t[i],"DisplayName"));this.m_allCategoryDisplayNames[i]=s,this.m_categoryVisibleArr[this.m_allCategoryDisplayNames[i]]=this.getProperAttributeNameValue(t[i],"visible"),IsBoolean(this.m_categoryVisibleArr[this.m_allCategoryDisplayNames[i]])&&(this.m_categoryNames[e]=this.getProperAttributeNameValue(t[i],"Name"),this.m_categoryDisplayNames[e]=s,e++)}},ProjectTimelineChart.prototype.setSeries=function(t){this.m_seriesNames=[],this.m_seriesDisplayNames=[],this.m_seriesColors=[],this.m_legendNames=[],this.m_seriesVisibleArr=[],this.m_plotRadiusArray=[],this.m_plotTrasparencyArray=[],this.m_plotShapeArray=[],this.m_allSeriesDisplayNames=[],this.m_allSeriesNames=[];var e=0;this.legendMap={};for(var i=0;i<t.length;i++){var s=this.formattedDescription(this,this.getProperAttributeNameValue(t[i],"DisplayName"));this.m_allSeriesDisplayNames[i]=s,this.m_allSeriesNames[i]=this.getProperAttributeNameValue(t[i],"Name"),this.m_seriesVisibleArr[this.m_allSeriesNames[i]]=this.getProperAttributeNameValue(t[i],"visible"),IsBoolean(this.m_seriesVisibleArr[this.m_allSeriesNames[i]])&&(this.m_seriesDisplayNames[e]=s,this.m_seriesColors[e]=convertColorToHex(this.getProperAttributeNameValue(t[i],"Color")),this.m_legendNames[e]=s,this.m_seriesNames[e]=this.getProperAttributeNameValue(t[i],"Name"),s=this.getProperAttributeNameValue(t[i],"PlotRadius"),this.m_plotRadiusArray[e]=null!=s&&""!=s&&null!=s?s:2,s=this.getProperAttributeNameValue(t[i],"PlotTransparency"),this.m_plotTrasparencyArray[e]=null!=s?s:1,s=this.getProperAttributeNameValue(t[i],"PlotType"),this.m_plotShapeArray[e]=null!=s&&""!=s&&null!=s?s:"point",s={seriesName:this.m_seriesNames[e],displayName:this.m_seriesDisplayNames[e],color:this.m_seriesColors[e],shape:this.m_plotShapeArray[e],index:e},this.legendMap[this.m_seriesNames[e]]=s,e++)}},ProjectTimelineChart.prototype.setStartValue=function(t){this.m_allStartValueNames=[],this.m_startValueDisplayNames=[],this.m_startValueNames=[];for(var e=0;e<t.length;e++){this.m_allStartValueNames[e]=this.getProperAttributeNameValue(t[e],"Name");var i=this.getProperAttributeNameValue(t[e],"visible");IsBoolean(i)&&(this.m_startValueNames[e]=this.getProperAttributeNameValue(t[e],"Name"),i=this.formattedDescription(this,this.getProperAttributeNameValue(t[e],"DisplayName")),this.m_startValueDisplayNames[e]=i)}},ProjectTimelineChart.prototype.setEndValue=function(t){this.m_allEndValueNames=[],this.m_endValueDisplayNames=[],this.m_endValueNames=[];for(var e=0;e<t.length;e++){this.m_allEndValueNames[e]=this.getProperAttributeNameValue(t[e],"Name");var i=this.getProperAttributeNameValue(t[e],"visible");IsBoolean(i)&&(this.m_endValueNames[e]=this.getProperAttributeNameValue(t[e],"Name"),i=this.formattedDescription(this,this.getProperAttributeNameValue(t[e],"DisplayName")),this.m_endValueDisplayNames[e]=i)}},ProjectTimelineChart.prototype.getCategoryNames=function(){return this.m_categoryNames},ProjectTimelineChart.prototype.getCategoryDisplayNames=function(){return this.m_categoryDisplayNames},ProjectTimelineChart.prototype.getSeriesNames=function(){return this.m_seriesNames},ProjectTimelineChart.prototype.getAllSeriesNames=function(){return this.m_allSeriesNames},ProjectTimelineChart.prototype.getAllCategoryNames=function(){return this.m_allCategoryNames},ProjectTimelineChart.prototype.getSeriesDisplayNames=function(){return this.m_seriesDisplayNames},ProjectTimelineChart.prototype.getStartValueNames=function(){return this.m_startValueNames},ProjectTimelineChart.prototype.getAllStartValueNames=function(){return this.m_allStartValueNames},ProjectTimelineChart.prototype.getStartValueDisplayNames=function(){return this.m_startValueDisplayNames},ProjectTimelineChart.prototype.getEndValueNames=function(){return this.m_endValueNames},ProjectTimelineChart.prototype.getAllEndValueNames=function(){return this.m_allEndValueNames},ProjectTimelineChart.prototype.getEndValueDisplayNames=function(){return this.m_endValueDisplayNames},ProjectTimelineChart.prototype.init=function(){this.setCategoryData(),this.setStartValues(),this.setEndValues(),this.setSeriesData(),this.setAllFieldsName(),this.setAllFieldsDisplayName(),this.m_chartFrame.init(this),this.m_title.init(this),this.m_subTitle.init(this),IsBoolean(this.isEmptyCategory)||IsBoolean(this.m_isEmptyStartValue)&&IsBoolean(this.m_isEmptyEndValue)||this.initializeCalculation()},ProjectTimelineChart.prototype.drawChart=function(){var t,e=this;this.drawChartFrame(),this.drawTitle(),this.drawSubTitle(),IsBoolean(this.isValidStartEndDate)?(t=this.IsDrawingPossible(),IsBoolean(t.permission)?(this.timeline.setOptions(this.getOptions()),this.timeline.setData(this.getDataItems()),this.timeline.redraw(),this.timeline.fit(),window.setTimeout(function(){e.setTimelineItemCSS(),e.setTimelineCSS()},10)):this.drawMessage(t.message)):this.drawMessage(this.m_status.noData)},ProjectTimelineChart.prototype.IsDrawingPossible=function(){return IsBoolean(this.isEmptyCategory)?{permission:"false",message:this.m_status.noCategory}:IsBoolean(this.m_isEmptyStartValue)&&IsBoolean(this.m_isEmptyEndValue)?{permission:"false",message:this.m_status.noDate}:{permission:"true",message:this.m_status.success}},ProjectTimelineChart.prototype.setCategoryData=function(){if(this.m_categoryData=[],this.isEmptyCategory=!0,0<this.getCategoryNames().length){this.isEmptyCategory=!1;for(var t=0;t<this.getCategoryNames().length;t++)this.m_categoryData[t]=this.getDataFromJSON(this.getCategoryNames()[t])}},ProjectTimelineChart.prototype.setSeriesData=function(){this.m_seriesData=[],this.m_isEmptySeries=!0,IsBoolean(this.m_isEmptyStartValue)&&IsBoolean(this.m_isEmptyEndValue)||(this.m_isEmptySeries=!1,this.m_seriesData=this.m_categoryData)},ProjectTimelineChart.prototype.setStartValues=function(){this.m_startValues=[];if(this.m_isEmptyStartValue=!0,0<this.getStartValueNames().length){this.m_isEmptyStartValue=!1;for(var t=0;t<this.getStartValueNames().length;t++){var e=this.getDataFromJSON(this.getStartValueNames()[t]);this.m_startValues[t]=[];for(var i=0;i<e.length;i++){if(""===this.getFormatedDate(e[i])){this.m_status.noData="Date formate is not Proper!",this.isValidStartEndDate=!1;break}this.m_startValues[t][i]=this.getFormatedDate(e[i])}}}},ProjectTimelineChart.prototype.setEndValues=function(){if(this.m_endValues=[],this.m_isEmptyEndValue=!0,0<this.getEndValueNames().length){this.m_isEmptyEndValue=!1;for(var t=0;t<this.getEndValueNames().length;t++){var e=this.getDataFromJSON(this.getEndValueNames()[t]);this.m_endValues[t]=[];for(var i=0;i<e.length;i++)this.m_endValues[t][i]=this.getFormatedDate(e[i])}}},ProjectTimelineChart.prototype.getCategoryData=function(){return this.m_categoryData},ProjectTimelineChart.prototype.getSeriesData=function(){return this.m_seriesData},ProjectTimelineChart.prototype.getStartValues=function(){return this.m_startValues},ProjectTimelineChart.prototype.getEndValues=function(){return this.m_endValues},ProjectTimelineChart.prototype.getFullYear=function(t){return 50<+t?"19"+t:"20"+t},ProjectTimelineChart.prototype.getFullDayMonth=function(t){return 2==(""+t).length?t:"0"+t},ProjectTimelineChart.prototype.getFormatedDate=function(t){if(null==t)return"";var e,i="";switch(this.m_designMode?"mm/dd/yyyy":this.m_sourcedateformat){case"dd-mm-yy":3==(e=(""+t).split("-")).length&&this.getFullYear(e[2])<9999&&(i=e[1]+"/"+e[0]+"/"+this.getFullYear(e[2]));break;case"mm-dd-yy":3==(e=(""+t).split("-")).length&&this.getFullYear(e[2])<9999&&(i=e[0]+"/"+e[1]+"/"+this.getFullYear(e[2]));break;case"dd-mm-yyyy":3==(e=(""+t).split("-")).length&&(i=e[1]+"/"+e[0]+"/"+e[2]);break;case"mm-dd-yyyy":3==(e=(""+t).split("-")).length&&(i=e[0]+"/"+e[1]+"/"+e[2]);break;case"yyyy-mm-dd":3==(e=(""+t).split("-")).length&&(i=e[1]+"/"+e[2]+"/"+e[0]);break;case"dd/mm/yy":3==(e=(""+t).split("/")).length&&this.getFullYear(e[2])<9999&&(i=e[1]+"/"+e[0]+"/"+this.getFullYear(e[2]));break;case"mm/dd/yy":3==(e=(""+t).split("/")).length&&this.getFullYear(e[2])<9999&&(i=e[0]+"/"+e[1]+"/"+this.getFullYear(e[2]));break;case"dd/mm/yyyy":3==(e=(""+t).split("/")).length&&(i=e[1]+"/"+e[0]+"/"+e[2]);break;case"mm/dd/yyyy":3==(e=(""+t).split("/")).length&&(i=e[0]+"/"+e[1]+"/"+(+e[2]<=99?this.getFullYear(e[2]):e[2]));break;default:i=""}var s=i.split("/");return+s[0]<=12&&+s[1]<=31&&1700<=+s[2]?s[2]+"-"+this.getFullDayMonth(s[0])+"-"+this.getFullDayMonth(s[1]):""},ProjectTimelineChart.prototype.setAllFieldsName=function(){this.m_allfieldsName=[];for(var t=0;t<this.getAllCategoryNames().length;t++)this.m_allfieldsName.push(this.getAllCategoryNames()[t]);for(var e=0;e<this.getAllStartValueNames().length;e++)this.m_allfieldsName.push(this.getAllStartValueNames()[e]);for(e=0;e<this.getAllEndValueNames().length;e++)this.m_allfieldsName.push(this.getAllEndValueNames()[e]);for(e=0;e<this.getAllSeriesNames().length;e++)this.m_allfieldsName.push(this.getAllSeriesNames()[e])},ProjectTimelineChart.prototype.setAllFieldsDisplayName=function(){this.m_allfieldsDisplayName=[];for(var t=0;t<this.getCategoryDisplayNames().length;t++)this.m_allfieldsDisplayName.push(this.getCategoryDisplayNames()[t]);for(var e=0;e<this.getSeriesDisplayNames().length;e++)this.m_allfieldsDisplayName.push(this.getStartValueNames()[e]);for(e=0;e<this.getSeriesDisplayNames().length;e++)this.m_allfieldsDisplayName.push(this.getEndValueNames()[e]);for(e=0;e<this.getSeriesDisplayNames().length;e++)this.m_allfieldsDisplayName.push(this.getSeriesDisplayNames()[e])},ProjectTimelineChart.prototype.getAllFieldsName=function(){return this.m_allfieldsName},ProjectTimelineChart.prototype.getAllFieldsDisplayName=function(){return this.m_allfieldsDisplayName},ProjectTimelineChart.prototype.initializeCalculation=function(){this.setChartDrawingArea(),this.seperateTaskMilestones(),this.m_ProjectTitleCalculation.init(this)},ProjectTimelineChart.prototype.setStartX=function(){this.m_startX=+this.m_x},ProjectTimelineChart.prototype.setEndX=function(){this.m_endX=+this.m_startX+ +this.m_width},ProjectTimelineChart.prototype.setStartY=function(){this.m_startY=+this.m_y+this.m_height},ProjectTimelineChart.prototype.setEndY=function(){this.m_endY=+this.m_y+ +this.getMarginForTitle()+ +this.getMarginForSubTitle()},ProjectTimelineChart.prototype.getMarginForTitle=function(){return IsBoolean(this.getShowGradient())||IsBoolean(this.m_showmaximizebutton)||IsBoolean(this.getTitle().m_showtitle)?+this.getTitleBarHeight()+15:0},ProjectTimelineChart.prototype.seperateTaskMilestones=function(){this.m_taskDetails=[],this.m_milestoneDetails=[];for(var t=0,e=this.m_categoryData[0].length;t<e;t++)null==this.m_startValues[0]?null!=this.m_endValues[0]&&""!==this.m_endValues[0][t]&&this.m_milestoneDetails.push({name:this.m_categoryData[0][t],start:"",end:this.m_endValues[0][t],index:t,field:{start:"",end:this.getEndValueDisplayNames()[0]}}):null==this.m_endValues[0]?null!=this.m_startValues[0]&&""!==this.m_startValues[0][t]&&this.m_milestoneDetails.push({name:this.m_categoryData[0][t],start:this.m_startValues[0][t],end:"",index:t,field:{start:this.getStartValueDisplayNames()[0],end:""}}):""!==this.m_startValues[0][t]&&""!==this.m_endValues[0][t]?this.m_startValues[0][t]<this.m_endValues[0][t]&&this.m_taskDetails.push({name:this.m_categoryData[0][t],start:this.m_startValues[0][t],end:this.m_endValues[0][t],index:t,field:{start:this.getStartValueDisplayNames()[0],end:this.getEndValueDisplayNames()[0]}}):""===this.m_startValues[0][t]&&""===this.m_endValues[0][t]||this.m_milestoneDetails.push({name:this.m_categoryData[0][t],start:""!==this.m_startValues[0][t]?this.m_startValues[0][t]:"",end:""!==this.m_endValues[0][t]?this.m_endValues[0][t]:"",index:t,field:{start:""!==this.m_startValues[0][t]?this.getStartValueDisplayNames()[0]:"",end:""!==this.m_endValues[0][t]?this.getEndValueDisplayNames()[0]:""}});this.initializeMileStoneProperties(),this.initializeTaskProperties()},ProjectTimelineChart.prototype.initializeMileStoneProperties=function(){this.MileStoneDisplayNames=""!==this.m_msdisplayname?this.m_msdisplayname.split(","):[],this.MileStoneShapes=""!==this.m_msshape?this.m_msshape.split(","):[],this.MileStoneColors=""!==this.m_mscolor?this.m_mscolor.split(","):[],this.MileStonePositions=""!==this.m_msbelowpositioned?this.m_msbelowpositioned.split(","):[];for(var t=this.getMatchedUnMatchedMilestoneProperties(),e=0,i=0,s=this.m_milestoneDetails.length;e<s;e++){var a=this.getMatchedItemDetail(this.m_milestoneDetails[e].name,t.matched);a.matchflag?(this.m_milestoneDetails[e].shape=a.data.shape,this.m_milestoneDetails[e].color=a.data.color,this.m_milestoneDetails[e].position=a.data.position):0<t.unmatched.length?(this.m_milestoneDetails[e].shape=t.unmatched[i].data.shape,this.m_milestoneDetails[e].color=t.unmatched[i].data.color,this.m_milestoneDetails[e].position=t.unmatched[i].data.position,i==t.unmatched.length-1?i=0:i++):(this.m_milestoneDetails[e].shape="circle",this.m_milestoneDetails[e].color="#999999",this.m_milestoneDetails[e].position="true")}},ProjectTimelineChart.prototype.getMatchedUnMatchedMilestoneProperties=function(){for(var t={matched:[],unmatched:[]},e=0;e<this.MileStoneDisplayNames.length;e++){for(var i={matchflag:!1,data:{}},s=0;s<this.m_milestoneDetails.length;s++)this.m_milestoneDetails[s].name==this.MileStoneDisplayNames[e]&&(i.matchflag=!0);i.data.name=this.MileStoneDisplayNames[e],i.data.shape=this.MileStoneShapes[e],i.data.color=this.MileStoneColors[e],i.data.position=this.MileStonePositions[e],(i.matchflag?t.matched:t.unmatched).push(i)}return t},ProjectTimelineChart.prototype.getMatchedItemDetail=function(t,e){for(var i=0;i<e.length;i++)if(t==e[i].data.name)return e[i];return{matchflag:!1,data:{}}},ProjectTimelineChart.prototype.initializeTaskProperties=function(){this.TaskDisplayNames=""!==this.m_tdisplayname?this.m_tdisplayname.split(","):[],this.TaskShapes=""!==this.m_tshape?this.m_tshape.split(","):[],this.TaskColors=""!==this.m_tcolor?this.m_tcolor.split(","):[];for(var t=this.getMatchedUnMatchedTaskProperties(),e=0,i=0,s=this.m_taskDetails.length;e<s;e++){var a=this.getMatchedItemDetail(this.m_taskDetails[e].name,t.matched);a.matchflag?(this.m_taskDetails[e].shape=a.data.shape,this.m_taskDetails[e].color=a.data.color):0<t.unmatched.length?(this.m_taskDetails[e].shape=t.unmatched[i].data.shape,this.m_taskDetails[e].color=t.unmatched[i].data.color,i==t.unmatched.length-1?i=0:i++):(this.m_taskDetails[e].shape="rectangle",this.m_taskDetails[e].color="#999999")}},ProjectTimelineChart.prototype.getMatchedUnMatchedTaskProperties=function(){for(var t={matched:[],unmatched:[]},e=0;e<this.TaskDisplayNames.length;e++){for(var i={matchflag:!1,data:{}},s=0;s<this.m_taskDetails.length;s++)this.m_taskDetails[s].name==this.TaskDisplayNames[e]&&(i.matchflag=!0);i.data.name=this.TaskDisplayNames[e],i.data.shape=this.TaskShapes[e],i.data.color=this.TaskColors[e],(i.matchflag?t.matched:t.unmatched).push(i)}return t},ProjectTimelineChart.prototype.getDataItems=function(){for(var t=[],e=0;e<1;e++)t.push({id:"g1",content:"",subgroupOrder:function(t,e){return t.subgroupOrder-e.subgroupOrder}});for(var i=[],s=0,a=(this.colorMap={},this.m_milestoneborderwidth),o=0!==this.m_milestoneborderwidth?1:0,l="top"==this.m_axisorientation?+a+o+"px "+a+"px "+a+"px "+a+"px":a+"px "+a+"px "+(+a+o)+"px "+a+"px",e=0;e<this.m_milestoneDetails.length;e++){var r="color"+(n=convertColorToHex(this.m_milestoneDetails[e].color)).replace("#","-");this.colorMap[r]=n,i.push({group:"g1",subgroup:"sg1",subgroupOrder:0,id:"milestone"+s++,content:this.m_milestoneDetails[e].name,start:""!==this.m_milestoneDetails[e].start?this.m_milestoneDetails[e].start:this.m_milestoneDetails[e].end,type:"box",className:"milestone-item-"+this.m_milestoneDetails[e].shape+" "+r,style:"background:"+hex2rgb(n,this.m_milestonefillopacity)+"; border-width:"+l+"; border-color:"+n+"; color:"+convertColorToHex(this.m_milestonefontcolor)+"; font-size:"+this.m_milestonefontsize+"px; font-weight:"+this.m_milestonefontweight+"; font-family:"+selectGlobalFont(this.m_milestonefontfamily)+"; font-style:"+this.m_milestonefontstyle+"; text-decoration:"+this.m_milestonetextdecoration+"; "})}for(var s=0,m=0;m<this.m_taskDetails.length;m++){var n,r="color"+(n=convertColorToHex(this.m_taskDetails[m].color)).replace("#","-");this.colorMap[r]=n,i.push({group:"g1",subgroup:"sg1",subgroupOrder:0,id:"task"+s++,content:this.m_taskDetails[m].name,start:this.m_taskDetails[m].start,end:this.m_taskDetails[m].end,type:"range",className:"task-item-"+this.m_taskDetails[m].shape+" "+r,style:"background-color: "+hex2rgb(n,this.m_taskfillopacity)+"; color:"+convertColorToHex(this.m_taskfontcolor)+"; font-size:"+this.m_taskfontsize+"px; font-weight:"+this.m_taskfontweight+"; font-family:"+selectGlobalFont(this.m_taskfontfamily)+"; font-style:"+this.m_taskfontstyle+"; text-decoration:"+this.m_tasktextdecoration+"; "})}return{groups:t,items:i}},ProjectTimelineChart.prototype.getOptions=function(){var e=this;return{width:this.m_width-2+"px",height:this.m_startY-this.m_endY+"px",clickToUse:this.m_clicktouse,align:this.m_contentalignment,editable:!1,selectable:!1,zoomable:!this.m_designMode,moveable:!this.m_designMode,type:"point",maxMinorChars:7,showMinorLabels:IsBoolean(this.m_showminorlabels),showMajorLabels:IsBoolean(this.m_showmajorlabels),showCurrentTime:0<this.m_todaymarkerwidth,stack:!0,autoResize:!0,horizontalScroll:!0,verticalScroll:!1,min:this.m_mindatelimit,max:this.m_maxdatelimit,zoomMin:1296e6,zoomMax:31536e8,orientation:{axis:this.m_axisorientation,item:"both"==this.m_axisorientation?"bottom":this.m_axisorientation},margin:{axis:this.m_axistoitemmargin,item:{horizontal:this.m_marginbetweenitem,vertical:this.m_marginbetweenitem}},dataAttributes:["id","content","start","end","type"],hiddenDates:e.getHiddenDates(),template:function(t){return e.getMilestoneTaskTemplate(t)}}},ProjectTimelineChart.prototype.getMilestoneTaskTemplate=function(t){var e,i=new XDate(t.start.toLocaleDateString()).toString(this.m_templatedateformat);return t.end?(e=new XDate(t.end.toLocaleDateString()).toString(this.m_templatedateformat),"<span>"+t.content+" ( "+i+" - "+e+" )</span>"):"<span>"+t.content+" ( "+i+" )</span>"},ProjectTimelineChart.prototype.getHiddenDates=function(){return{}},ProjectTimelineChart.prototype.setTimelineEvents=function(t){var r;this.m_designMode||(r=this,t.on("click",function(t){if("ontouchstart"in document.documentElement)if(onMouseMove(r),null==singleClickTimer)singleClickTimer=setTimeout(function(){singleClickTimer=null,onMouseMove(r)},r.m_doubletaptimeout);else{var e={},i="";if(t&&null!=t.item){if(-1!=t.item.indexOf("milestone")){for(var s=t.item.split("milestone")[1],a=r.m_milestoneDetails[s].index,o=r.m_allfieldsName.length,l=0;l<o;l++)e[r.m_allfieldsName[l]]=r.getDataProvider()[a][r.m_allfieldsName[l]];i=r.m_milestoneDetails[s].color}else{s=t.item.split("task")[1],a=r.m_taskDetails[s].index;o=r.m_allfieldsName.length;for(l=0;l<o;l++)e[r.m_allfieldsName[l]]=r.getDataProvider()[a][r.m_allfieldsName[l]];i=r.m_taskDetails[s].color}r.updateDataPointsToGV({drillRecord:e,drillColor:i})}}else{e={},i="";if(t&&null!=t.item){if(-1!=t.item.indexOf("milestone")){for(s=t.item.split("milestone")[1],o=(a=r.m_milestoneDetails[s].index,r.m_allfieldsName.length),l=0;l<o;l++)e[r.m_allfieldsName[l]]=r.getDataProvider()[a][r.m_allfieldsName[l]];i=r.m_milestoneDetails[s].color}else{s=t.item.split("task")[1];a=r.m_taskDetails[s].index,o=r.m_allfieldsName.length;for(l=0;l<o;l++)e[r.m_allfieldsName[l]]=r.getDataProvider()[a][r.m_allfieldsName[l]];i=r.m_taskDetails[s].color}r.updateDataPointsToGV({drillRecord:e,drillColor:i})}}}),IsBoolean("None"!==this.m_customtextboxfortooltip.dataTipType)&&(t.on("itemover",function(t){pageX=t.event.pageX,pageY=t.event.pageY;var e,i,s,a={cat:"",data:[]};t&&null!=t.item?(-1!=t.item.indexOf("milestone")?(s=t.item.split("milestone")[1],a.cat=r.m_milestoneDetails[s].name,a.color=r.m_milestoneDetails[s].color,a.shape=r.m_milestoneDetails[s].shape,e=""!==r.m_milestoneDetails[s].field.start?r.m_milestoneDetails[s].field.start:r.m_milestoneDetails[s].field.end,i=""!==r.m_milestoneDetails[s].field.start?r.m_milestoneDetails[s].start:r.m_milestoneDetails[s].end,a.data.push([e,i])):(s=t.item.split("task")[1],a.cat=r.m_taskDetails[s].name,a.color=r.m_taskDetails[s].color,a.shape=r.m_taskDetails[s].shape,a.data.push([r.m_taskDetails[s].field.start,r.m_taskDetails[s].start]),a.data.push([r.m_taskDetails[s].field.end,r.m_taskDetails[s].end])),r.drawTooltipContent(a)):r.hideToolTip()}),t.on("itemout",function(t){r.hideToolTip()})),t.on("rangechanged",function(){r.setTimelineCSS()}))},ProjectTimelineChart.prototype.setTimelineItemCSS=function(){var a=this,i=this.m_draggableDiv;window.setTimeout(function(){for(var t in a.colorMap)$("#draggableDivStyle"+a.m_objectid+t).remove(),$("head").append('<style id="draggableDivStyle'+a.m_objectid+t+'" type="text/css">#draggableDiv'+a.m_objectid+" .vis-line."+t+" { border-right: "+a.m_milestoneborderwidth+"px solid "+a.colorMap[t]+";}");var e="top"==a.m_axisorientation||"none"==a.m_axisorientation?-15:-2;$(i).find(".vis-timeline").find(".vis-item.vis-dot").each(function(){var t=$(this).attr("class").split(/\s+/),i=convertColorToHex(a.m_milestoneitemdefaultcolor),s=($.each(t,function(t,e){-1!==e.indexOf("color-")&&(i=convertColorToHex(""+e.split("-")[1]))}),a.m_milestoneitemdefaultshape);$.each(t,function(t,e){-1!==e.indexOf("milestone-item-")&&(s=e.split("milestone-item-")[1])}),$(this).addClass("icons bd-"+s),$(this).css({color:i,"margin-left":"-7px","margin-top":e+"px"})})},10)},ProjectTimelineChart.prototype.setTimelineCSS=function(){var t=this,e=this.m_draggableDiv;$(e).find(".vis-timeline").css({position:"absolute",background:"transparent",left:"1px",top:this.m_endY+"px"}),$(e).find(".vis-timeline").find(".vis-current-time").css({"background-color":convertColorToHex(t.m_todaymarkercolor),width:t.m_todaymarkerwidth+"px"}),$(e).find(".vis-timeline").find(".vis-item").find(".vis-item-overflow").css({overflow:IsBoolean(t.m_taskitemoverflow)?"visible":"hidden"}),$(e).find(".vis-time-axis .vis-text").css({color:convertColorToHex(this.m_minorlabelcolor),"font-size":this.m_axislabelfontsize+"px","font-weight":this.m_axislabelfontweight,"font-style":this.m_axislabelfontstyle,"font-family":selectGlobalFont(this.m_axislabelfontfamily),"text-decoration":this.m_axislabeltextdecoration}),$(e).find(".vis-time-axis .vis-grid.vis-minor").css({"border-color":convertColorToHex(this.m_minorlabelbordercolor)}),$(e).find(".vis-time-axis .vis-grid.vis-major").css({"border-color":convertColorToHex(this.m_minorlabelbordercolor)}),$(e).find(".vis-active").css({"box-shadow":"0px 0px 2px 1px "+hex2rgb(t.m_activeboxcolor,.5)+" inset"}),$(e).find(".vis-panel .vis-shadow").css({"box-shadow":"0 0 5px 1px "+hex2rgb(t.m_scrollableboxcolor,.2)}),this.addCustomCSSToHead()},ProjectTimelineChart.prototype.addCustomCSSToHead=function(){this.m_draggableDiv},ProjectTimelineChart.prototype.drawChartFrame=function(){this.m_chartFrame.drawFrame()},ProjectTimelineChart.prototype.drawTitle=function(){this.m_title.draw()},ProjectTimelineChart.prototype.drawSubTitle=function(){this.m_subTitle.draw()},ProjectTimelineChart.prototype.getToolTipData=function(t,e){},ProjectTimelineChart.prototype.drawTooltipContent=function(t){this.m_tooltip.draw(t,this.m_componenttype)},ProjectTimelineChart.prototype.getDrillDataPoints=function(t,e){},ProjectTimelineCalculation.prototype.init=function(t){this.m_chart=t};
//# sourceMappingURL=ProjectTimelineChart.min.js.map