/*! BDB Charting Library V10.0.0 (2025-08-14 11:37:12) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
function DynamicDataGrid(t,e){this.base=DataGrid,this.base(),this.m_x=10,this.m_y=600,this.m_width=500,this.m_height=285,this.m_fitcolumns="true",this.m_displayNames=[],this.m_columnHeaderDataMap=new Object,this.m_timer=1,this.m_VTextSizeOnButton=20,this.m_DGFilterHeight=0,this.m_tabMargin=0,this.m_marginTop=0,this.m_marginLeft=0,this.m_totalmargin=0,this.m_colHeadersFieldName=[],this.m_gridheaderDisplayNames=[],this.m_gridFilterCondition="",this.m_selectedRow=0,this.m_isRowClicked=!1,this.m_isSorted=!1,this.m_objectID=[],this.m_componentid="",this.ctx="",this.m_subTitleHeight=0,this.m_titleHeight=0,this.fieldsData="",this.visibleFieldsData=[],this.m_chartContainer=t,this.m_zIndex=e,this.m_visibleArr=[],this.m_widthArr=[],this.m_textAlignArr=[],this.m_tooltipColumnsArr=[],this.m_numberFormatColumnsArr=[],this.m_isNumericArr=[],this.m_isFixedLabelArr=[],this.m_formatterArr=[],this.m_unitNameArr=[],this.m_signPositioneArr=[],this.m_precisionArr=[],this.m_secondFormatterArr=[],this.m_secondUnitNameArr=[],this.m_fieldType=[],this.m_hierarchyType=[],this.m_designModeDrawingFlag=!0,this.mappedData="",this.m_fieldAggregation=[],this.columnWiseData={},this.m_placeholdernavalue="&nbsp;",this.m_firstcolumnwidth="",this.m_slidermargin=15,this.m_scrollbarsize=7,this.m_collapseallnode=!1,this.m_rowopacity=.8,this.m_headerrowopacity=.6,this.m_rowhoveropacity=.4,this.m_rowselectedopacity=.6,this.m_rowlinesopacity=.8,this.m_enableheadertooltip=!1}DynamicDataGrid.prototype=new DataGrid,DynamicDataGrid.prototype.setProperty=function(t){this.ParseJsonAttributes(t.Object,this),this.initCanvas()},DynamicDataGrid.prototype.ParseJsonAttributes=function(t,e){for(var i in this.chartJson=t)if("DataGrid"==i)for(var r in t[i])switch(r){case"Title":for(var a in t[i][r]){var o=this.getNodeAttributeName(a);e.m_title[o]=t[i][r][a]}break;case"SubTitle":for(var s in t[i][r]){var o=this.getNodeAttributeName(s);e.m_subTitle[o]=t[i][r][s]}break;case"LinkButton":for(var l in t[i][r]){var o=this.getNodeAttributeName(l);e.m_linkbutton[o]=t[i][r][l]}break;case"Column":for(var d in t[i][r]){o=this.getNodeAttributeName(d);e.m_column[o]=t[i][r][d]}break;case"DatagridStyles":for(var n in t[i][r]){o=this.getNodeAttributeName(n);e.m_datagridstyles[o]=t[i][r][n]}break;case"RowData":for(var h in t[i][r]){o=this.getNodeAttributeName(h);e.m_rowdata[o]=t[i][r][h]}break;case"LinkBar":for(var m in t[i][r]){o=this.getNodeAttributeName(m);e.m_linkbar[o]=t[i][r][m]}break;case"Alerts":for(var g in t[i][r])if("AlertColumn"==g)for(var g=t[i][r],c=this.getArrayOfSingleLengthJson(g.AlertColumn),p=0;p<c.length;p++){var u,f=new AlertColumn,_=(e.m_alerts.setAlertColumns(f),this.getProperAttributeNameValue(c[p],"name"));for(u in this.m_alertObj[_]=f,c[p])this.setAttributeValueToNode(u,c[p],f)}break;default:"m_title"!=(o=this.getNodeAttributeName(r))&&(e[o]=t[i][r])}else e[o=this.getNodeAttributeName(i)]=t[i]},DynamicDataGrid.prototype.getDataProvider=function(){return this.m_dataProvider},DynamicDataGrid.prototype.setFields=function(t){this.m_fieldsJson=t,this.setSeries(t)},DynamicDataGrid.prototype.setSeries=function(t){this.fieldsData=t,this.m_fieldName=[],this.m_colHeadersFieldName=[],this.m_gridheaderDisplayNames=[],this.m_fieldType={},this.m_visibleArr=[],this.m_widthArr={},this.m_textAlignArr={},this.m_tooltipColumnsArr=[],this.m_numberFormatColumnsArr=[],this.m_cellTypeArr=[],this.m_hierarchyType={},this.m_isNumericArr=[],this.m_isFixedLabelArr={},this.m_fieldColors={},this.m_formatterArr={},this.m_unitNameArr={},this.m_signPositioneArr={},this.m_precisionArr={},this.m_secondFormatterArr={},this.m_secondUnitNameArr={},this.visibleFieldsData={},this.m_fieldAggregation={},this.m_visibleValueFields={},this.m_seriesVisibleArr={},this.legendMap={},this.m_TooltipFieldsArr={};for(var e=0,i=0;i<t.length;i++){var r=this.getProperAttributeNameValue(t[i],"fieldname"),a=(this.getProperAttributeNameValue(t[i],"visible"),this.m_fieldName[i]=r,this.m_colHeadersFieldName[e]=this.getProperAttributeNameValue(t[i],"fieldname"),this.formattedDescription(this,this.getProperAttributeNameValue(t[i],"displayname"))),a=(this.m_gridheaderDisplayNames[e]=a,this.m_fieldType[r]=this.getProperAttributeNameValue(t[i],"Type"),this.m_visibleArr[e]=this.getProperAttributeNameValue(t[i],"visible"),this.m_seriesVisibleArr[r]=this.getProperAttributeNameValue(t[i],"visible"),this.m_widthArr[r]=this.getProperAttributeNameValue(t[i],"width"),this.m_textAlignArr[r]=this.getProperAttributeNameValue(t[i],"textAlign"),this.m_tooltipColumnsArr.push(this.getProperAttributeNameValue(t[i],"showTooltip")),this.m_hierarchyType[r]=this.getProperAttributeNameValue(t[i],"hierarchyType"),this.getProperAttributeNameValue(t[i],"cellType")),o=this.getProperAttributeNameValue(t[i],"numberFormatter"),o=(null==a&&(a=IsBoolean(t[i].isNumeric)?"Numeric":"none"),this.m_cellTypeArr[e]=a,this.m_isNumericArr[e]=a,this.m_numberFormatColumnsArr[e]=null==o?"none":o,this.m_isFixedLabelArr[r]=this.getProperAttributeNameValue(t[i],"isfixedlabel"),this.m_formatterArr[r]=this.getProperAttributeNameValue(t[i],"formatter"),this.m_unitNameArr[r]=this.getProperAttributeNameValue(t[i],"unitname"),this.m_signPositioneArr[r]=this.getProperAttributeNameValue(t[i],"signposition"),this.m_precisionArr[r]=this.getProperAttributeNameValue(t[i],"precision"),this.m_secondFormatterArr[r]=this.getProperAttributeNameValue(t[i],"secondformatter"),this.m_secondUnitNameArr[r]=this.getProperAttributeNameValue(t[i],"secondunitname"),this.visibleFieldsData[r]=t[i],this.m_fieldAggregation[r]=this.getProperAttributeNameValue(t[i],"parentAggregation"),this.m_fieldColors[this.getStringARSC(r)]=this.getProperAttributeNameValue(t[i],"Color"),"Values"==this.m_fieldType[r]&&(this.m_visibleValueFields[this.m_colHeadersFieldName[e]]=this.getProperAttributeNameValue(t[e],"visible"),a=void 0!==this.getProperAttributeNameValue(t[i],"tooltipField")&&""!==this.getProperAttributeNameValue(t[i],"tooltipField")?this.getProperAttributeNameValue(t[i],"tooltipField"):this.m_colHeadersFieldName[e],this.m_TooltipFieldsArr[this.m_colHeadersFieldName[e]]=a.split(",")),{seriesName:this.m_colHeadersFieldName[e],displayName:this.m_gridheaderDisplayNames[e],width:this.m_widthArr[r],textAlign:this.m_textAlignArr[r],toolTipColumn:this.m_tooltipColumnsArr[i],numeric:this.m_isNumericArr[r],cellType:this.m_cellTypeArr[e],numberFormatter:this.m_numberFormatColumnsArr[e],fixedLabel:this.m_isFixedLabelArr[r],formatter:this.m_formatterArr[r],unitName:this.m_unitNameArr[r],signPosition:this.m_signPositioneArr[r],precision:this.m_precisionArr[r],secondFormatter:this.m_secondFormatterArr[r],secondUnitName:this.m_secondUnitNameArr[r],fieldType:this.m_fieldType[r],index:e});this.legendMap[r]=o,e++}this.setLegendsIntialLoad(this.m_defaultlegendfields)},DynamicDataGrid.prototype.getLegendInfo=function(){var t,e={};for(t in this.legendMap)"Values"==this.legendMap[t].fieldType&&(e[t]=this.legendMap[t]);return e},DynamicDataGrid.prototype.initCanvas=function(){$("#draggableDiv"+this.m_objectid).remove(),this.initializeDraggableDivAndCanvas()},DynamicDataGrid.prototype.initializeDraggableDivAndCanvas=function(){this.setDashboardNameAndObjectId(),this.m_draggableDiv=this.createDraggableDiv(this.m_chartContainer,this.m_zIndex),this.createDraggableCanvas(this.m_draggableDiv),this.setCanvasContext(),this.initMouseMoveEvent(this.m_chartContainer),this.initMouseClickEvent()},DynamicDataGrid.prototype.setDashboardNameAndObjectId=function(){this.m_objectId=this.m_objectid,2==this.m_objectid.split(".").length&&(this.m_objectid=this.m_objectid.split(".")[1]),this.m_componentid="dataGridDiv"+this.m_objectid},DynamicDataGrid.prototype.getDataFromJSON=function(){for(var t=[],e=[],i=this.getColumnOriginalFieldName().map(function(t){return this.getStringARSC(t)}),r=0,a=this.getDataProvider().length;r<a;r++){var o,s,l={};for(o in this.getDataProvider()[r])l[o]=this.getDataProvider()[r][o];for(s in e.push(l),t[r]=null==e[r]||"undefined"==e[r]?"":e[r],t[r]){var d=t[r][s],n=(delete t[r][s],this.getStringARSC(s));t[r][n]=d}if(!IsBoolean(this.m_enableheadertooltip))for(var h=0;h<i.length;h++){var m=""+t[r][i[h]];t[r][i[h]]=m.replace(/\//g,"-")}}return t},DynamicDataGrid.prototype.init=function(){if(this.m_chartFrame.init(this),this.m_title.init(this),this.m_subTitle.init(this),this.m_seriesData=this.getDataFromJSON(),this.isSeriesDataEmpty(),this.isEmptyField(),this.isVisibleField(),void 0===this.m_fieldName)throw new Error("m_fieldName is undefined");this.updateGlobalVariableWithColumnData(),IsBoolean(this.m_isEmptySeries)?$("#"+this.m_componentid).remove():this.createDatagrid()},DynamicDataGrid.prototype.isVisibleField=function(){if(this.m_isVisibleField=!0,IsBoolean(this.m_fieldName))for(var t=0;t<this.m_fieldName.length;t++)if("Values"==this.m_fieldType[this.m_fieldName[t]]&&IsBoolean(this.m_seriesVisibleArr[this.m_fieldName[t]])){this.m_isVisibleField=!1;break}},DynamicDataGrid.prototype.updateGlobalVariableWithColumnData=function(){var t,e=this;""!=e.getGlobalKey()&&""!=e.m_dashboard&&null!=e.m_dashboard&&""!=(t=e.m_dashboard.getGlobalVariable())&&null!=t&&null!=(t=t.map[e.getGlobalKey()])&&(t.updateDefaultValueArrayMap(this.m_columnHeaderDataMap),t.notifyDynamicalyUpdateComponents())},DynamicDataGrid.prototype.createDatagrid=function(){var t,e,i=this;this.m_titleHeight=IsBoolean(this.m_title.m_showtitle)||IsBoolean(this.m_showgradient)||IsBoolean(this.m_showmaximizebutton)?this.m_title.m_titleBarHeight:0,this.m_subTitleHeight=IsBoolean(this.m_subTitle.m_showsubtitle)&&""!=this.m_subTitle.getDescription()?IsBoolean(this.m_enablehtmlformate.subtitle)?((this.m_subTitle.getDescription().match(/<br\s*\/?>/g)||[]).length+1)*this.m_subTitle.getFontSize()*1.5:this.m_subTitle.m_formattedDescription.length*this.m_subTitle.getFontSize()*1.5:0,this.m_designModeDrawingFlag&&($("#"+i.m_componentid).remove(),(t=document.createElement("div")).setAttribute("id",this.m_componentid),$("#draggableDiv"+i.m_objectid).append(t),(e=document.createElement("table")).setAttribute("id","datagridTable"+this.m_objectid),$("#draggableDiv"+i.m_objectid).append(e),t.appendChild(e)),$("#"+i.m_componentid).css({top:+this.m_y+ +this.m_titleHeight+ +this.m_subTitleHeight+4+"px",left:+this.m_x+2+"px",position:"absolute"}),$("#datagridTable"+i.m_objectid).css({width:this.m_width-4+"px",height:+this.m_height-+this.m_titleHeight-+this.m_subTitleHeight-+this.m_DGFilterHeight-6+"px"}),this.m_gridFilterCondition=""},DynamicDataGrid.prototype.isSeriesDataEmpty=function(){this.m_isEmptySeries=!1,(""==this.m_seriesData||0!=this.m_seriesData.length&&0==this.m_seriesData[0].length)&&(this.m_isEmptySeries=!0)},DynamicDataGrid.prototype.drawChart=function(){this.createCanvasForDynamicRangeAlert(),this.drawChartFrame(),this.drawTitle(),this.drawSubTitle(),this.drawLegends();var t=this.IsDrawingPossible();IsBoolean(t.permission)?this.drawPivotGrid():this.drawMessage(t.message)},DynamicDataGrid.prototype.drawChartFrame=function(){this.m_chartFrame.drawFrame()},DynamicDataGrid.prototype.drawTitle=function(){this.m_title.draw()},DynamicDataGrid.prototype.drawSubTitle=function(){this.m_subTitle.draw()},DynamicDataGrid.prototype.drawPivotGrid=function(){var t,i=this;this.m_designModeDrawingFlag?(this.m_designModeDrawingFlag=!this.m_designMode,t=!!this.m_designMode,this.m_designMode||(this.mappedData=[],this.mappedData=this.CreateHierarchyData(),this.calculateColumnWidth(),this.createColumnWiseData()),this.initDataGridAlerts(),t={data:i.m_seriesData,rowFontProperties:{fontweight:i.m_labelfontweight,fontsize:i.fontScaling(i.m_labelfontsize)+"px",fontfamily:selectGlobalFont(i.m_labelfontfamily),fontstyle:i.m_labelfontstyle},singleSelect:!0,collapsible:!0,rownumbers:!1,remoteSort:!1,showHeader:!0,showFooter:!1,scrollbarSize:i.m_scrollbarsize,striped:!0,placeholderNA:i.m_placeholdernavalue,nowrap:!IsBoolean(i.m_textwrap),autoRowHeight:!0,fitColumns:t,frozenWidth:i.firstColumWidth(),loadMsg:"",loading:!1,loaded:!1,pivot:{rows:i.getRowFieldDetail().row,columns:i.getColumnField(),values:i.getValueHeads()},forzenColumnTitle:i.getRowFieldDetail().displayName,valuePrecision:0,onClickRow:function(){i.m_isRowClicked=!0;var t=i.getFieldNameValueMap();i.updateDataPoints(t,""),i.setGridColors(),i.setGridCss()},onSelect:function(t){},onCollapse:function(){var t=$("#"+i.m_componentid);t.find(".datagrid-row").css("height",i.getRowHeight(i.m_rowheight)+"px"),t.find(".datagrid-row-alt").css("height",i.getRowHeight(i.m_rowheight)+"px")},onExpand:function(){var t=$("#"+i.m_componentid);t.find(".datagrid-row").css("height",i.getRowHeight(i.m_rowheight)+"px"),t.find(".datagrid-row-alt").css("height",i.getRowHeight(i.m_rowheight)+"px")},onLoadSuccess:function(t){$("span").removeClass("tree-icon tree-folder tree-folder-open"),$("span").removeClass("tree-file"),i.setGridColors(),i.setGridCss(),i.updateGridNodeState(),IsBoolean(i.m_designMode)||i.drawMicroCharts()},groupFormatter:function(t,e){},renderRow:function(t,e,i,r,a){},rowStyler:function(t,e){return i.StyleRows(e,i)}},jqEasyUI("#datagridTable"+this.m_objectid).pivotgrid(t)):(jqEasyUI("#datagridTable"+i.m_objectid).pivotgrid("resize",{fitColumns:!0,width:i.m_width-4,height:+i.m_height-+i.m_titleHeight-+i.m_subTitleHeight-+i.m_DGFilterHeight-8}),i.setGridColors(),i.setGridCss())},DynamicDataGrid.prototype.drawMicroCharts=function(){for(var t=0;t<this.m_colHeadersFieldName.length;t++)this.legendMap[this.m_colHeadersFieldName[t]]&&("Bullet"==this.legendMap[this.m_colHeadersFieldName[t]].cellType?this.drawBullet(t):"Sparkline"==this.legendMap[this.m_colHeadersFieldName[t]].cellType?this.drawSparkline(t):"SparkColumn"==this.legendMap[this.m_colHeadersFieldName[t]].cellType?this.drawSparkColumn(t):"SparkPie"==this.legendMap[this.m_colHeadersFieldName[t]].cellType&&this.drawSparkPie(t))},DynamicDataGrid.prototype.drawBullet=function(t){var e=hex2rgb(convertColorToHex(this.m_tooltipbackgroundcolor),this.m_tooltipbackgroundtransparency),e={width:Math.round(this.m_widthArr[this.m_colHeadersFieldName[t]])-18,height:Math.round(this.m_rowheight)-5,tooltipBackgroundColor:e,disableTooltips:!IsBoolean(this.legendMap[this.m_colHeadersFieldName[t]].toolTipColumn)};$(".bullet"+this.m_objectid+this.getStringARSC(this.m_colHeadersFieldName[t])).sparkline("html",this.getBulletConfig(e,this.m_colHeadersFieldName[t],this.m_gridheaderDisplayNames[t]))},DynamicDataGrid.prototype.drawSparkline=function(t){var e=hex2rgb(convertColorToHex(this.m_tooltipbackgroundcolor),this.m_tooltipbackgroundtransparency),e={width:Math.round(this.m_widthArr[this.m_colHeadersFieldName[t]])-8,height:Math.round(this.m_rowheight)-5,dataLabel:!1,highlightSpotColor:!0,highlightLineColor:null,fieldName:this.m_gridheaderDisplayNames[t],tooltipBackgroundColor:e,disableTooltips:!IsBoolean(this.legendMap[this.m_colHeadersFieldName[t]].toolTipColumn)};$(".Sparkline"+this.m_objectid+this.getStringARSC(this.m_colHeadersFieldName[t])).sparkline("html",this.getSparklineConfig(e,this.m_colHeadersFieldName[t],this.m_gridheaderDisplayNames[t]))},DynamicDataGrid.prototype.drawSparkColumn=function(t){var e=hex2rgb(convertColorToHex(this.m_tooltipbackgroundcolor),this.m_tooltipbackgroundtransparency),e={width:Math.round(this.m_widthArr[this.m_colHeadersFieldName[t]])-8,height:Math.round(this.m_rowheight)-5,dataLabel:!1,highlightSpotColor:!0,highlightLineColor:null,fieldName:this.m_gridheaderDisplayNames[t],tooltipBackgroundColor:e,disableTooltips:!IsBoolean(this.legendMap[this.m_colHeadersFieldName[t]].toolTipColumn)};$(".SparkColumn"+this.m_objectid+this.getStringARSC(this.m_colHeadersFieldName[t])).sparkline("html",this.getSparkColumnConfig(e,this.m_colHeadersFieldName[t],this.m_gridheaderDisplayNames[t]))},DynamicDataGrid.prototype.drawSparkPie=function(t){var e=hex2rgb(convertColorToHex(this.m_tooltipbackgroundcolor),this.m_tooltipbackgroundtransparency),e={width:Math.round(this.m_widthArr[this.m_colHeadersFieldName[t]])-8,height:Math.round(this.m_rowheight)-5,dataLabel:!1,highlightSpotColor:!0,highlightLineColor:null,fieldName:this.m_gridheaderDisplayNames[t],tooltipBackgroundColor:e,disableTooltips:!IsBoolean(this.legendMap[this.m_colHeadersFieldName[t]].toolTipColumn)};$(".SparkPie"+this.m_objectid+this.getStringARSC(this.m_colHeadersFieldName[t])).sparkline("html",this.getSparkPieConfig(e,this.m_colHeadersFieldName[t],this.m_gridheaderDisplayNames[t]))},DynamicDataGrid.prototype.updateGridNodeState=function(){IsBoolean(this.m_collapseallnode)?$("#datagridTable"+this.m_objectid).treegrid("collapseAll"):$("#datagridTable"+this.m_objectid).treegrid("expandAll")},DynamicDataGrid.prototype.firstColumWidth=function(){return 0==this.getRowFieldDetail().width?0:""==this.m_firstcolumnwidth?this.getRowFieldDetail().width:this.m_firstcolumnwidth},DynamicDataGrid.prototype.createColumnWiseData=function(){for(var t=0;t<this.mappedData.length;t++)for(var e in this.mappedData[t]){null==this.columnWiseData[e]&&(this.columnWiseData[e]=[]);var i=this.mappedData[t][e];if("[object Array]"===Object.prototype.toString.call(this.mappedData[t][e])){for(var r=0,a=0;a<i.length;a++){var o=+getNumericComparableValue(i[a]);isNaN(o)||(r+=o)}i=r}this.columnWiseData[e].push(i)}var s,l={};for(s in this.columnWiseData){var d=this.getStringARSC(s);l[d]={},l[d].max=getNumericMax(this.columnWiseData[s]),l[d].min=getNumericMin(this.columnWiseData[s])}this.columnWiseData={},this.columnWiseData=l},DynamicDataGrid.prototype.calculateColumnWidth=function(){if(IsBoolean(this.isMaximized)){var t=this.m_width-this.getRowFieldDetail().width-+this.m_slidermargin;if(0!=this.mappedData.length){for(var e=Object.keys(this.mappedData[0]),i=0,r=0;r<e.length;r++)"_id_field"!=e[r]&&"_rows"!=e[r]&&"_tree_field"!=e[r]&&i++;var a=i/this.getValueFieldName().visibleField.length;this.getValueFieldWidth()*a<t&&this.calculateColumnWidths()}}else this.calculateColumnWidths()},DynamicDataGrid.prototype.calculateColumnWidths=function(){var t=this.m_width-this.getRowFieldDetail().width-+this.m_slidermargin;if(this.m_fitcolumns)for(var e=0;e<this.m_colHeadersFieldName.length;e++)"Values"==this.m_fieldType[this.m_colHeadersFieldName[e]]&&IsBoolean(this.m_visibleArr[e])&&(this.m_widthArr[this.fieldsData[e].fieldname]=t/this.dynamicColumn.visible.length);else for(var i=0;i<this.fieldsData.length;i++)this.isMaximized&&0<t?"Values"==this.m_fieldType[this.m_colHeadersFieldName[i]]&&IsBoolean(this.m_visibleArr[i])&&(this.m_widthArr[this.fieldsData[i].fieldname]=t/this.dynamicColumn.visible.length):this.m_widthArr[this.fieldsData[i].fieldname]=this.getProperAttributeNameValue(this.fieldsData[i],"width")},DynamicDataGrid.prototype.CreateHierarchyData=function(){var t,o=this,s=this.m_seriesData,l={},d=(l.rows=this.getRowFieldDetail().row,{});for(t in o.m_fieldAggregation)o.m_fieldAggregation.hasOwnProperty(t)&&(d[this.getStringARSC(t)]=o.m_fieldAggregation[t]);var n=1,h=[],m=[],g=this.getDynamicColumn(),c=this.getColumnField();return $.map(l.rows,function(r,t){if(l.rows[t-1]){for(var i=[];m.length;){var a=m.shift(),e=o.getR1(r,a._rows);$.map(e,function(t){var e=o.groupOperation(t,g,c,d);e._rows=t,e._tree_field=t[0][r],e._parentId=a._id_field,e._id_field=n++,h.push(e),i.push(e)})}m=i}else{e=o.getR1(r,s);$.map(e,function(t){var e=o.groupOperation(t,g,c,d),i=(e._rows=t)[0][r];null==t[0][r]&&(i=" "),e._tree_field=i,e._id_field=n++,m.push(e),h.push(e)})}}),h},DynamicDataGrid.prototype.getDynamicColumn=function(){for(var t=[],e=(this.dynamicColumn={visible:[],invisible:[]},[]),i=[],r=this.getValueFieldName(),a=this.getColumnField(),o=0;o<this.m_seriesData.length;o++)for(var s=0;s<r.AllField.length;s++)if(-1!=r.visibleField.indexOf(r.AllField[s])){for(var l="",d=0;d<a.length;d++)" "==a[d]?l+=" _":l+=this.m_seriesData[o][a[d]]+"_";l+=r.AllField[s],t.push(l),e.push(l)}else{for(l="",d=0;d<a.length;d++)" "==a[d]?l+=" _":l+=this.m_seriesData[o][a[d]]+"_";l+=r.AllField[s],t.push(l),i.push(l)}var n=t.filter(function(t,e,i){return e==i.indexOf(t)});return this.dynamicColumn.visible=e.filter(function(t,e,i){return e==i.indexOf(t)}),this.dynamicColumn.invisible=i.filter(function(t,e,i){return e==i.indexOf(t)}),n},DynamicDataGrid.prototype.getR1=function(r,t){var e,a={},i=($.map(t,function(t){var e=t[r],i=a[e];i?i.push(t):i=[t],a[e]=i}),[]);for(e in a)i.push(a[e]);return i},DynamicDataGrid.prototype.groupOperation=function(e,t,i,r){var a=this,o={};return $.map(t,function(t){o[t]=a.Aggreagation(t,e,i,r)}),o},DynamicDataGrid.prototype.Aggreagation=function(t,e,i,r){var a=t.split("_"),t=$.map(e,function(t){for(var e=0;e<i.length;e++)if((null==t[i[e]]?" ":t[i[e]])!=a[e])return;return t[a[a.length-1]]}),e=r[[a[a.length-1]]];return"none"==(e=void 0!==e?e:"sum")?t:getAggregationOperatedData(t,e)},DynamicDataGrid.prototype.isRowFieldEmpty=function(){for(var t=!0,e=0;e<this.m_colHeadersFieldName.length;e++)if("Row"==this.m_fieldType[this.m_colHeadersFieldName[e]]&&IsBoolean(this.m_visibleArr[e])){t=!1;break}return t},DynamicDataGrid.prototype.getRowFieldDetail=function(){for(var t=[],e=0,i="",r=0;r<this.m_colHeadersFieldName.length;r++)"Row"==this.m_fieldType[this.m_colHeadersFieldName[r]]&&IsBoolean(this.m_visibleArr[r])&&t.push(this.getStringARSC(this.m_colHeadersFieldName[r]));0==t.length&&t.push(" ");for(r=0;r<this.m_colHeadersFieldName.length;r++)if("Row"==this.m_fieldType[this.m_colHeadersFieldName[r]]&&IsBoolean(this.m_visibleArr[r])){i=this.m_gridheaderDisplayNames[r],e=this.m_widthArr[this.m_colHeadersFieldName[r]],e=""!==this.m_firstcolumnwidth&&+e<+this.m_firstcolumnwidth?+this.m_firstcolumnwidth:+e;break}return{row:t,width:e,displayName:"<span>"+i+"</span>"}},DynamicDataGrid.prototype.getColumnField=function(){for(var t=[],e=0;e<this.m_colHeadersFieldName.length;e++)"Column"==this.m_fieldType[this.m_colHeadersFieldName[e]]&&IsBoolean(this.m_visibleArr[e])&&t.push(this.getStringARSC(this.m_colHeadersFieldName[e]));return 0==t.length&&t.push(" "),t},DynamicDataGrid.prototype.getValueFieldName=function(){for(var t=[],e=0;e<this.m_colHeadersFieldName.length;e++)"Values"==this.m_fieldType[this.m_colHeadersFieldName[e]]&&t.push(this.getStringARSC(this.m_colHeadersFieldName[e]));for(var i=[],e=0;e<this.m_colHeadersFieldName.length;e++)"Values"==this.m_fieldType[this.m_colHeadersFieldName[e]]&&IsBoolean(this.m_visibleArr[e])&&i.push(this.getStringARSC(this.m_colHeadersFieldName[e]));return{AllField:t,visibleField:i}},DynamicDataGrid.prototype.getValueFieldWidth=function(){for(var t=0,e=0;e<this.m_colHeadersFieldName.length;e++)"Values"==this.m_fieldType[this.m_colHeadersFieldName[e]]&&IsBoolean(this.m_visibleArr[e])&&(t+=+this.m_widthArr[this.m_colHeadersFieldName[e]]);return t},DynamicDataGrid.prototype.getValueHeads=function(){for(var t,e,i=[],r=0;r<this.m_colHeadersFieldName.length;r++)IsBoolean(this.m_seriesVisibleArr[this.m_colHeadersFieldName[r]])&&"Values"==this.m_fieldType[this.m_colHeadersFieldName[r]]&&(t=this.m_colHeadersFieldName[r],e=this.getStringARSC(this.m_colHeadersFieldName[r]),this.m_widthArr[t],e={field:e,align:this.m_textAlignArr[t],width:this.m_widthArr[t],autoRowHeight:!0,title:this.m_gridheaderDisplayNames[r],op:this.m_fieldAggregation[t]},null!=this.getAlertObj()[t]&&"Numeric"==this.m_isNumericArr[r]?this.getAlertObj()[t].m_name==t?"Range"==this.getAlertObj()[t].m_mode?"colorfill"==this.getAlertObj()[t].getAlertType()?(e.styler=this.drawDynamicRange.bind(this,t,r),e.formatter=this.drawToolTipForCell.bind(this,t,r)):e.formatter=this.drawDynamicRange.bind(this,t,r):"colorfill"==this.getAlertObj()[t].getAlertType()?(e.styler=this.drawAlertImages.bind(this,t,r),e.formatter=this.drawToolTipForCell.bind(this,t,r)):e.formatter=this.drawAlertImages.bind(this,t,r):e="":e.formatter=this.drawToolTipForCell.bind(this,t,r),i.push(e));return i},DynamicDataGrid.prototype.drawDynamicRange=function(t,e,i,r,a){var o,s,l,d;return IsBoolean(this.showParent(t,e,i,r,a))?(o=IsBoolean(this.m_isFixedLabelArr[t])||"none"==this.m_formatterArr[t]||""==this.m_formatterArr[t]?this.setPrecision(t,e,i):this.FormatCellValue(t,e,i,r,a),s=this.m_tooltipColumnsArr[e],l={colName:t,rowId:r._id_field-1,tooltipValue:o,dynamicColumn:a},d="",0<this.m_TooltipFieldsArr[t].length&&r._id_field<=this.mappedData.length&&(d=this.getCustomTooltipData(l,r)),this.getAlertObj()[t].drawDynamicAlert(t,e,i,r,a,o,s,d)):""},DynamicDataGrid.prototype.setPrecision=function(t,e,i,r,a){return IsBoolean(this.showParent(t,e,i,r,a))?(e=this.m_precisionArr[t],isNaN(i)?i:this.checkPrecision(i,e,this.m_fieldAggregation[t])):""},DynamicDataGrid.prototype.showParent=function(t,e,i,r,a){return!("none"==this.m_fieldAggregation[t]&&void 0!==r.children&&0<r.children.length)},DynamicDataGrid.prototype.drawAlertImages=function(t,e,i,r,a){if(!IsBoolean(this.showParent(t,e,i,r,a)))return"";var o,s,l,d=this,n=i,n=IsBoolean(this.m_isFixedLabelArr[t])||"none"==this.m_formatterArr[t]||""==this.m_formatterArr[t]?this.setPrecision(t,e,i):this.FormatCellValue(t,e,i,r,a),h=this.m_tooltipColumnsArr[e],m={colName:t,rowId:r._id_field-1,tooltipValue:n,dynamicColumn:a},g="";for(o in 0<this.m_TooltipFieldsArr[t].length&&r._id_field<=this.mappedData.length&&(g=this.getCustomTooltipData(m,r)),r)if(o==a&&i==r[a]&&null!=d.getAlertObj()[t])return(l="")!=(s=d.getAlertObj()[t].m_comparecolumn)&&null!=s&&(l=d.getMatchedRecord(t,a,r,s,i)),d.getAlertObj()[t].drawAlerts(l,i,d,o,"",n,e,h,g)},DynamicDataGrid.prototype.getMatchedRecord=function(t,e,i,r,a){var o,s,t=this.getStringARSC(t),r=this.getStringARSC(r),l=this.mappedData;for(o in l)if(l[o]._tree_field==i._tree_field&&IsBoolean(this.isMatch(l[o][e],a)))return s=e.split(t)[0]+r,l[o][s];return""},DynamicDataGrid.prototype.isMatch=function(t,e){var i;return"object"==typeof t?(i=e[0],0===$(t).not(i).length&&0===$(i).not(t).length):t==e},DynamicDataGrid.prototype.drawToolTipForCell=function(t,e,i,r,a){var o=i;if("Sparkline"!=this.legendMap[t].cellType&&"SparkColumn"!=this.legendMap[t].cellType&&"SparkPie"!=this.legendMap[t].cellType||"null"==o||null==o||!isNaN(o)||"NA"==o){if("Image"==this.legendMap[t].cellType&&"null"!=o&&null!=o&&isNaN(o)&&"NA"!=o)return IsBoolean(this.showParent(t,e,i,r,a))?'<img src="'+o+'" style="height:'+(+this.m_rowheight-1)+"px; width:"+(+this.m_rowheight-1)+'px;"></img>':"";if("ProgressBar"!=this.legendMap[t].cellType||"null"==o||null==o||isNaN(o)||"NA"==o){if("Bullet"==this.legendMap[t].cellType&&"null"!=o&&null!=o&&isNaN(o)&&"NA"!=o)return IsBoolean(this.showParent(t,e,i,r,a))?'<div class="bullet'+this.m_objectid+this.getStringARSC(t)+'" style="width:'+this.m_widthArr[e]+'px;">'+i+"</div>":"";if(!IsBoolean(this.showParent(t,e,i,r,a)))return"";var s=IsBoolean(!IsBoolean(this.m_isFixedLabelArr[t]))?null==i||""===i?"":this.FormatCellValue(t,e,i,r,a):null==i||""===i?"":i,l=this.getAlertObj()[t],d=this.m_tooltipColumnsArr[e];void 0!==l&&(s=1==IsBoolean(l.m_showdata)?s:"&nbsp;");var n,l="'"+(isNaN(s)&&"string"==typeof formattedValue?b64EncodeUnicode(s):s)+"'",h="'"+this.m_tooltipbackgroundcolor+"'",m="'"+this.m_tooltipbackgroundtransparency+"'",g="'"+this.m_customtooltipwidth+"'";return"Hyperlink"==this.legendMap[t].cellType&&"null"!=o&&null!=o&&"NA"!=o&&isNaN(o)?"<div onclick=\"openHyperlink('"+o+'\')" onmousemove="getToolTip(this,'+d+","+l+","+h+","+m+","+g+","+!1+","+this.m_gridcustomtooltip+')" onmouseout="hideToolTip()" style="z-index:999; cursor:pointer;">'+o+"</div>":0<this.m_TooltipFieldsArr[t].length&&r._id_field<=this.mappedData.length?(n={colName:t,rowId:r._id_field-1,tooltipValue:l,dynamicColumn:a},1==this.m_TooltipFieldsArr[t].length?'<div onmousemove="getToolTip(this,'+d+","+this.getCustomTooltipData(n,r)+","+h+","+m+","+g+","+!1+","+this.m_gridcustomtooltip+')" onmouseout="hideToolTip()" style="z-index:999;">'+s+"</div>":'<div onmousemove="getToolTip(this,'+d+","+("'"+this.getCustomTooltipData(n,r).value+"'")+","+h+","+m+","+g+","+!0+","+this.m_gridcustomtooltip+')" onmouseout="hideToolTip()" style="z-index:999;">'+s+"</div>"):'<div onmousemove="getToolTip(this,'+d+","+l+","+h+","+m+","+g+","+!1+","+this.m_gridcustomtooltip+')" onmouseout="hideToolTip()" style="z-index:999;">'+s+"</div>"}return IsBoolean(this.showParent(t,e,i,r,a))?this.drawProgressBar(t,e,i,r):""}return IsBoolean(this.showParent(t,e,i,r,a))?'<div class="'+this.legendMap[t].cellType+this.m_objectid+this.getStringARSC(t)+'" style="width:'+this.m_widthArr[t]+'px;">'+o+"</div>":""},DynamicDataGrid.prototype.getCustomTooltipData=function(i,t){var e={},r=i.dynamicColumn.split("_")[0],a=i.dynamicColumn.split("_").filter(function(t,e){if(t!==i.colName)return t}).join("_");if(1==this.m_TooltipFieldsArr[i.colName].length){if(i.colName==this.m_TooltipFieldsArr[i.colName][0])return i.tooltipValue;if(IsBoolean(this.m_gridcustomtooltip)){for(var o=this.m_TooltipFieldsArr[i.colName][0];null!=/\[(.*?)\]/g.exec(o);)var s=/\[(.*?)\]/g.exec(o),l=t[a+"_"+s[1]],o=o.replace(s[0],l);return o=SearchAndReplaceAllOccurence(o,"&lt;","<"),o=SearchAndReplaceAllOccurence(o,"&gt;",">"),o=SearchAndReplaceAllOccurence(o,"&#34;","'"),o="'"+(o=btoa(o))+"'"}return n=r+"_"+this.m_TooltipFieldsArr[i.colName][0],r=void 0===(r=this.mappedData[i.rowId][n])?""+this.m_TooltipFieldsArr[i.colName][0]:""+r,"'"+(r=btoa(r))+"'"}for(var r={isEncoded:!0},d=0;d<this.m_TooltipFieldsArr[i.colName].length;d++){var n=this.m_TooltipFieldsArr[i.colName][d];this.mappedData[i.rowId][" _"+n]&&(this.mappedData[i.rowId]._rows[0][n]=this.mappedData[i.rowId][" _"+n]),e[this.m_TooltipFieldsArr[i.colName][d]]=this.mappedData[i.rowId]._rows[0][n],e[this.m_TooltipFieldsArr[i.colName][d]]=""==e[this.m_TooltipFieldsArr[i.colName][d]]?0:e[this.m_TooltipFieldsArr[i.colName][d]]}return r.value=btoa(JSON.stringify(e)),r},DynamicDataGrid.prototype.getProgressBarColor=function(){return["#83cc0f","#f7244a","#f5b229","#ddc617","#49b1de"]},DynamicDataGrid.prototype.drawProgressBar=function(t,e,i,r){var a,o,s,l,d,n="progressDiv"+this.m_objectid+this.getStringARSC(t),h=this.m_tooltipColumnsArr[e],m="'"+(isNaN(i)?b64EncodeUnicode(i):i)+"'",g=this.getProgressBarColor(),c=this.fontScaling(3),p="'"+this.m_tooltipbackgroundcolor+"'",u="'"+this.m_tooltipbackgroundtransparency+"'",f="'"+this.m_customtooltipwidth+"'";return 0==+i?(o=this.m_widthArr[t]-10,s='"border-left:'+c+"px solid transparent;border-right:"+c+"px solid transparent; width:"+(+this.m_widthArr[t]-10)+'px;"',l='"border:'+c+"px solid "+g[a=0]+"; border-top-left-radius: 2em; border-bottom-left-radius: 2em; float:left; width:"+a+'px;"',d='"border:'+c+"px solid "+g[1]+"; border-top-left-radius: 2em; border-bottom-left-radius: 2em; border-top-right-radius: 2em; border-bottom-right-radius: 2em; float:right; width:"+o+'px;"','<div onmousemove="getToolTip(this,'+h+","+m+","+p+","+u+","+f+')" onmouseout="hideToolTip()" class='+n+" style="+s+">"+('<div style="display:flex;" class="progressBarLabels"><div align="left" style="float:left; width:50%;">'+this.getFormattedCellValue(i,t,e)+'</div><div align="right" style="float:right; width:50%;">'+this.getFormattedCellValue(100-i,t,e)+"</div></div>")+'<div style="display:flex;"><div style='+d+"></div></div>"):100==+i?(a=this.m_widthArr[t]-10,s='"border-left:'+c+"px solid transparent;border-right:"+c+"px solid transparent; width:"+(+this.m_widthArr[t]-10)+'px;"',l='"border:'+c+"px solid "+g[o=0]+"; border-top-left-radius: 2em; border-bottom-left-radius: 2em; border-top-right-radius: 2em; border-bottom-right-radius: 2em; float:left; width:"+a+'px;"',d='"border:'+c+"px solid "+g[1]+"; border-top-right-radius: 2em; border-bottom-right-radius: 2em; float:right; width:"+o+'px;"','<div onmousemove="getToolTip(this,'+h+","+m+","+p+","+u+","+f+')" onmouseout="hideToolTip()" class='+n+" style="+s+">"+('<div style="display:flex;" class="progressBarLabels"><div align="left" style="float:left; width:50%;">'+this.getFormattedCellValue(i,t,e)+'</div><div align="right" style="float:right; width:50%;">'+this.getFormattedCellValue(100-i,t,e)+"</div></div>")+'<div style="display:flex;"><div style='+l+"></div></div></div>"):+i<0||100<+i?(a=this.m_widthArr[t]-10,s='"border-left:'+c+"px solid transparent;border-right:"+c+"px solid transparent; width:"+(+this.m_widthArr[t]-10)+'px;"',l='"border:'+c+"px solid "+this.m_defaultalertcolor+"; border-top-left-radius: 2em; border-bottom-left-radius: 2em; border-top-right-radius: 2em; border-bottom-right-radius: 2em; float:left; width:"+a+'px;"','<div onmousemove="getToolTip(this,'+h+","+m+","+p+","+u+","+f+')" onmouseout="hideToolTip()" class='+n+" style="+s+">"+('<div style="display:flex;" class="progressBarLabels"><div align="left" style="float:left; width:80%;">'+this.getFormattedCellValue(i,t,e)+'</div><div align="right" style="float:right; width:20%;"></div></div>')+'<div style="display:flex;"><div style='+l+"></div></div></div>"):(a=i*(this.m_widthArr[t]-10)/100,o=+this.m_widthArr[t]-14-a,s='"border-left:'+c+"px solid transparent;border-right:"+c+"px solid transparent; width:"+(+this.m_widthArr[e]-10)+'px;"',l='"border:'+c+"px solid "+g[0]+"; border-top-left-radius: 2em; border-bottom-left-radius: 2em; float:left; width:"+a+'px;"',d='"border:'+c+"px solid "+g[1]+"; border-top-right-radius: 2em; border-bottom-right-radius: 2em; float:right; width:"+o+'px;"','<div onmousemove="getToolTip(this,'+h+","+m+","+p+","+u+","+f+')" onmouseout="hideToolTip()" class='+n+" style="+s+">"+('<div style="display:flex;" class="progressBarLabels"><div align="left" style="float:left; width:50%;">'+this.getFormattedCellValue(i,t,e)+'</div><div align="right" style="float:right; width:50%;">'+this.getFormattedCellValue(100-i,t,e)+"</div></div>")+'<div style="display:flex;"><div style='+l+'></div><div style="border: 1px solid #ffffff;"></div><div style='+d+"></div></div></div>")},DynamicDataGrid.prototype.checkPrecision=function(t,e,i){var r=0<(""+t).indexOf(","),t=getNumericComparableValue(t);return IsBoolean("default"!==e)&&IsBoolean("count"!==i)&&(t=(+t).toFixed(""==e?0:e)),1==r?getNumberWithCommas(t):t},DynamicDataGrid.prototype.FormatCellValue=function(t,e,i,r,a){if(!IsBoolean(this.showParent(t,e,i,r,a)))return"";for(var o in r)if(o==a&&i==r[o])return""===i||"NIL"==i||"null"==i||"count"==this.m_fieldAggregation[t]?i:this.getFormattedCellValue(i,t,e)},DynamicDataGrid.prototype.getFormattedCellValue=function(t,e,i){var r,a,o,s,l,d,n,h,m,g;return isNaN(getNumericComparableValue(t))?t:(r=0<(""+t).indexOf(","),a=this.m_formatterArr[e],g=this.m_unitNameArr[e],d=+t,o=""!=this.m_signPositioneArr[e]?this.m_signPositioneArr[e]:"suffix",s=this.m_precisionArr[e],l=this.m_secondFormatterArr[e],e=this.m_secondUnitNameArr[e],d="default"===s?+getNumericComparableValue(t):(+getNumericComparableValue(t)).toFixed(s),""!=g?(n=this.m_util.getFormatterSymbol(a,g),"auto"==(h="none"==l||""==l?"":this.m_util.getFormatterSymbol(l,e))?(t=getNumericComparableValue(t),m=getNumberFormattedSymbol(+t,g),g=getNumberFormattedNumericValue(+t,s,g),g=this.m_util.updateTextWithFormatter(g,"",s),d=this.m_util.addFormatter(g,m,"suffix")):("Number"!=a&&"Number"!=l||(d=this.m_util.updateTextWithFormatter(d,"Number"==a?n:h,s)),"none"!=l&&""!=e&&(d=this.m_util.addFormatter(d,h,"suffix"))),"NaN"==(d=getFormattedNumberWithCommas(d,this.m_numberFormatColumnsArr[i]))||""==d?"":this.m_util.addFormatter(IsBoolean(r)?getNumberWithCommas(d):d,n,o)):"NaN"==d?t:d)},DynamicDataGrid.prototype.getColumnOriginalFieldName=function(){for(var t=[],e=0;e<this.m_colHeadersFieldName.length;e++)"Column"==this.m_fieldType[this.m_colHeadersFieldName[e]]&&IsBoolean(this.m_visibleArr[e])&&t.push(this.m_colHeadersFieldName[e]);return t},DynamicDataGrid.prototype.getValueOriginalFieldName=function(){for(var t=[],e=[],i=0;i<this.m_colHeadersFieldName.length;i++)this.m_fieldType[this.m_colHeadersFieldName[i]],(IsBoolean(this.m_visibleArr[i])?t:e).push(this.m_colHeadersFieldName[i]);return{visible:t,invisible:e}},DynamicDataGrid.prototype.getRowOriginalFieldName=function(){for(var t=[],e=0;e<this.m_colHeadersFieldName.length;e++)"Row"==this.m_fieldType[this.m_colHeadersFieldName[e]]&&IsBoolean(this.m_visibleArr[e])&&t.push(this.m_colHeadersFieldName[e]);return t},DynamicDataGrid.prototype.getFieldNameValueMap=function(){var t=null;try{t=jqEasyUI("#datagridTable"+this.m_objectid).pivotgrid("getSelected")}catch(t){}if(null!==t){for(var e=this.getValueOriginalFieldName(),i=e.visible,r=e.invisible,a=this.getRowOriginalFieldName(),o=this.getColumnOriginalFieldName(),s={},l=[],d=(l.push(t._tree_field),t);null!=d;)null!=(d=jqEasyUI("#datagridTable"+this.m_objectid).pivotgrid("getParent",d._id_field))&&l.push(d._tree_field);for(var n=l.reverse(),h=0;h<a.length;h++)s[a[h]]=n[h];for(var m=0;m<i.length;m++)for(var g in t)if(-1!=g.indexOf("_"+this.getStringARSC(i[m]))){null==s[i[m]]&&(s[i[m]]=[]),s[i[m]].push(t[g]);for(var c=g.split("_"),p=0;p<o.length;p++)null==s[o[p]]&&(s[o[p]]=[]),-1==$.inArray(c[p],s[o[p]])&&s[o[p]].push(c[p])}for(m=0;m<r.length;m++){null==s[r[m]]&&(s[r[m]]=[]);var u=this.getStringARSC(r[m]);s[r[m]].push(t._rows[0][u])}return s}},DynamicDataGrid.prototype.StyleRows=function(t,e){var i=e;if(IsBoolean(i.m_colorbycomparison))for(var r=0;r<i.getDataSet().getFields().length;r++)for(var a in t){var o=t[a];if(null!=i.getAlertObj()[a]){var s=i.getAlertObj()[a];if("row"==s.getAlertType()&&"Numeral Comparison"==s.m_mode){if(1==o)return d=s.getRangeColor(0),"background-color:"+this.createLinearGradient(d);if(0==o)return d=s.getRangeColor(1),"background-color:"+this.createLinearGradient(d)}else for(var l=0;l<s.alertRanges.length;l++){var d,n=s.getMinMaxRange(l)[0];if(o<=+s.getMinMaxRange(l)[1]&&+n<=o)return"background-color:"+(d=s.getRangeColor(l))+" ; color:#000;"}}}},DynamicDataGrid.prototype.createLinearGradient=function(t){return"background-image: -webkit-gradient(linear, left top, left bottom, from(#9e9e9e), to(#454545)); background-image: -webkit-linear-gradient(top, #fff 2%, #"+(t=convertColorToHex(t))+" 90%, #fff);background-image:    -moz-linear-gradient(top, #fff 2%, #"+t+" 90%, #fff); background-image:      -o-linear-gradient(top, #fff 2%, #"+t+" 90%, #fff); background-image:         linear-gradient(to bottom, #fff 2%, #"+t+" 90%, #fff);height: "+this.getRowHeight(this.m_rowheight)+"px;"},DynamicDataGrid.prototype.setGridCss=function(){var t,o=this,r=$("#"+o.m_componentid);r.find(".panel-body").css("padding","0px"),r.find(".panel").css("text-align","left"),IsBoolean(o.isRowFieldEmpty())&&r.find(".datagrid-view").find(".datagrid-view1").remove(),r.find(".datagrid-row").css("height",o.getRowHeight(o.m_rowheight)+"px"),r.find(".datagrid-row-alt").css("height",o.getRowHeight(o.m_rowheight)+"px"),r.find(".datagrid-header-row").css("height",o.getRowHeight(o.m_rowheight)+"px"),r.find(".datagrid-header-row span").css({color:convertColorToHex(o.m_headerfontcolor),"font-weight":o.m_headerfontweight,"font-size":o.fontScaling(o.m_headerfontsize)+"px","font-family":selectGlobalFont(o.m_headerfontfamily),"font-style":o.m_headerfontstyle,"text-decoration":o.m_headertextdecoration}),r.find(".datagrid-header-row td div").css({color:convertColorToHex(o.m_headerfontcolor),"font-weight":o.m_headerfontweight,"font-size":o.fontScaling(o.m_headerfontsize)+"px","font-family":selectGlobalFont(o.m_headerfontfamily),"font-style":o.m_headerfontstyle}),IsBoolean(o.m_usefieldalign)||r.find(".datagrid-header-row td div").css({"text-align":o.m_headertextalign}),r.find(".datagrid-cell").css({"font-weight":o.m_labelfontweight,"font-size":o.fontScaling(o.m_labelfontsize)+"px","font-family":selectGlobalFont(o.m_labelfontfamily),"font-style":o.m_labelfontstyle,"text-decoration":o.m_labeltextdecoration,color:convertColorToHex(o.m_labelfontcolor)}),r.find(".datagrid-view1 .datagrid-body .datagrid-body-inner .datagrid-btable .datagrid-row td .tree-title").css({"text-decoration":o.m_labeltextdecoration,"font-size":o.fontScaling(o.m_labelfontsize)+"px"}),IsBoolean(o.getDatagridStyles().m_showhorizontalgridlines)?(r.find(".datagrid-header td").css({"border-top":"1px solid "+hex2rgb(o.getDatagridStyles().getHorizontalGridLineColor(),o.m_rowlinesopacity),"border-right":"1px solid "+hex2rgb(o.getDatagridStyles().getVerticalGridLineColor(),o.m_rowlinesopacity),"border-bottom":"1px solid "+hex2rgb(o.getDatagridStyles().getHorizontalGridLineColor(),o.m_rowlinesopacity),"border-left":"0px solid "+hex2rgb(o.getDatagridStyles().getVerticalGridLineColor(),o.m_rowlinesopacity)}),r.find(".datagrid-view1 .datagrid-header tr").find("td:first").css({"border-left":"1px solid "+hex2rgb(o.getDatagridStyles().getVerticalGridLineColor(),o.m_rowlinesopacity)}),this.setCellBorder(".datagrid-view1","0px 1px 1px 1px"),this.setCellBorder(".datagrid-view2","0px 1px 1px 0px")):(r.find(".datagrid-header td").css({"border-right":"1px solid "+hex2rgb(o.getDatagridStyles().getVerticalGridLineColor(),o.m_rowlinesopacity),"border-width":"0px 1px 0px 0"}),r.find(".datagrid-view1 .datagrid-header tr").find("td:first").css({"border-left":"1px solid "+hex2rgb(o.getDatagridStyles().getVerticalGridLineColor(),o.m_rowlinesopacity)}),this.setCellBorder(".datagrid-view1","0px 1px 0px 1px"),this.setCellBorder(".datagrid-view2","0px 1px 0px 0px")),r.find(".datagrid-header").css("border-width","0"),IsBoolean(this.m_usefieldcolorasheader)?(t=this.getRowFieldDetail().row,r.find(".datagrid-header-row  td").each(function(){var t,e=(t=this.attributes[0].nodeValue.split("_")).length-1;$(this).css({background:hex2rgb(o.m_fieldColors[t[e]],o.m_headerrowopacity)})}),$(r.find(".datagrid-header-row  td")[0]).css("background",hex2rgb(o.m_fieldColors[this.getStringARSC(t[t.length-1])],o.m_headerrowopacity))):r.find(".datagrid-header-row  td").each(function(){$(this).css({background:hex2rgb(convertColorToHex(o.m_headerchromecolor),o.m_headerrowopacity)})}),r.find(".datagrid-cell-rownumber").css("width","0px"),r.find(".datagrid-header-rownumber").css("width","0px"),r.find(".datagrid-mask").css({display:"none",width:"0px",height:"0px",opacity:"0",background:"#cfcfcf"}),r.find(".datagrid-mask-msg").css({opacity:"0","border-color":"#fdfdfd"}),r.find(".datagrid-header-row td .datagrid-cell").css("height",(15<o.fontScaling(o.m_headerfontsize)?+o.fontScaling(o.m_headerfontsize)+2:17)+"px"),r.find(".datagrid-header-row td div").css("text-decoration","none"),r.find(".datagrid-view2 .datagrid-header-row .datagrid-cell-group").css({"white-space":"normal","text-decoration":o.m_headertextdecoration,height:"auto"}),r.find(".datagrid-view").find(".datagrid-view1").find(".datagrid-body").find("table").css("border-collapse","initial"),r.find(".datagrid-view").find(".datagrid-view2").find(".datagrid-body").find("table").css("border-collapse","initial"),IsBoolean(this.m_textwrap)&&(r.find("td div.datagrid-cell").css({"white-space":"normal","word-wrap":"break-word",height:"auto"}),r.find(".datagrid-header td span").css({"white-space":"normal","word-wrap":"break-word"}),r.find("td div.datagrid-cell-group").css({"white-space":"normal","word-wrap":"break-word",height:"auto"})),r.find(".tree-title").each(function(){var t=this.parentElement,t=$(t).find(".tree-indent").length,t=t?0==t?"84%":1==t?"74%":2==t?"62%":3==t?"50%":"40%":"90%";$(this).css("width",t),$(this).css("display","inline-table")}),r.find(".datagrid-view1").find(".datagrid-row ").each(function(t){var e=$(this).css("height"),t=r.find(".datagrid-view2").find(".datagrid-row ")[t],i=$(t).css("height");e<i?$(this).css("height",i):$(t).css("height",e)}),IsBoolean(this.m_designMode)||r.find(".datagrid-view2 .datagrid-header-row .datagrid-cell-group").each(function(){for(var t=o.getValueHeads(),e=t.length,i=0,r=0;r<e;r++)i+=+o.m_widthArr[t[r].title];var a=i-(e+1);0<a&&$(this).css("width",a+"px")}),this.applyAdditionalStyles()},DynamicDataGrid.prototype.setCellBorder=function(t,e){var i=this;$("#"+i.m_componentid).find(".datagrid-view").find(t).find(".datagrid-body").find(".datagrid-btable").find(".datagrid-row").each(function(){$(this).find("td").each(function(){$(this).css({"border-top":hex2rgb(i.getDatagridStyles().getHorizontalGridLineColor(),i.m_rowlinesopacity),"border-right":hex2rgb(i.getDatagridStyles().getVerticalGridLineColor(),i.m_rowlinesopacity),"border-bottom":hex2rgb(i.getDatagridStyles().getHorizontalGridLineColor(),i.m_rowlinesopacity),"border-left":hex2rgb(i.getDatagridStyles().getVerticalGridLineColor(),i.m_rowlinesopacity),"border-width":e,"border-style":"solid"})})})},DynamicDataGrid.prototype.setGridColors=function(){var e=this,t=$("#"+e.m_componentid),i=e.getDatagridStyles().getAlternateRowsColor(),r=e.getDatagridStyles().getHeaderColors();if(null!=i){for(var a=i.split(","),o=["#ffffff"],s=0;s<a.length;s++)o.push(convertColorToHex(a[s]));a=o}else{for(var a=r.split(","),l=[],s=0;s<a.length;s++)l.push(convertColorToHex(a[s]));1==(a=l).length?(a.push("#ffffff"),a.push("#ffffff")):2==a.length&&a.push(a[1])}e.fillColorInRow(".datagrid-view1",hex2rgb(a[1],e.m_rowopacity),hex2rgb(a[2],e.m_rowopacity)),e.fillColorInRow(".datagrid-view2",hex2rgb(a[1],e.m_rowopacity),hex2rgb(a[2],e.m_rowopacity)),t.find(".datagrid-row-selected").css("background",hex2rgb(convertColorToHex(e.getDatagridStyles().getSelectionColor()),e.m_rowselectedopacity)),t.find(".datagrid-row").hover(function(){var t=$(this).attr("node-id");e.breakFromEach(".datagrid-view1",t),e.breakFromEach(".datagrid-view2",t)},function(){e.fillColorInRow(".datagrid-view1",hex2rgb(a[1],e.m_rowopacity),hex2rgb(a[2],e.m_rowopacity)),e.fillColorInRow(".datagrid-view2",hex2rgb(a[1],e.m_rowopacity),hex2rgb(a[2],e.m_rowopacity)),t.find(".datagrid-row-selected").css("background",hex2rgb(convertColorToHex(e.getDatagridStyles().getSelectionColor()),e.m_rowselectedopacity)),t.find(".datagrid-cell").css("color",convertColorToHex(e.m_labelfontcolor))}),t.find(".datagrid-row-selected").css("background",hex2rgb(convertColorToHex(e.getDatagridStyles().getSelectionColor()),e.m_rowselectedopacity)),t.find(".datagrid-cell").css("color",convertColorToHex(e.m_labelfontcolor)),t.find(".panel.datagrid").css({padding:"0px",margin:"0px",border:"0px solid transparent",background:"transparent","box-shadow":"none","-webkit-box-shadow":"none"}),t.find(".datagrid-header").css({"border-width":"0",background:"transparent"}),t.find("div.datagrid-wrap.panel-body.panel-body-noheader").css({border:hex2rgb("1px solid"+e.getDatagridStyles().getVerticalGridLineColor(),e.m_rowlinesopacity),background:"transparent"})},DynamicDataGrid.prototype.breakFromEach=function(t,e){var i=this;$("#"+i.m_componentid).find(".datagrid-view").find(t).find(".datagrid-body").find(".datagrid-btable").find(".datagrid-row").each(function(){if($(this).attr("node-id")==e)return $(this).find(".datagrid-cell").css("color",hex2rgb(i.getDatagridStyles().getTextHoverColor(),i.m_rowhoveropacity)),$(this).css("background",hex2rgb(i.getDatagridStyles().getRollOverColor(),i.m_rowhoveropacity)),!1})},DynamicDataGrid.prototype.fillColorInRow=function(t,e,i){var r=0;$("#"+this.m_componentid).find(".datagrid-view").find(t).find(".datagrid-body").find(".datagrid-btable").find(".datagrid-row").each(function(){r%2==0?$(this).css("background-color",e):$(this).css("background-color",i),r++})},DynamicDataGrid.prototype.setSelectedRowCSS=function(){var t=this,e=t.getDatagridStyles().getAlternateRowsColor(),i=t.getDatagridStyles().getHeaderColors();if(null!=e){for(var r=e.split(","),a=["#ffffff"],o=0;o<r.length;o++)a.push(convertColorToHex(r[o]));r=a}else{for(var r=i.split(","),s=[],o=0;o<r.length;o++)s.push(convertColorToHex(r[o]));1==(r=s).length?(r.push("#ffffff"),r.push("#ffffff")):2==r.length&&r.push(r[1])}$("#"+t.m_componentid).find(".datagrid-row").css({background:convertColorToHex(r[1]),height:t.getRowHeight(t.m_rowheight)+"px"}),$("#"+t.m_componentid).find(".datagrid-row-alt").css("background",convertColorToHex(r[2])),$("#"+t.m_componentid).find(".datagrid-row-selected").css("background",convertColorToHex(t.getDatagridStyles().m_selectionColor))},DynamicDataGrid.prototype.getToolTipData=function(t,e){var i=[];return i[0]="",i},DynamicDataGrid.prototype.getAllFieldsDisplayName=function(){return this.m_gridheaderDisplayNames},DynamicDataGrid.prototype.getAllFieldsName=function(){return this.m_colHeadersFieldName},DynamicDataGrid.prototype.getDataBycolumn=function(t){return this.m_columnHeaderDataMap[t]},DynamicDataGrid.prototype.getData=function(){return this.m_seriesData},DynamicDataGrid.prototype.IsEmptyFields=function(){return 0==this.getRowFieldDetail().row.length||0==this.getColumnField().length||0==this.getValueFieldName().visibleField.length},DynamicDataGrid.prototype.getStringARSC=function(t){return t&&t.toString().replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")},DynamicDataGrid.prototype.drawMessage=function(t){this.ctx.beginPath(),this.ctx.fillStyle=this.m_statuscolor,this.ctx.font=this.m_statusfontsize+"px "+selectGlobalFont(this.m_statusfontfamily),this.ctx.textAlign="left";var e=this.ctx.measureText(t).width,e=this.m_width-e;this.ctx.fillText(t,+this.m_x+e/2,+this.m_y+this.m_height/2),this.ctx.fill(),this.ctx.closePath()},DynamicDataGrid.prototype.getDrillDataPoints=function(t,e){var i=this.getFieldNameValueMap();if(i)return{drillRecord:i,drillColor:"#cccccc"}};
//# sourceMappingURL=DynamicDataGrid.min.js.map