/*! BDB Charting Library V10.0.0 (2025-08-14 11:37:12) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
function FilterChips(t,e){this.base=Filter,this.base(),this.m_bordercolor="",this.m_bgalpha="",this.m_bggradients="",this.m_borderthickness="",this.m_bggradientrotation="",this.m_borderalpha="",this.m_fontfamily="",this.m_fontsize="",this.m_fontcolor="",this.m_fontstyle="",this.m_fontweight="",this.m_textdecoration="",this.m_legenddirection="",this.m_legendcheckbox="",this.m_showallfilterbutton=!0,this.m_showchipscount=!0,this.m_allfilterbuttonwidth=150,this.m_legendsymbol="",this.m_associatedchartid="",this.m_assignedfilters=[],this.m_savedfilterschips=[],this.m_savedtext=[],this.m_associatedrepeaterchartid="",this.m_showborder=!1,this.m_chartContainer=t,this.m_zIndex=e,this.m_chartFrame=new ChartFrame,this.m_legendwidth=12,this.m_legendheight=10,this.m_legendcolors="#E08283,#38d3a9,#797979",this.m_legendnames="Filter1,Filter2,Filter3,Filter4,Filter5,Filter6",this.m_legendshapes="cube,triangle,point",this.legendsWidthArray=[],this.m_imgdata="",this.m_chipstitle="Applied Filters",this.m_btntitle="All Filters",this.m_popuptitle="Additional Filters",this.m_btnbgcolor="#ffffff",this.m_filterbgcolor="#ffffff",this.m_filterheaderbgcolor="#EFF0F0",this.m_closebtnbgcolor="#000000",this.m_chipsbgcolor="#efefef",this.m_chipsfontcolor="#000000",this.marginLeft=15,this.marginTop=10,this.marginGap=10,this.m_rowpadding=4,this.m_columnpadding=0,this.checkboxChangedFlag=!1,this.m_original_x,this.m_original_y,this.m_original_width,this.m_original_height,this.m_original_zindex,this.legendNames=[],this.legendDisplayNames=[],this.legendColors=[],this.legendShapes=[],this.m_legendObjectArr=[],this.m_isstaticlegend="false",this.isMaximized=!1,this.m_enhanceCheckbox=!1,this.m_rollovercolor="transparent",this.m_cursortype="pointer",this.reloadLegend=!0,this.m_legendtextalign="left",this.m_multipleassociatedchart={enable:!1,id:[]},this.m_legendhscroll=!1,this.m_appendAdditionalButton=!1,this.m_filterDisplayValues={},this.m_additionaldropdownheight=245,this.m_removedChipParentValues=[]}FilterChips.prototype=new Widget,FilterChips.prototype.setProperty=function(t){this.ParseJsonAttributes(t.Object,this),this.initCanvas()},FilterChips.prototype.ParseJsonAttributes=function(t,e){for(var i in this.chartJson=t)if("FilterChips"==i)for(var s in t[i])this.setAttributeValueToNode(s,t[i],e);else this.setAttributeValueToNode(i,t,e)},FilterChips.prototype.initCanvas=function(){$("#draggableDiv"+this.m_objectid).remove(),this.initializeDraggableDivAndCanvas()},FilterChips.prototype.initializeDraggableDivAndCanvas=function(){this.setDashboardNameAndObjectId(),this.m_draggableDiv=this.createDraggableDiv(this.m_chartContainer,this.m_zIndex),this.createDraggableCanvas(this.m_draggableDiv),this.setCanvasContext(),this.initMouseClickEvent()},FilterChips.prototype.setDashboardNameAndObjectId=function(){this.m_objectId=this.m_objectid,2==this.m_objectid.split(".").length&&(this.m_objectid=this.m_objectid.split(".")[1]),this.m_componentid=this.m_objectid},FilterChips.prototype.draw=function(){this.drawObject()},FilterChips.prototype.drawObject=function(){this.getAssociatedChartObject()&&(this.isMaximized=this.getAssociatedChartObject().isMaximized),IsBoolean(this.checkboxChangedFlag)?IsBoolean(this.reloadLegend)?null==this.getAssociatedChartObject()||IsBoolean(this.getAssociatedChartObject().isMaximized)||(this.init(),this.drawChart()):(this.init(),this.drawChart(),""!=this.m_onafterrendercallback&&onAfterRender(this.m_onafterrendercallback)):(!IsBoolean(this.m_designMode)&&IsBoolean(this.reloadLegend)&&null!=this.getAssociatedChartObject()&&IsBoolean(this.getAssociatedChartObject().isMaximized)?(this.repositionLegend(this.getAssociatedChartObject()),this.reloadLegend=!1):null==this.m_original_x||IsBoolean(this.isMaximized)||(this.setOriginalPosition(),this.reloadLegend=!0),this.init(),this.drawChart(),""!=this.m_onafterrendercallback&&onAfterRender(this.m_onafterrendercallback))},FilterChips.prototype.getAssociatedChartObject=function(){return this.associatedChartObject=this.getRepeaterChartObjectById(this.m_associatedchartid),this.associatedChartObject},FilterChips.prototype.getLegendName=function(t){return t.getLegendNames()},FilterChips.prototype.getLegendColors=function(t){return t.getSeriesColors()},FilterChips.prototype.getLegendShapes=function(t){return t.m_plotShapeArray},FilterChips.prototype.getBgGradients=function(){return this.m_bggradients},FilterChips.prototype.createFilterChipsContainerDiv=function(){var t=this,e=($("#FilterChipsContainerDiv"+t.m_objectid).remove(),document.createElement("div")),i=(e.setAttribute("id","FilterChipsContainerDiv"+t.m_objectid),e.setAttribute("class","filterchipsContainerDiv"),IsBoolean(this.m_legendhscroll)?"max-content":"inherit");e.setAttribute("style","display: flex;flex-direction:row;flex-wrap:nowrap;position:absolute;left:0px;top:0px;width:"+i+";height:inherit;overflow:auto;"),$("#draggableDiv"+t.m_objectid).append(e)},FilterChips.prototype.init=function(){this.checkBoxWidth=+this.m_fontsize<12?12:+this.m_fontsize,this.createFilterChipsContainerDiv(),this.m_chartFrame.init(this),this.m_cursortype=IsBoolean(this.m_legendcheckbox)?"pointer":"default",this.m_designMode?this.setLegendInfoForStatic():this.setChipsInfoForAssignedFilter()},FilterChips.prototype.setChipsInfoForAssignedFilter=function(){var t=this;if(t.m_legendObjectArr=[],0==this.m_savedfilterschips.length)for(var e=0;e<t.m_assignedfilters.length;e++){var i=this.getChartObjectById(t.m_assignedfilters[e]);null!=i&&(i.m_associatedfilterchipsid=this.m_objectid)}if(0!=t.m_savedfilterschips.length)for(e=0;e<t.m_savedfilterschips.length;e++)t.m_legendObjectArr.push({legendName:t.m_savedfilterschips[e].value,legendShape:"",legendColor:"",legendDisplayName:t.m_savedfilterschips[e].key,index:"",objectid:t.m_savedfilterschips[e].objectid,objecttype:t.m_savedfilterschips[e].objecttype})},FilterChips.prototype.setLegendInfoForAssignedChart=function(t){var e,i=this,s=(this.legendNames=[],this.legendDisplayNames=[],this.legendColors=[],this.legendShapes=[],this.m_legendObjectArr=[],t.getLegendInfo());for(e in s)this.legendNames.push(s[e].seriesName),this.legendDisplayNames.push(s[e].displayName),this.legendColors.push(s[e].color),this.legendShapes.push(s[e].shape),this.m_legendObjectArr.push({legendName:s[e].seriesName,legendShape:s[e].shape,legendColor:s[e].color,legendDisplayName:s[e].displayName,index:s[e].index});if(this.m_legendObjectArr.sort(function(t,e){return t.index-e.index}),IsBoolean(this.m_isstaticlegend))for(var n=this.m_legendnames.split(","),l=(l=this.m_legendnames.split(",")).map(function(t){return i.getValueFromGlobalVariable(t,"square",!1)}),r=this.m_legendcolors.split(","),a=this.m_legendshapes.split(","),o=0;o<n.length;o++)this.m_legendObjectArr.push({legendName:n[o],legendShape:a[o],legendColor:r[o],legendDisplayName:l[o],legendType:"static"})},FilterChips.prototype.setLegendInfoForStatic=function(t){var e=this;this.m_legendObjectArr=[],this.legendNames=this.m_legendnames.split(","),this.legendDisplayNames=this.m_legendnames.split(","),this.legendDisplayNames=this.legendDisplayNames.map(function(t){return e.getValueFromGlobalVariable(t,"square",!1)}),this.legendColors=this.m_legendcolors.split(","),this.legendShapes=this.m_legendshapes.split(",");for(var i=0;i<this.legendNames.length;i++)this.m_legendObjectArr.push({legendName:this.legendNames[i],legendShape:this.legendShapes[i],legendColor:this.legendColors[i],legendDisplayName:this.legendDisplayNames[i]})},FilterChips.prototype.drawChart=function(){var t,e,i=this;this.m_chartFrame.drawFrame(),0<this.m_legendObjectArr.length&&(this.calculateLegendsWidth(),this.drawChipsTitle(),this.drawFilterChips(),IsBoolean(this.m_showallfilterbutton),e=+$("#"+i.m_objectid+"additionalUl").width()<=175?175:+$("#"+i.m_objectid+"additionalUl").width(),t=$("#draggableDiv"+i.m_objectid).offset().top+$("#"+i.m_objectid+"additionalFilter").height()+10+"px",e=$("#draggableDiv"+i.m_objectid).offset().left+$("#draggableDiv"+i.m_objectid).width()-$(".draggablesParentDiv").offset().left-e+"px",$("#"+i.m_objectid+"additionalUl").css({top:t,left:e,border:"none !important",background:i.m_filterbgcolor,"box-shadow":"0px 0px 10px #00000029","border-radius":"8px","min-width":"175px","margin-top":"1px"}))},FilterChips.prototype.drawFilterChips=function(){var e=this,t=(this.m_appendAdditionalButton=!1,$("#"+e.m_objectid+"additionalUl").remove(),document.createElement("ul")),t=(t.setAttribute("id","FilterChipsUl"+this.m_objectid),t.setAttribute("class","float-left"),t.setAttribute("style","margin:10px;"),$("#FilterChipsContainerDiv"+e.m_objectid).append(t),$("#"+e.m_objectid+"titleFilter").width()+$("#filterchipsTitleText"+e.m_objectid).width()+20),i=document.createElement("div"),s=(i.setAttribute("id",e.m_objectid+"additionalFilter"),i.setAttribute("max-height",+e.m_height-10),i.setAttribute("style","margin: 10px 5px 10px 10px;position:absolute;right: 0px;background: "+this.m_btnbgcolor+"; box-shadow: 1px 1px 5px "+this.m_btnbgcolor),document.createElement("button")),n=(s.setAttribute("id",e.m_objectid+"allFilterButton"),document.createElement("label")),l=(n.setAttribute("id",e.m_objectid+"allFiltertext"),""==e.m_btntitle?"All Filters":e.m_btntitle),r="<span class='glyphicon glyphicon-chevron-down' id='allfilterArrow"+e.m_objectid+"' style='margin: 10px 10px 10px 0px;color:"+this.m_fontcolor+";'></span>",a=(n.textContent=l,s.innerHTML=l,s.setAttribute("style","border: none; outline:none; cursor: "+this.m_cursortype+"; background: "+this.m_btnbgcolor+"; box-shadow: 0px 0px 0px "+this.m_btnbgcolor+"!important ; width: "+this.m_allfilterbuttonwidth+"px;padding: 6px 20px;font-weight:"+this.m_fontweight+";font-size:"+this.fontScaling(+this.m_fontsize)+"px;font-style:"+this.m_fontstyle+";font-family:"+selectGlobalFont(this.m_fontfamily)+";color:"+this.m_fontcolor+";text-decoration:"+this.m_textdecoration+";overflow:hidden; text-overflow:ellipsis;white-space:nowrap;"),$(i).append(s),$(i).append(r),document.createElement("div")),o=(a.setAttribute("id",e.m_objectid+"additionalUl"),a.setAttribute("class","filterchipsContainerDiv dropdown-content"),document.createElement("ul")),n=(o.setAttribute("id",e.m_objectid+"additionalFilterDropdown"),o.setAttribute("class","additionalFilterDropdown"),o.setAttribute("style","height :"+e.m_additionaldropdownheight+"px; overflow : auto; display : inline-flex; flex-direction : column; width : 100%"),document.createElement("div")),l=(n.setAttribute("class","bg-gray p-2 mb-2"),""==e.m_popuptitle?"Additional Filters":e.m_popuptitle);n.innerHTML=l,n.setAttribute("style","background :"+e.m_filterheaderbgcolor+"; outline:none;cursor: "+this.m_cursortype+";font-weight:"+this.m_fontweight+";font-size:"+this.fontScaling(+this.m_fontsize)+"px;font-style:"+this.m_fontstyle+";font-family:"+selectGlobalFont(this.m_fontfamily)+";color:"+this.m_fontcolor+";text-decoration:"+this.m_textdecoration+";"),$(a).append(n),this.m_textWidth=t;for(var d=0;d<this.m_legendObjectArr.length;d++)""!=this.m_legendObjectArr[d].legendName&&this.drawChipsDiv(d,this.m_legendObjectArr[d],o);$(a).append(o),$(".draggablesParentDiv").append(a),IsBoolean(!this.m_designMode)&&($(i).click(function(t){t.stopPropagation(),$(a).is(":visible")?($(a).css("display","none"),e.m_dropdownopen=!1,$("#allfilterArrow"+e.m_objectid).attr("class","glyphicon glyphicon-chevron-down")):($(a).css("display","block"),e.m_dropdownopen=!0,$("#allfilterArrow"+e.m_objectid).attr("class","glyphicon glyphicon-chevron-up"))}),$(".draggablesParentDiv").click(function(){$(a).css("display","none")}));var t=$("#"+e.m_objectid+"titleFilter").width()+$("#filterchipsTitleText"+e.m_objectid).width()+20,h=($("#FilterChipsContainerDiv"+e.m_objectid).width(),e.m_allfilterbuttonwidth,0);$("#FilterChipsUl"+this.m_objectid).find("li").each(function(){$(this).outerWidth(!0);h+=1}),s=(IsBoolean(e.m_designMode)?e.m_legendObjectArr:e.m_savedfilterschips).length,h<s&&this.m_showallfilterbutton&&$("#FilterChipsContainerDiv"+e.m_objectid).append(i)},FilterChips.prototype.drawFilterChipsDiv=function(t){var e=this,i=document.createElement("div");i.setAttribute("id","FilterChipsDiv"+this.m_objectid+t),i.setAttribute("class","filterchips-row-div"),i.setAttribute("style","display: inline-flex; padding-top: "+e.fontScaling(2)+"px; vertical-align:top; margin-right: 15px; cursor: "+this.m_cursortype+";"),$("#FilterChipsContainerDiv"+e.m_objectid).append(i),$("#FilterChipsDiv"+this.m_objectid+t).hover(function(){$(this).css("background",e.m_rollovercolor)},function(){$(this).css("background","transparent")})},FilterChips.prototype.drawFilterChipsCheckbox=function(t){var e=this,i=document.createElement("div"),s=document.createElement("input");s.setAttribute("type","checkbox"),s.setAttribute("class","cr-checkbox"),this.m_enhanceCheckbox&&s.setAttribute("class","option-input-cr cr-checkbox"),s.setAttribute("id",this.m_objectid+"LegendCheckbox"+this.m_legendObjectArr[t].legendName),IsBoolean(this.m_designMode)||null==e.getAssociatedChartObject()?s.setAttribute("checked",!0):s.setAttribute(1==IsBoolean(e.getAssociatedChartObject().m_seriesVisibleArr[this.m_legendObjectArr[t].legendName])?"checked":"unchecked",!0),i.setAttribute("id",this.m_objectid+"LegendCheckboxDiv"+this.m_legendObjectArr[t].legendName),i.setAttribute("class","legend-checkbox-div"),i.setAttribute("style","display: table-cell;vertical-align: middle;text-align: center;width: 25px;padding: "+this.m_rowpadding/2+"px "+this.m_columnpadding+"px "+this.m_rowpadding/2+"px "+this.m_columnpadding+"px;"),$(i).append(s),$("#FilterChipsDiv"+this.m_objectid+t).append(i),$(s).css({width:e.fontScaling(this.checkBoxWidth)+"px",height:e.fontScaling(this.checkBoxWidth)+"px",display:"inline-block","vertical-align":"middle",margin:"0px 0 0"}),IsBoolean(e.m_designMode)||(s.onchange=function(){e.redrawAssociatedChart($(this).attr("id").split("LegendCheckbox")[1],this.checked),e.getDataPointAndUpdateGlobalVariable(e.m_legendObjectArr[t].legendDisplayName,e.m_legendObjectArr[t].legendName,e.m_legendObjectArr[t].legendColor)})},FilterChips.prototype.redrawAssociatedChart=function(e,t){var i,s=this.getAssociatedChartObject();if(null!=s)if(IsBoolean(s.m_isRepeaterPart))for(var n=s.m_parentObj,l=0;l<n.m_repeaterCharts.length;l++){n.m_repeaterCharts[l].m_seriesVisibleArr[e]=t;var r=n.m_repeaterCharts[l].m_parentObj.m_defaultlegendfields.findIndex(function(t){return t.key==e});-1!=r&&n.m_repeaterCharts[l].m_parentObj.m_defaultlegendfields[r]&&(n.m_repeaterCharts[l].m_parentObj.m_defaultlegendfields[r].value=t),this.checkboxChangedFlag=!0,s.setChartState("legendCheckboxChanged"),n.m_repeaterCharts[l].draw()}else s.m_seriesVisibleArr[e]=t,s.m_defaultlegendfields&&-1!=(i=s.m_defaultlegendfields.findIndex(function(t){return t.key==e}))&&s.m_defaultlegendfields[i]&&(s.m_defaultlegendfields[i].value=t),this.checkboxChangedFlag=!0,s.draw();this.redrawMultipleAssociatedCharts(e,t)},FilterChips.prototype.redrawMultipleAssociatedCharts=function(t,e){if(this.m_multipleassociatedchart&&IsBoolean(this.m_multipleassociatedchart.enable)){var i=this.m_multipleassociatedchart.id,s=this.getAssociatedChartObject();s&&s.m_referenceid&&-1==i.indexOf(s.m_referenceid)&&i.push(s.m_referenceid);for(var n=0;n<i.length;n++)null==(s=this.getChartObjectByReferenceId(i[n]))||IsBoolean(s.isValidRepeaterConfig())||(this.m_associatedchartid=s.m_objectid,s.m_associatedlegendid=this.m_objectid,s.m_seriesVisibleArr[t]=e,this.checkboxChangedFlag=!0,s.draw())}},FilterChips.prototype.drawHtmlLegends=function(t){"defaultshape"!=this.m_legendsymbol&&0<this.m_legendObjectArr.length&&null!=this.m_legendObjectArr[t].legendShape?this.drawFilterChipsShape(t,this.m_shapeMap.hasOwnProperty(this.m_legendObjectArr[t].legendShape)?this.m_shapeMap[this.m_legendObjectArr[t].legendShape]:this.m_shapeMap.default):this.drawFilterChipsShape(t,this.m_shapeMap.default)},FilterChips.prototype.drawFilterChipsShape=function(t,e){var i=document.createElement("div"),s=(i.setAttribute("id","LegendShape"+this.m_legendObjectArr[t].legendName+this.m_objectid),"display: table-cell;vertical-align: middle;text-align: -webkit-center;width: 25px;padding: "+this.m_rowpadding/2+"px "+this.m_columnpadding+"px "+this.m_rowpadding/2+"px "+this.m_columnpadding+"px;"),s=(i.setAttribute("style",s),i.setAttribute("class","legend-shape-div"),$("#FilterChipsDiv"+this.m_objectid+t).append(i),document.createElement("a")),n=($(s).attr("class",e),this.m_enhanceCheckbox&&$(s).attr("class",e+" legend-shape"),this.m_legendwidth);"bd-diamond"==e?n=+this.m_legendwidth+2:"bd-stop"!=e&&"bd-cross"!=e||(n=+this.m_legendwidth-1),$(s).css({color:this.m_legendObjectArr[t].legendColor,"font-size":+n+"px",display:"inline-flex","text-decoration":"none","vertical-align":"middle"}),$(i).append(s)},FilterChips.prototype.drawChipsDiv=function(e,t,i){var s=this,n=document.createElement("li"),l=document.createElement("label"),r=document.createElement("span"),r=(l.setAttribute("for",this.m_objectid+"filterchips"+this.m_legendObjectArr[e].legendName),l.innerHTML=this.m_legendObjectArr[e].legendDisplayName,l.setAttribute("style","margin-bottom:0px;padding:3px 0 5px 10px;cursor: "+this.m_cursortype+";font-weight:"+this.m_fontweight+";font-size:"+this.fontScaling(+this.m_fontsize)+"px;font-style:"+this.m_fontstyle+";font-family:"+selectGlobalFont(this.m_fontfamily)+";color:"+this.m_chipsfontcolor+";text-decoration:"+this.m_textdecoration+";"),n.setAttribute("id",s.m_objectid+""+s.m_legendObjectArr[e].legendName),n.setAttribute("style","background: "+s.m_chipsbgcolor),r.setAttribute("class","closebtn bd-close"),r.setAttribute("style","color: "+s.m_closebtnbgcolor),r.setAttribute("id",s.m_legendObjectArr[e].objectid+"_"+s.m_legendObjectArr[e].legendName),$(n).append(l),"radio_filter"!=s.m_legendObjectArr[e].objecttype&&$(n).append(r),IsBoolean(s.m_designMode)||(r.onclick=function(){$(this).closest("li").remove(),s.m_removedChipValue=s.m_legendObjectArr[e].legendDisplayName,s.updateFilter(s.m_legendObjectArr[e].objectid,s.m_legendObjectArr[e].legendName,s.m_legendObjectArr[e].legendDisplayName);var t=setInterval(function(){$(document).find(".blockUI").length||setTimeout(function(){s.getDataPointAndUpdateGlobalVariable(s.m_legendObjectArr[e].legendDisplayName,s.m_legendObjectArr[e].legendName,s.m_legendObjectArr[e].legendColor),sdk.updateFilterChips(s.m_referenceid),s.m_dropdown&&s.m_appendAdditionalButton&&$("#"+s.m_objectid+"additionalUl").css("display","block"),clearInterval(t)},1)},1e3)}),$("#FilterChipsUl"+this.m_objectid).append(n),$("#"+s.m_objectid+"titleFilter").width(),$("#filterchipsTitleText"+s.m_objectid).width(),$("#FilterChipsContainerDiv"+s.m_objectid).width()-s.m_allfilterbuttonwidth);s.m_textWidth=s.m_textWidth+$(n).outerWidth(!0),s.m_textWidth>r&&IsBoolean(s.m_showallfilterbutton)&&(s.m_textWidth=s.m_textWidth+$(n).outerWidth(!0),$(n).remove(),s.drawAdditonalChipsDiv(e,i)),$(l).css({display:"inline-flex","margin-bottom":"0px","vertical-align":"middle"})},FilterChips.prototype.updateFilter=function(t,e,i){var s=this.getChartObjectById(t);if(null!=s)switch(s.m_componenttype){case"combo_filter":s.m_selectedindex=[];for(var n=0;n<s.staticOptsValue.length;n++){var l=getStringARSC(s.staticOptsValue[n])+"-"+n;s.staticOptsValue[n]==e?s.m_checkboxstatus[l]=!1:s.m_checkboxstatus[l]&&s.m_selectedindex.push(n)}-1<(m=this.m_savedtext.indexOf(i))&&this.m_savedtext.splice(m,1);var r=this.m_savedfilterschips.filter(function(t){return e!=t.value});this.m_savedfilterschips=r,s.draw();break;case"date_picker":r=(-1<(m=this.m_savedtext.indexOf(i))&&this.m_savedtext.splice(m,1),this.m_savedfilterschips.filter(function(t){return e!=t.value}));this.m_savedfilterschips=r,s.fieldNameValueMap&&delete s.fieldNameValueMap,s.m_nodefaultdate=!0,s.draw(),$("#input"+s.m_componentid)[0].value="Please select date ";break;case"list_filter":if(s.m_selectedindex=[],IsBoolean(s.m_enabledualselectionlist)){for(var a=0;a<s.m_updateFilterList.length;a++)s.m_updateFilterList[a]==e&&s.m_updateFilterList.splice(a,1);for(n=0;n<s.m_updateFilterList.length;n++)for(var o=0;o<s.value.length;o++)s.m_updateFilterList[n]==s.value[o]&&s.m_selectedindex.push(o)}else for(n=0;n<s.value.length;n++){l=getStringARSC(s.value[n])+"-"+n,s.value[n];s.value[n]==e?s.m_checkboxstatus[l]=!1:s.m_checkboxstatus[l]&&s.m_selectedindex.push(n)}r=(-1<(m=this.m_savedtext.indexOf(i))&&this.m_savedtext.splice(m,1),this.m_savedfilterschips.filter(function(t){return e!=t.value}));this.m_savedfilterschips=r,s.draw();break;case"hierarchical_combo":if(s.m_selectedindex=[],IsBoolean(s.m_allowmultipleselection)){s.m_currentIndexSelect=$("#ComboTree"+s.m_componentid).combotree("getValues");for(a=0;a<s.finalArray.length;a++)if(s.m_currentIndexSelect.includes(s.finalArray[a].id.toString())&&s.finalArray[a].name==e){var d,h,c=s.m_currentIndexSelect.indexOf(s.finalArray[a].id.toString());for(h in s.m_currentIndexSelect.splice(c,1),0<s.finalArray[a].parentId&&-1!==(d=s.m_currentIndexSelect.indexOf(s.finalArray[a].parentId.toString()))&&s.m_currentIndexSelect.splice(d,1),s.finalArray)s.finalArray[h].parentId==s.finalArray[a].id&&(c=s.m_currentIndexSelect.indexOf(s.finalArray[h].id.toString()),s.m_currentIndexSelect.splice(c,1));s.cid=0,s.m_chipRemoved=!0}}else s.selectedRecordArray=[],s.cid=0,s.m_chipRemoved=!0;-1<(m=this.m_savedtext.indexOf(i))&&this.m_savedtext.splice(m,1);var m,r=this.m_savedfilterschips.filter(function(t){return e!=t.value});this.m_savedfilterschips=r,s.draw()}},FilterChips.prototype.drawAdditonalChipsDiv=function(e,t){var i=this,s=(i.m_appendAdditionalButton=!0,document.createElement("li")),n=(s.setAttribute("style","background: "+i.m_chipsbgcolor+"; width: fit-content;margin-left: 10px;margin-bottom:3px;margin-top:3px"),document.createElement("label")),l=document.createElement("span");n.setAttribute("for",this.m_objectid+"filterchips"+this.m_legendObjectArr[e].legendName),n.innerHTML=this.m_legendObjectArr[e].legendDisplayName,n.setAttribute("style","padding:6px 0px 5px 10px;cursor: "+this.m_cursortype+";font-weight:"+this.m_fontweight+";font-size:"+this.fontScaling(+this.m_fontsize)+"px;font-style:"+this.m_fontstyle+";font-family:"+selectGlobalFont(this.m_fontfamily)+";color:"+this.m_chipsfontcolor+";text-decoration:"+this.m_textdecoration+";"),s.setAttribute("id",i.m_objectid+""+i.m_legendObjectArr[e].legendName),s.setAttribute("class","filter-chips"),l.setAttribute("class","closebtn bd-close"),l.setAttribute("style","color: "+i.m_closebtnbgcolor),l.setAttribute("id",i.m_legendObjectArr[e].objectid+"_"+i.m_legendObjectArr[e].legendName),$(s).append(n),"radio_filter"!=i.m_legendObjectArr[e].objecttype&&$(s).append(l),IsBoolean(i.m_designMode)||(l.onclick=function(){$(this).closest("li").remove(),i.m_removedChipValue=i.m_legendObjectArr[e].legendDisplayName,i.updateFilter(i.m_legendObjectArr[e].objectid,i.m_legendObjectArr[e].legendName,i.m_legendObjectArr[e].legendDisplayName);var t=setInterval(function(){$(document).find(".blockUI").length||setTimeout(function(){i.getDataPointAndUpdateGlobalVariable(i.m_legendObjectArr[e].legendDisplayName,i.m_legendObjectArr[e].legendName,i.m_legendObjectArr[e].legendColor),sdk.updateFilterChips(i.m_referenceid),i.m_dropdown&&i.m_appendAdditionalButton&&$("#"+i.m_objectid+"additionalUl").css("display","block"),clearInterval(t)},1)},1e3)}),t.append(s)},FilterChips.prototype.drawSVGImage=function(t){var e=this.m_imgdata;try{for(var i=e,s=4,n=0;n<$(e).length;n++)if(null!=$(e)[n].tagName&&"svg"==$(e)[n].tagName.toLowerCase()){s=n;break}if(null!=$(e)[s]){for(var l,r,a,o=$(e)[s].attributes,n=0;n<o.length;n++)"height"==o[n].name&&(r=o[n].value),"width"==o[n].name&&(a=o[n].value),"viewbox"==o[n].name.toLowerCase()&&(l=o[n].value);i=null==l?(l="0 0 "+ +r+" "+ +a,(i=e.replace('height="'+r+'"','viewBox="'+l+'"')).replace('width="'+a+'"',"")):(i=i.replace('width="'+a+'"',"")).replace('height="'+r+'"',"")}var d=$.parseHTML(i);$(t).empty(),$(d).attr("id","svgImg"+this.m_componentid),$(d).attr("class","svgPointer"),$(d).css("opacity",1),$(t).append(d)}catch(t){}},FilterChips.prototype.drawChipsTitle=function(){var t=this,e=document.createElement("div"),i=document.createElement("div"),s=(i.setAttribute("id","filterchipsimage"+t.m_componentid),document.createElement("span"));s.setAttribute("id","filterchipsTitleText"+t.m_componentid);document.createElement("span").setAttribute("id","filterchipsCount"+t.m_componentid);var n,l=t.m_chipstitle.trim(),r="";n=(IsBoolean(t.m_designMode)?t.m_legendObjectArr:t.m_savedfilterschips).length,IsBoolean(t.m_showchipscount)&&(r=""!==l?" : "+n:n),s.innerHTML=l+r,s.setAttribute("style","padding: 6px 0px 6px 0px;"),$(s).css({color:convertColorToHex(this.m_fontcolor),"font-size":this.m_fontsize*this.minWHRatio()+"px","font-family":selectGlobalFont(this.m_fontfamily),"font-weight":this.m_fontweight,"font-style":this.m_fontstyle,cursor:this.m_cursortype,margin:"10px"}),e.setAttribute("id",t.m_objectid+"titleFilter"),""!=this.m_imgdata&&null!=this.m_imgdata?(this.drawSVGImage(i),$(i).css({width:"26px",height:"22px",margin:"10px"})):(i.setAttribute("class","chips-title"),$(i).css({width:"20px",height:"22px",margin:"10px"})),$(e).append(i),$(e).css({display:"inline-flex",padding:"6px 0px 5px 0px"}),$("#FilterChipsContainerDiv"+t.m_objectid).append(e),$("#FilterChipsContainerDiv"+t.m_objectid).append(s)},FilterChips.prototype.calculateLegendsWidth=function(){this.m_legendwidth=this.fontScaling(this.m_fontsize),this.m_legendheight=this.fontScaling(this.m_fontsize),this.ctx.font=this.m_fontstyle+" "+this.m_fontweight+" "+this.fontScaling(+this.m_fontsize)+"px "+selectGlobalFont(this.m_fontfamily);var t=IsBoolean(this.m_legendcheckbox)?+this.marginGap+this.checkBoxWidth:0;this.createSpanToCalculateWidth(),this.legendsWidthArray=[];for(var e=0;e<this.m_legendObjectArr.length;e++){var i=this.getTextWidth(this.m_legendObjectArr[e].legendDisplayName),i=+this.marginLeft+ +t+ +this.marginGap+ +this.m_legendwidth+ +this.marginGap+ +i+ +this.marginGap;this.legendsWidthArray.push(i)}$("#textWidthCalcDiv"+this.m_objectid).remove()},FilterChips.prototype.createSpanToCalculateWidth=function(){$("#textWidthCalcDiv"+this.m_objectid).remove();var t=document.createElement("div");t.id="textWidthCalcDiv"+this.m_objectid,t.style.position="absolute",t.style.float="left",t.style.whiteSpace="nowrap",t.style.visibility="hidden",t.style.display="none",t.style.fontSize=this.fontScaling(+this.m_fontsize)+"px",t.style.fontFamily=selectGlobalFont(this.m_fontfamily),t.style.fontWeight=this.m_fontweight,t.style.fontStyle=this.m_fontstyle,document.body.appendChild(t)},FilterChips.prototype.getTextWidth=function(e){try{return $("#textWidthCalcDiv"+this.m_objectid).html(""+e),$("#textWidthCalcDiv"+this.m_objectid).width()}catch(t){return this.ctx.measureText(""+e).width}},FilterChips.prototype.getNoOfRows=function(t){for(var e=1,i=0,s=0;s<this.legendsWidthArray.length;s++)+t<(i=+i+ +this.legendsWidthArray[s])&&(e++,i=this.legendsWidthArray[s]);return e},FilterChips.prototype.getOneRowHeight=function(){return+this.marginTop+ +this.m_legendheight+ +this.marginGap},FilterChips.prototype.getLargestLegend=function(){for(var t=0,e=0;e<this.legendsWidthArray.length;e++)+this.legendsWidthArray[e]>t&&(t=this.legendsWidthArray[e]);return t},FilterChips.prototype.getLegendMargins=function(t){var e;return t="horizontal"==this.m_legenddirection?(e=this.getNoOfRows(t)*this.getOneRowHeight(),0):(e=0,this.getLargestLegend()),{bottom:e,right:t}},FilterChips.prototype.repositionLegend=function(t){var e,i,s,n=this,l=(this.m_original_x=$("#draggableDiv"+n.m_objectid)[0].offsetLeft,this.m_original_y=$("#draggableDiv"+n.m_objectid)[0].offsetTop,this.m_original_width=this.m_width,this.m_original_height=this.m_height,this.m_original_zindex=this.m_zIndex,$("#draggableDiv"+t.m_objectid)),r=l.width(),r=this.getLegendMargins(r),r="horizontal"==this.m_legenddirection?(e=l.css("left").split("px")[0],i=+l.css("top").split("px")[0]+ +l.css("height").split("px")[0],s=l.css("width").split("px")[0],r.bottom):(e=+l.css("left").split("px")[0]+ +l.css("width").split("px")[0],i=l.css("top").split("px")[0],s=r.right,l.css("height").split("px")[0]);$("#draggableDiv"+n.m_objectid).css({"z-index":t.maximizeZindex,left:e+"px",top:n.fontScaling(i)+"px",width:s+"px",height:r+"px"}),$("#draggableCanvas"+n.m_objectid).attr("width",s),$("#draggableCanvas"+n.m_objectid).attr("height",r),$("#draggableCanvas"+n.m_objectid).css({width:s,height:r}),this.adjustPixelRatio(),this.m_width=s,this.m_height=r},FilterChips.prototype.setOriginalPosition=function(){var t=this;this.m_width=this.m_original_width,this.m_height=this.m_original_height,$("#draggableDiv"+t.m_objectid)[0].offsetLeft=this.m_original_x,$("#draggableDiv"+t.m_objectid)[0].offsetTop=this.m_original_y,$("#draggableDiv"+t.m_objectid).css({"z-index":this.m_zIndex,left:+this.m_original_x+"px",top:+this.m_original_y+"px",width:this.m_original_width+"px",height:this.m_original_height+"px"}),$("#draggableCanvas"+t.m_objectid).attr("width",this.m_original_width),$("#draggableCanvas"+t.m_objectid).attr("height",this.m_original_height),$("#draggableCanvas"+t.m_objectid).css({width:this.m_original_width,height:this.m_original_height}),this.adjustPixelRatio(),this.m_x=0,this.m_y=0},FilterChips.prototype.getLegendTextHeight=function(t,e){var t=$('<span style="font-size:'+this.fontScaling(+t)+"; font-family:"+e+';">Hg</span>'),e=$('<div style="display: inline-block; width: 1px; height: 0px;"></div>'),i=$("<div></div>");i.append(t,e),$("body").append(i);try{var s={};e.css({verticalAlign:"baseline"}),s.ascent=e.offset().top-t.offset().top,e.css({verticalAlign:"bottom"}),s.height=e.offset().top-t.offset().top,s.descent=s.height-s.ascent}finally{i.remove()}return s.height},FilterChips.prototype.getDataPointAndUpdateGlobalVariable=function(t,e,i){this.updateDataPoints({drillDisplayField:t,drillField:e},i)};
//# sourceMappingURL=FilterChips.min.js.map