/*! BDB Charting Library V10.0.0 (2025-08-14 11:37:12) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
function MitoPlotChart(t,i){this.base=Chart,this.base(),this.m_x=400,this.m_y=240,this.m_width=300,this.m_height=240,this.m_radius=0,this.m_centerX=0,this.m_centerY=0,this.m_aggregation="",this.m_linewidth=40,this.m_categoryNames=[],this.m_seriesNames=[],this.m_categoryData=[],this.m_seriesData=[],this.m_markeravail=!1,this.m_startAngle=[],this.m_endAngle=[],this.m_slice=[],this.m_xaxis=null,this.m_yAxis=new Yaxis,this.m_calculation=new Mitoplotcalculation,this.m_chartContainer=t,this.m_zIndex=i,this.m_percentageInnerCutout=0,this.m_isCategoryAvailable=!0,this.m_luminance=.5,this.m_seriescolors={},this.m_strokecolor="#000000",this.m_canvastype="svg",this.m_showslicevalue="false",this.m_slicelimit="false",this.m_noofslices="5",this.m_slicefontsize="12",this.m_slicelabelfontfamily="Roboto",this.m_slicelabelfontweight="normal",this.m_slicelabelfontstyle="normal",this.m_globalFontSize=0,this.m_slicelabelfontsize="",this.noOfTextOutSide=0,this.m_originalRadius=0,this.m_maxtooltiprows=10,this.m_isSpaceForTextDrawing=!0,this.calculatedPercent=[],this.m_percentlabelposition=75,this.m_seriesDataLabel=[],this.m_seriesDataLabelProperty=[],this.m_enableanimation="false",this.m_pieanimationduration=.5,this.m_slicingdistance=5,this.m_strokelinewidth=1,this.m_datalabelmarkerlength=10}function Mitoplotcalculation(){this.m_globalCal="",this.m_categoryData=[],this.m_seriesData=[],this.m_endX="",this.m_endY="",this.m_width="",this.m_height="",this.m_marginX,this.m_marginLegend,this.m_availableHeight,this.m_availabeWidth,this.total,this.ratio,this.m_startAngle=[],this.m_endAngle=[],this.m_chart}function MitoPlotSlice(){this.m_centerX,this.m_centerY,this.m_radius,this.m_startAngle,this.m_endAngle,this.m_color={},this.m_chart,this.ctx="",this.m_seriesdata=[],this.m_orientation=[]}function MitoPlotDataLabel(){this.m_datalabelProperties={},this.m_datalabelPosition,this.m_datalabel,this.m_chart}MitoPlotChart.prototype=new Chart,MitoPlotChart.prototype.initCanvas=function(){$("#draggableDiv"+this.m_objectid).remove(),this.initializeDraggableDivAndCanvas()},MitoPlotChart.prototype.initializeDraggableDivAndCanvas=function(){this.setDashboardNameAndObjectId(),this.m_draggableDiv=this.createDraggableDiv(this.m_chartContainer,this.m_zIndex),this.createDraggableCanvas(this.m_draggableDiv),this.setCanvasContext(),$("#draggableCanvas"+this.m_objectid).hide(),this.createSVG()},MitoPlotChart.prototype.createSVG=function(){$("#draggableSvgDiv"+this.m_objectid).remove();var t=document.createElement("div");t.id="draggableSvgDiv"+this.m_objectid,t.style.height=this.m_height+"px",t.style.width=this.m_width+"px",this.m_draggableDiv.appendChild(t),this.paper=Raphael("draggableSvgDiv"+this.m_objectid,this.m_width,this.m_height),this.svgContainerId="svgContainer"+this.m_objectid,this.paper.canvas.setAttribute("id",this.svgContainerId),this.paper.canvas.setAttribute("class","svg_chart_container")},MitoPlotChart.prototype.removeSVG=function(){$("#"+this.svgContainerId).remove()},MitoPlotChart.prototype.setProperty=function(t){this.ParseJsonAttributes(t.Object,this),this.initCanvas()},MitoPlotChart.prototype.ParseJsonAttributes=function(t,i){this.ParsePropertyJsonAttributes(t,i)},MitoPlotChart.prototype.updateSvgClassRef=function(){this.m_title=new svgTitle(this),this.m_subTitle=new svgSubTitle},MitoPlotChart.prototype.ParsePropertyJsonAttributes=function(t,i){for(var a in this.chartJson=t,this.updateSvgClassRef(),t)if("Chart"==a)for(var e in t[a])switch(e){case"xAxis":case"yAxis":break;case"Title":for(var s in t[a][e]){var o=this.getNodeAttributeName(s);i.m_title[o]=t[a][e][s]}break;case"SubTitle":for(var r in t[a][e]){var o=this.getNodeAttributeName(r);i.m_subTitle[o]=t[a][e][r]}break;default:i[o=this.getNodeAttributeName(e)]=t[a][e]}else i[o=this.getNodeAttributeName(a)]=t[a]},MitoPlotChart.prototype.getDataProvider=function(){return this.m_dataProvider},MitoPlotChart.prototype.getFieldsJson=function(){return this.m_fieldsJson},MitoPlotChart.prototype.setFields=function(t){this.m_fieldsJson=t;for(var i=[],a=[],e=[],s=[],o=[],r=[],h=0,l=this.m_fieldsJson.length;h<l;h++)switch(this.getProperAttributeNameValue(this.m_fieldsJson[h],"Type")){case"Category":i.push(this.m_fieldsJson[h]);break;case"Series":a.push(this.m_fieldsJson[h]);break;case"Orientation":e.push(this.m_fieldsJson[h]);break;case"Start":s.push(this.m_fieldsJson[h]);break;case"Stop":o.push(this.m_fieldsJson[h]);break;case"Marker":r.push(this.m_fieldsJson[h]);break;case"CalculatedField":a.push(this.m_fieldsJson[h])}this.setCategory(i),this.setSeries(a),this.setOrientation(e),this.setStartPoints(s),this.setStopPoints(o),0<r.length&&(this.m_markeravail=!0,this.setDataLabel(r))},MitoPlotChart.prototype.setCategory=function(t){this.m_categoryNames=[],this.m_categoryData=[];for(var i=0,a=t.length;i<a;i++)this.m_categoryNames[i]=this.getProperAttributeNameValue(t[i],"Name"),this.m_categoryData[i]=this.getDataFromJSON(this.m_categoryNames[i])},MitoPlotChart.prototype.setSeries=function(t){this.m_seriesNames=[],this.m_colorarrmap=[],this.m_seriesData=[],this.m_xmlColor=this.m_seriescolor.split(",");for(var i=0,a=t.length;i<a;i++)this.m_seriesNames[i]=this.getProperAttributeNameValue(t[i],"Name"),this.m_seriesData[i]=this.getDataFromJSON(this.m_seriesNames[i]);for(var e=0,s=0,o=this.m_seriesData[0].length;e<o;e++)void 0===this.m_seriescolors[this.m_seriesData[0][e]]&&(this.m_seriescolors[this.m_seriesData[0][e]]=convertColorToHex(this.m_xmlColor[s]),s++)},MitoPlotChart.prototype.setOrientation=function(t){this.m_orientation=[],this.m_orientationData=[];for(var i=0,a=t.length;i<a;i++)this.m_orientation[i]=this.getProperAttributeNameValue(t[i],"Name"),this.m_orientationData[i]=this.getDataFromJSON(this.m_orientation[i])},MitoPlotChart.prototype.setStartPoints=function(t){this.m_startpoints=[],this.m_startpointsData=[];for(var i=0,a=t.length;i<a;i++)this.m_startpoints[i]=this.getProperAttributeNameValue(t[i],"Name"),this.m_startpointsData[i]=this.getDataFromJSON(this.m_startpoints[i])},MitoPlotChart.prototype.setStopPoints=function(t){this.m_stoppoints=[],this.m_stoppointsData=[];for(var i=0,a=t.length;i<a;i++)this.m_stoppoints[i]=this.getProperAttributeNameValue(t[i],"Name"),this.m_stoppointsData[i]=this.getDataFromJSON(this.m_stoppoints[i])},MitoPlotChart.prototype.setDataLabel=function(t){this.m_datalabelposition=[],this.m_seriesdatalabelproperty=[],this.m_datalabelpositionarr=[],this.m_datalabel=[];for(var i=0,a=t.length;i<a;i++)this.m_datalabelposition[i]=this.getProperAttributeNameValue(t[i],"Name"),this.m_datalabelpositionarr[i]=this.getDataFromJSON(this.m_datalabelposition[i]),this.m_seriesdatalabelproperty[i]=this.getProperAttributeNameValue(t[i],"DataLabelCustomProperties"),IsBoolean(this.m_seriesdatalabelproperty[i].showDataLabel)&&(this.m_datalabel[i]=this.getDataFromJSON(this.m_seriesdatalabelproperty[i].datalabelField))},MitoPlotChart.prototype.getSeriesData=function(){return this.m_seriesData},MitoPlotChart.prototype.getSeriesColors=function(){return this.m_seriescolors},MitoPlotChart.prototype.getCategoryData=function(){return this.m_categoryData},MitoPlotChart.prototype.getStartData=function(){return this.m_startpointsData},MitoPlotChart.prototype.getStopData=function(){return this.m_stoppointsData},MitoPlotChart.prototype.getOrientation=function(){return this.m_orientationData},MitoPlotChart.prototype.getDataLabelPosition=function(){return this.m_datalabelpositionarr},MitoPlotChart.prototype.getAllFieldsName=function(){return this.m_categoryNames},MitoPlotChart.prototype.init=function(){this.createSVG(),this.initMouseMoveEvent(this.m_chartContainer),this.initMouseClickEventForSVG(this.svgContainerId),this.isSeriesDataEmpty(),this.m_chartFrame.init(this),this.m_title.init(this),this.m_subTitle.init(this),IsBoolean(this.m_isEmptySeries)||(this.initializeCalculation(),this.setSlice(),this.m_markeravail&&this.setMitoDataLabel()),this.initializeToolTipProperty(),this.m_tooltip.init(this)},MitoPlotChart.prototype.initializeCalculation=function(){this.m_calculation.init(this),this.m_yAxis.init(this,this.m_calculation)},MitoPlotChart.prototype.initializeToolTipProperty=function(){""==this.m_customtextboxfortooltip&&(this.m_customtextboxfortooltip={dataTipTypeArray:"",dataTipType:"None",datatipData:""})},MitoPlotChart.prototype.setSlice=function(){var t=this.getSeriesColors(),i=(this.m_startAngle=this.m_calculation.getStartAngle(),this.m_endAngle=this.m_calculation.getEndAngle(),this.m_strkelinewidth=2,this.m_strokeangle=.0349066,this.m_radius=this.m_calculation.radiusCalc(),this.getSeriesData()),a=this.getOrientation();this.m_centerX=this.centerX,this.m_centerY=this.centerY,this.m_slice=[];for(var e=0,s=this.getCategoryData()[0].length;e<s;e++)this.m_slice[e]=new MitoPlotSlice,this.m_slice[e].init(this.m_centerX,this.m_centerY,this.m_radius,this.m_startAngle[e],this.m_endAngle[e],t,this.ctx,this.m_chartbase,this.m_luminance,this,this.m_strkelinewidth,this.m_strokecolor,this.m_strokeangle,i[0][e],a[0][e])},MitoPlotChart.prototype.setMitoDataLabel=function(){this.m_mitodatalabel=[];var t=this.centerX,i=this.centerY,a=this.m_calculation.radiusCalc();if(Position=this.m_calculation.getdatalabelPosition(),IsBoolean(this.m_seriesdatalabelproperty[0].showDataLabel))for(var e=0,s=this.getDataLabelPosition()[0].length;e<s;e++)this.m_mitodatalabel[e]=new MitoPlotDataLabel,this.m_mitodatalabel[e].init(Position[e],this.m_seriesdatalabelproperty[0],this.m_datalabel[0][e],t,i,a,this)},MitoPlotChart.prototype.drawChart=function(){this.drawChartFrame(),this.drawTitle(),this.drawSubTitle(),IsBoolean(this.m_isEmptySeries)?this.drawSVGMessage(this.m_status.noData):(this.angleDiff=[],this.drawMitoPlotChart(),this.m_markeravail&&this.drawMitoPlotDataLabel())},MitoPlotChart.prototype.drawObject=function(){this.drawSVGObject()},MitoPlotChart.prototype.drawChartFrame=function(){this.m_chartFrame.drawSVGFrame()},MitoPlotChart.prototype.drawTitle=function(){this.m_title.draw()},MitoPlotChart.prototype.drawSubTitle=function(){this.m_subTitle.draw()},MitoPlotChart.prototype.getStartX=function(){return this.m_x+0},MitoPlotChart.prototype.getStartY=function(){return+(this.m_y+this.m_height)},MitoPlotChart.prototype.getEndX=function(){return+(this.m_x+this.m_width)},MitoPlotChart.prototype.getEndY=function(){return this.m_y+ +this.getMarginForTitle()+ +this.getMarginForSubTitle()},MitoPlotChart.prototype.getMarginForSubTitle=function(){var t=IsBoolean(this.m_subTitle.m_showsubtitle)?""!=this.m_subTitle.getDescription()?1.5*this.m_subTitle.getFontSize():10:0;return t},MitoPlotChart.prototype.getToolTipData=function(t,i){return this.getMitoPlotToolTipData(t,i)},MitoPlotChart.prototype.drawTooltip=function(t,i){var a;IsBoolean(this.m_isEmptySeries)||this.m_designMode||(a=this.getToolTipData(t,i),this.m_hovercallback&&""!=this.m_hovercallback?this.drawCallBackContent(t,i,a):this.drawTooltipContent(a))},MitoPlotChart.prototype.drawTooltipContent=function(t){this.m_tooltip.draw(t,this.m_componenttype)},MitoPlotChart.prototype.getDrillDataPoints=function(t,i){},Mitoplotcalculation.prototype.init=function(t){this.m_chart=t,this.total=0,this.m_categoryData=t.m_categoryData,this.m_endX=t.getEndX(),this.m_endY=t.getEndY(),this.m_x=t.m_x,this.m_y=t.m_y,this.m_startPoints=t.getStartData(),this.m_stopPoints=t.getStopData(),this.m_datalabelpositionarr=t.getDataLabelPosition(),this.m_chart.availableWidth=t.m_width,this.m_chart.availableHeight=this.m_chart.m_height-this.m_chart.getTotalMarginForTitleSubtitle()-this.m_chart.getBottomBarMargin(),this.m_chart.lineWidthCalculation(),this.m_chart.radiusCalculation(),this.m_chart.centerXCalcalculation(),this.m_chart.centerYCalcalculation(),this.Ratiofun(),this.setStartAngle(),this.setEndAngle(),this.m_chart.m_markeravail&&this.datalabelPosition()},Mitoplotcalculation.prototype.Ratiofun=function(){var t=this.m_stopPoints[0].length-1,t=this.m_stopPoints[0][t],i=(""==t&&1<this.m_stopPoints[0].length&&this.m_stopPoints[0].reduce(function(t,i){return Math.max(t,i)}),2*Math.PI);this.ratio=i/t*1},Mitoplotcalculation.prototype.getStartAngle=function(){return this.m_startAngle},Mitoplotcalculation.prototype.setStartAngle=function(){this.m_startAngle=[];for(var t=0,i=this.m_startPoints[0].length;t<i;t++)this.m_startAngle[t]=0==t?0:this.m_startPoints[0][t]*this.ratio;return this.m_startAngle},Mitoplotcalculation.prototype.getEndAngle=function(){return this.m_endAngle},Mitoplotcalculation.prototype.setEndAngle=function(){this.m_endAngle=[];for(var t=0,i=this.m_stopPoints[0].length;t<i;t++)this.m_endAngle[t]=this.ratio*this.m_stopPoints[0][t]*1;return this.m_endAngle},Mitoplotcalculation.prototype.getdatalabelPosition=function(){return this.m_datalabelPosition},Mitoplotcalculation.prototype.datalabelPosition=function(){if(this.m_datalabelPosition=[],void 0!==this.m_datalabelpositionarr&&0<this.m_datalabelpositionarr[0].length)for(var t=0,i=this.m_datalabelpositionarr[0].length;t<i;t++)this.m_datalabelPosition[t]=this.ratio*this.m_datalabelpositionarr[0][t]*1;return this.m_datalabelPosition},Mitoplotcalculation.prototype.radiusCalc=function(){return this.m_chart.availableHeight>=this.m_chart.availableWidth?this.radius=this.m_chart.availableWidth/2-5:this.radius=this.m_chart.availableHeight/2-5,this.radius<1&&(this.radius=1),this.radius},Mitoplotcalculation.prototype.centerXCalc=function(){return this.centerX},Mitoplotcalculation.prototype.centerYCalc=function(){return this.centerY},MitoPlotSlice.prototype.init=function(t,i,a,e,s,o,r,h,l,n,m,_,c,p,d){this.m_centerX=t,this.m_centerY=i,this.m_radius=a,this.m_startAngle=e,this.m_chart=n,this.m_endAngle=s,this.m_color=o,this.ctx=r,this.m_chartbase=h,this.m_luminance=l,this.m_strkelinewidth=m,this.m_strokecolor=_,this.m_seriesdata=p,this.m_orientation=d},MitoPlotSlice.prototype.drawMitoPlotDoughnut=function(t,i){var a,e,s,o,r,h,l=this.m_chart.svgContainerId,n=this.m_radius-this.m_chart.m_linewidth,m=this.m_centerX,_=this.m_centerY,c=this.m_chart.m_linewidth,m=(this.m_chart.angleDiff[t]=(this.m_startAngle+this.m_endAngle)/2,t="-"===this.m_orientation?(p=m+(n-c)*Math.cos(this.m_startAngle),a=m+(n-c)*Math.cos(this.m_endAngle),e=_+(n-c)*Math.sin(this.m_startAngle),s=_+(n-c)*Math.sin(this.m_endAngle),o=m+(n-2*c)*Math.cos(this.m_startAngle),r=m+(n-2*c)*Math.cos(this.m_endAngle),h=_+(n-2*c)*Math.sin(this.m_startAngle),_+(n-2*c)*Math.sin(this.m_endAngle)):(p=m+n*Math.cos(this.m_startAngle),a=m+n*Math.cos(this.m_endAngle),e=_+n*Math.sin(this.m_startAngle),s=_+n*Math.sin(this.m_endAngle),o=m+(n-c)*Math.cos(this.m_startAngle),r=m+(n-c)*Math.cos(this.m_endAngle),h=_+(n-c)*Math.sin(this.m_startAngle),_+(n-c)*Math.sin(this.m_endAngle)),180<Math.abs(this.m_endAngle-this.m_startAngle)),_=["M",o,h,"L",p,e,"A",n,n,0,+m,1,a,s,"A",n,n,0,+m,1,a,s,"L",r,t,"A",n-c,n-c,0,+m,0,o,h].join(" "),p=drawSVGPath();p.setAttribute("d",_),p.setAttribute("style","stroke-width:"+this.m_chart.m_strokelinewidth+"px; stroke:"+this.m_chart.m_strokecolor+"; fill:"+i+";"),$("#"+l).append(p)},MitoPlotDataLabel.prototype.init=function(t,i,a,e,s,o,r){this.m_datalabelProperties=i,this.m_datalabelPosition=t,this.m_datalabel=a,this.ceterX=e,this.centerY=s,this.radius=o,this.m_chart=r},MitoPlotDataLabel.prototype.drawMitoPlotDataLabel=function(t){var i=this.m_chart,a=this.ceterX,e=this.centerY,s=this.radius,o=this.m_datalabelPosition,r=a+s*Math.cos(o),h=e+s*Math.sin(o),l=a+(s-7)*Math.cos(o),n=e+(s-7)*Math.sin(o),a=a+(s-1.5*i.m_linewidth)*Math.cos(o),e=e+(s-1.5*i.m_linewidth)*Math.sin(o),s=drawSVGText(r,h,this.m_datalabel,this.m_datalabelProperties.dataLabelFontColor,"middle","middle"),o=(s.setAttribute("style","font-family:"+selectGlobalFont(this.m_datalabelProperties.datalabelFontFamily)+";font-style:"+this.m_datalabelProperties.datalabelFontStyle+";font-size:"+this.m_chart.fontScaling(this.m_datalabelProperties.dataLabelFontSize)+"px;font-weight:"+this.m_datalabelProperties.datalabelFontWeight+";cursor: default;text-decoration:none;"),$("#"+i.svgContainerId).append(s),["M",a,e,"L",l,n].join(" ")),r=drawSVGPath();r.setAttribute("d",o),r.setAttribute("style","stroke-width:1px; stroke:"+this.m_datalabelProperties.dataLabelFontColor+";"),$("#"+i.svgContainerId).append(r)},MitoPlotSlice.prototype.drawMitoPlotSlice=function(t,i){this.m_chart;this.drawMitoPlotDoughnut(t,i)},MitoPlotDataLabel.prototype.drawMitoDataLabel=function(t){this.m_chart;this.drawMitoPlotDataLabel(t)},MitoPlotChart.prototype.centerXCalcalculation=function(){this.availableWidth=this.m_width;var t=this.getChartToBorderMargin();this.availableWidth/2>+this.radius+10+t?this.centerX="center"==this.m_chartalignment?this.availableWidth/2:"left"==this.m_chartalignment?+this.availableWidth-(this.availableWidth-this.radius)+t:+this.availableWidth-+this.radius-t:this.centerX="center"==this.m_chartalignment?this.availableWidth/2:"left"==this.m_chartalignment?+this.availableWidth-+this.radius-t:+this.availableWidth-(this.availableWidth-this.radius)+t},MitoPlotChart.prototype.centerYCalcalculation=function(){this.availableHeight=this.m_height-this.getTotalMarginForTitleSubtitle()-this.getBottomBarMargin(),this.centerY=this.availableHeight/2+this.getTotalMarginForTitleSubtitle()},MitoPlotChart.prototype.getTotalMarginForTitleSubtitle=function(){return+this.getMarginForTitle()+ +this.getMarginForSubTitle()},MitoPlotChart.prototype.getMarginForMitoPlotChart=function(){return 10},MitoPlotChart.prototype.getBottomBarMargin=function(){return this.isMaximized&&IsBoolean(this.getShowGradient())?30:0},MitoPlotChart.prototype.lineWidthCalculation=function(){var t;this.m_linewidth=40,t=this.m_linewidth>this.availableWidth/4?this.availableWidth/4:this.m_linewidth,this.m_linewidth=.6*t},MitoPlotChart.prototype.radiusCalculation=function(){this.radius=Math.abs((this.availableWidth>=this.availableHeight?this.availableHeight/2:this.availableWidth/2)-20)},MitoPlotChart.prototype.drawMitoPlotChart=function(){for(var t=0;t<this.m_slice.length;t++){var i=this.m_slice[t].m_color[this.m_slice[t].m_seriesdata];this.m_slice[t].drawMitoPlotSlice(t,i)}},MitoPlotChart.prototype.drawMitoPlotDataLabel=function(){for(var t=0;t<this.m_mitodatalabel.length;t++)isNaN(+this.m_mitodatalabel[t].m_datalabelPosition)||this.m_mitodatalabel[t].drawMitoDataLabel(t)},MitoPlotChart.prototype.getMitoPlotToolTipData=function(t,i){if(!IsBoolean(this.m_isEmptySeries)&&"None"!==this.m_customtextboxfortooltip.dataTipType&&!IsBoolean(this.isEmptyCategory)){if("Default"===this.m_customtextboxfortooltip.dataTipType&&(this.m_customtextboxfortooltip.dataTipType="None"),"None"===this.m_customtextboxfortooltip.dataTipType)return!1;var a,e,t=t-this.m_centerX,i=i-this.m_centerY,s=Math.atan2(i,t),t=Math.sqrt(Math.pow(t,2)+Math.pow(i,2)),o=this.m_calculation.getdatalabelPosition(),i=+this.m_linewidth;if(t<=+this.m_radius+10&&t>=this.m_radius-4*i)for(var r=0,h=this.getCategoryData()[0].length;r<h;r++){if(s<0&&(s=2*Math.atan2(0,-1)+s),e=void 0!==o&&0<o.length?(a=o[r]-.05,o[r]+.05):(a=this.m_calculation.getStartAngle()[r],this.m_calculation.getEndAngle()[r]),a<=s&&s<=e)return this.getDataProvider()[r];this.hideToolTip()}else this.hideToolTip()}};
//# sourceMappingURL=MitoPlotChart.min.js.map