/*! BDB Charting Library V10.0.0 (2025-08-14 11:37:12) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
function DecisionTreeChart(t,e){this.base=Chart,this.base(),this.m_x=20,this.m_y=320,this.m_width=300,this.m_height=260,this.m_seriesNames=[],this.m_seriesData=[],this.m_fillopacity=.5,this.fieldNameArr=[],this.m_visibleArr=[],this.m_widthArr=[],this.m_textAlignArr=[],this.m_flipxy=0,this.m_labellinespacing=30,this.m_cornerrounding=10,this.m_labelpadding=12,this.m_arrowheadsize=5,this.m_arrowsup=0,this.m_siblinggap=1,this.m_idealsiblinggap=.1,this.m_minimumcousingap=2,this.m_idealcousingap=1,this.m_levelsgap=.8,this.m_minimumdepth=2,this.m_minimumbreadth=2,this.m_drawroot=!1,this.m_chartContainer=t,this.m_zIndex=e,this.m_percentlayout=!1,this.m_boxwidth=100,this.m_boxheight=50,this.DTSVG="",this.DTGROUP="",this.m_fieldtypes=["Name","condition","depth","nodeID","probability","numberOfItems"],this.m_showborder=!0,this.m_canvastype="svg"}DecisionTreeChart.prototype=new Chart,DecisionTreeChart.prototype.setProperty=function(t){this.ParseJsonAttributes(t.Object,this),this.initCanvas()},DecisionTreeChart.prototype.ParseJsonAttributes=function(t,e){for(var i in this.chartJson=t)if("Chart"==i)for(var r in t[i])switch(r){case"xAxis":for(var s in t[i][r]){var o=this.getNodeAttributeName(s);e.m_xAxis[o]=t[i][r][s]}break;case"yAxis":for(var a in t[i][r]){var o=this.getNodeAttributeName(a);e.m_yAxis[o]=t[i][r][a]}break;case"Title":for(var n in t[i][r]){var o=this.getNodeAttributeName(n);e.m_title[o]=t[i][r][n]}break;case"SubTitle":for(var h in t[i][r]){o=this.getNodeAttributeName(h);e.m_subTitle[o]=t[i][r][h]}break;default:e[o=this.getNodeAttributeName(r)]=t[i][r]}else e[o=this.getNodeAttributeName(i)]=t[i]},DecisionTreeChart.prototype.initCanvas=function(){$("#draggableDiv"+this.m_objectid).remove(),this.initializeDraggableDivAndCanvas()},DecisionTreeChart.prototype.initializeDraggableDivAndCanvas=function(){this.setDashboardNameAndObjectId(),this.m_draggableDiv=this.createDraggableDiv(this.m_chartContainer,this.m_zIndex),this.m_draggableDiv.style.overflow="auto",this.createDraggableCanvas(this.m_draggableDiv),this.setCanvasContext(),this.initMouseMoveEvent(this.m_chartContainer),this.initMouseClickEvent(),this.divScrollEvent(),this.createSVG(),$("#draggableCanvas"+this.m_objectid).hide()},DecisionTreeChart.prototype.divScrollEvent=function(){var e=this,i=this.getDragableDiv();i.scroll(function(){var t;IsBoolean(e.m_showmaximizebutton)&&(t=i.find("svg").width()-i.width(),t=Math.min(t,i.scrollLeft()),$("#minmaxImage"+e.m_objectid)[0].style.left=i.width()-$("#minmaxImage"+e.m_objectid).width()-5+t+"px")})},DecisionTreeChart.prototype.getDragableDiv=function(){return $("#draggableDiv"+this.m_objectid)},DecisionTreeChart.prototype.createSVG=function(){var t=this;this.svgContainerId="svgContainer"+t.m_objectid,$("#"+t.svgContainerId).remove(),t.DTSVG=document.createElementNS("http://www.w3.org/2000/svg","svg"),t.DTSVG.setAttribute("xlink","http://www.w3.org/1999/xlink"),t.DTSVG.setAttribute("width",this.m_width),t.DTSVG.setAttribute("height",this.m_height),t.DTSVG.setAttribute("id",this.svgContainerId),$("#draggableDiv"+t.m_objectid).append(t.DTSVG)},DecisionTreeChart.prototype.createSVGBodyElement=function(){var t=this,e=document.createElementNS("http://www.w3.org/2000/svg","defs"),i=document.createElementNS("http://www.w3.org/2000/svg","marker"),r=(i.setAttribute("id","arrowHead"),i.setAttribute("viewBox","-10 -5 10 10"),i.setAttribute("markerUnits","strokeWidth"),i.setAttribute("markerWidth","6"),i.setAttribute("markerHeight","5"),i.setAttribute("orient","auto"),document.createElementNS("http;//www.w3.org/2000/svg","path"));i.appendChild(r),r.setAttribute("d","M -10 -5 L 0 0 L -10 5 z"),t.DTGROUP=document.createElementNS("http://www.w3.org/2000/svg","g"),t.DTGROUP.setAttribute("id","DTGROUP"+t.m_objectid),t.DTSVG.appendChild(e),t.DTSVG.appendChild(t.DTGROUP),e.appendChild(i)},DecisionTreeChart.prototype.getDataProvider=function(){return this.m_dataProvider},DecisionTreeChart.prototype.setFields=function(t){this.m_fieldsJson=t,this.setSeries(t)},DecisionTreeChart.prototype.setSeries=function(t){this.m_fieldtypes;this.m_seriesNames=[],this.m_seriesDisplayNames=[],this.m_allSeriesDisplayNames=[],this.m_allSeriesNames=[],this.m_seriesVisibleArr=[],this.m_reqSeriesVisibleArr=[],this.m_seriesNamesWithType=[],this.m_numberOfItems=[];for(var e=0;e<this.m_fieldtypes.length;e++){this.m_reqSeriesVisibleArr[this.m_fieldtypes[e]]={},this.m_reqSeriesVisibleArr[this.m_fieldtypes[e]].visible=!1;for(var i=0;i<t.length;i++){var r=this.getProperAttributeNameValue(t[i],"Type"),s=this.getProperAttributeNameValue(t[i],"visible"),o=this.formattedDescription(this,this.getProperAttributeNameValue(t[i],"DisplayName"));if(this.m_allSeriesDisplayNames[i]=o,this.m_allSeriesNames[i]=this.getProperAttributeNameValue(t[i],"Name"),this.m_seriesVisibleArr[this.m_allSeriesNames[i]]=s,IsBoolean(s)&&this.m_fieldtypes[e]==r){this.m_reqSeriesVisibleArr[this.m_fieldtypes[e]].visible=!0,this.m_seriesNames.push(this.getProperAttributeNameValue(t[i],"Name"));s=this.getProperAttributeNameValue(t[i],"Name");if(this.m_seriesDisplayNames.push(o),"numberOfItems"==(this.m_seriesNamesWithType[s]=r)&&this.m_numberOfItems.push(this.getProperAttributeNameValue(t[i],"Name")),"probability"!=r)break}}}},DecisionTreeChart.prototype.getAllFieldsName=function(){return this.m_allSeriesDisplayNames},DecisionTreeChart.prototype.setNumberOfItems=function(){this.m_numberOfItemsArray=this.m_numberOfItems},DecisionTreeChart.prototype.getNumberOfItems=function(){return this.m_numberOfItemsArray},DecisionTreeChart.prototype.setProbabilityDisplayName=function(){this.m_seriesProbabilityArray=[],this.m_seriesProbabilityDisplayArray=[];for(var t=0;t<this.m_seriesNames.length;t++)"probability"==this.m_seriesNamesWithType[this.m_seriesNames[t]]&&(this.m_seriesProbabilityArray.push(this.m_seriesNames[t]),this.m_seriesProbabilityDisplayArray.push(this.m_seriesDisplayNames[t]))},DecisionTreeChart.prototype.getProbabilityDisplayName=function(){return this.m_seriesProbabilityArray},DecisionTreeChart.prototype.setDisplayName=function(){this.m_displayName=this.m_seriesDisplayNames[0]},DecisionTreeChart.prototype.setDisplayCondition=function(){this.m_displaycondition=this.m_seriesDisplayNames[1]},DecisionTreeChart.prototype.setDisplayDepth=function(){this.m_displaydepth=this.m_seriesDisplayNames[2]},DecisionTreeChart.prototype.setDisplayNodeID=function(){this.m_displaynodeid=this.m_seriesDisplayNames[3]},DecisionTreeChart.prototype.setDisplayFirstProbabilityField=function(){this.m_displayfirstprobabilityfield=this.m_seriesDisplayNames[4]},DecisionTreeChart.prototype.setDisplaySecondProbabilityField=function(){this.m_displaysecondprobabilityfield=this.m_seriesDisplayNames[5]},DecisionTreeChart.prototype.setDisplayItems=function(){this.m_displayitemsfield=this.m_seriesDisplayNames[6]},DecisionTreeChart.prototype.getDisplayName=function(){return this.m_displayName},DecisionTreeChart.prototype.getDisplayCondition=function(){return this.m_displaycondition},DecisionTreeChart.prototype.getDisplayDepth=function(){return this.m_displaydepth},DecisionTreeChart.prototype.getDisplayNodeID=function(){return this.m_displaynodeid},DecisionTreeChart.prototype.getDisplayFirstProbabilityField=function(){return this.m_displayfirstprobabilityfield},DecisionTreeChart.prototype.getDisplaySecondProbabilityField=function(){return this.m_displaysecondprobabilityfield},DecisionTreeChart.prototype.getDisplayItems=function(){return this.m_displayitemsfield},DecisionTreeChart.prototype.setName=function(){this.m_fieldName=this.m_seriesNames[0]},DecisionTreeChart.prototype.setCondition=function(){this.m_condition=this.m_seriesNames[1]},DecisionTreeChart.prototype.setDepth=function(){this.m_depth=this.m_seriesNames[2]},DecisionTreeChart.prototype.setNodeID=function(){this.m_nodeid=this.m_seriesNames[3]},DecisionTreeChart.prototype.setFirstProbabilityField=function(){this.m_firstprobabilityfield=this.m_seriesNames[4]},DecisionTreeChart.prototype.setSecondProbabilityField=function(){this.m_secondprobabilityfield=this.m_seriesNames[5]},DecisionTreeChart.prototype.setProbabilityRectColors=function(){this.m_probabilityColorArray=this.m_prababilityrectcolors.split(",")},DecisionTreeChart.prototype.getDisplayName=function(){return this.m_displayName},DecisionTreeChart.prototype.getCondition=function(){return this.m_condition},DecisionTreeChart.prototype.getName=function(){return this.m_fieldName},DecisionTreeChart.prototype.getNodeID=function(){return this.m_nodeid},DecisionTreeChart.prototype.getDepth=function(){return this.m_depth},DecisionTreeChart.prototype.setBottomPercentField=function(){this.m_bottompercentfield="percentValue"},DecisionTreeChart.prototype.setDisplayBottomPercentField=function(){this.m_displaybottompercentfield="% Value"},DecisionTreeChart.prototype.getDisplayBottomPercentField=function(){return this.m_displaybottompercentfield},DecisionTreeChart.prototype.getBottomPercentField=function(){return this.m_bottompercentfield},DecisionTreeChart.prototype.getFirstProbabilityField=function(){return this.m_firstprobabilityfield},DecisionTreeChart.prototype.getSecondProbabilityField=function(){return this.m_secondprobabilityfield},DecisionTreeChart.prototype.getItems=function(){return this.m_items},DecisionTreeChart.prototype.getParent=function(t){for(var e,i=1;i<this.m_binaryTreeArray.length;i++)for(var r=0;r<this.m_binaryTreeArray[i].length;r++)1==t&&(e=null),t==this.m_binaryTreeArray[i][r]&&(e=i);return e},DecisionTreeChart.prototype.getMaximumDepth=function(t){for(var e=0,i=0;i<t.length;i++)e<t[i][this.getDepth()]&&(e=t[i][this.getDepth()]);return e},DecisionTreeChart.prototype.getNumberOfNode=function(t){for(var e=1,i=0;i<=t;i++)e*=2;return e},DecisionTreeChart.prototype.getDataFromJSON=function(){for(var t=[],e=0;e<this.getDataProvider().length;e++)null==this.getDataProvider()[e]||"undefined"==this.getDataProvider()[e]?t[e]="":t[e]=this.getDataProvider()[e];return t},DecisionTreeChart.prototype.getUpateSeriesData=function(t,e){for(var i=[],r=1,s=1;s<=e;s++){for(var o=0;o<t.length;o++){if(s==t[o][this.getNodeID()]){t[o].id=s,i[r]=t[o];break}i[r]=0}r++}return i},DecisionTreeChart.prototype.getDepthArray=function(t){for(var e=[],i=1,r=0;r<+t+1;r++){e[r]=[];for(var s=0;s<Math.pow(2,r);s++)e[r][s]=this.m_seriesData[i++]}for(var o=[],r=0;r<e.length;r++){o[r]=[];for(s=0;s<e[r].length;s++)""!=e[r][s][this.getNodeID()]?o[r][s]=e[r][s]:o[r][s]=0}return o},DecisionTreeChart.prototype.getBinaryArray=function(t,e){for(var i=[],r=1,s=1;s<t.length;s++)r<t.length&&(i[s]=[r+1,r+2],r+=2);return i},DecisionTreeChart.prototype.setParentIDs=function(t,e){for(var i=0;i<t.length;i++)for(var r,s=0;s<t[i].length;s++)"object"==typeof t[i][s]&&(r=this.getParent(t[i][s][this.getNodeID()])),t[i][s].p_id=r},DecisionTreeChart.prototype.getSingleArray=function(t,e){for(var i=[],r=0,s=0;s<t.length;s++)for(var o=0;o<=t[s].length;o++)0!=t[s][o]&&null!=t[s][o]&&(i[r]=t[s][o],r++);return i},DecisionTreeChart.prototype.setHierarchicalObjectForm=function(t){this.m_map={};for(var e=t,i=0;i<e.length;i++){var r=e[i],s=(r.label="",r.children=[],r.parent=[],(this.m_map[r[this.getNodeID()]]=r).p_id||"-");this.m_map[s]||(this.m_map[s]={label:"root",parent:"",children:[]}),this.m_map[s].children.push(r),r.parent=this.m_map[s],r.label=""+r[this.getNodeID()]}},DecisionTreeChart.prototype.init=function(){var t,e;this.checkValidConfiguration(),this.m_seriesData=this.getDataFromJSON(),this.isSeriesDataEmpty(),this.m_chartFrame.init(this),this.m_title.init(this),this.m_subTitle.init(this),IsBoolean(this.isValidConfig)&&!IsBoolean(this.m_isEmptySeries)&&(this.setName(),this.setDisplayName(),this.setCondition(),this.setNodeID(),this.setDepth(),this.setBottomPercentField(),this.setProbabilityDisplayName(),this.setFirstProbabilityField(),this.setSecondProbabilityField(),this.setDisplayCondition(),this.setDisplayNodeID(),this.setDisplayDepth(),this.setNumberOfItems(),this.setProbabilityRectColors(),this.setDisplayBottomPercentField(),this.setDisplayFirstProbabilityField(),this.setDisplaySecondProbabilityField(),this.setDisplayItems(),t=this.getMaximumDepth(this.m_seriesData),e=this.getNumberOfNode(t),this.m_seriesData=this.getUpateSeriesData(this.m_seriesData,e),this.m_depthArray=this.getDepthArray(t),this.m_binaryTreeArray=this.getBinaryArray(this.m_seriesData,t),this.setParentIDs(this.m_depthArray),this.m_binaryTreeObject=this.getSingleArray(this.m_depthArray,e),this.setHierarchicalObjectForm(this.m_binaryTreeObject),this.setMakeLevels(this.getHierarchicalObjectForm(),this.m_drawroot),this.setPercentValue(this.getMakeLevels())),this.initializeToolTipProperty(),this.m_tooltip.init(this),this.m_percentfillcolor=hex2rgb(this.m_percentcolor,this.m_opacity)},DecisionTreeChart.prototype.getMakeLevels=function(){return this.m_levels},DecisionTreeChart.prototype.getHierarchicalObjectForm=function(){return this.m_map["-"]||{children:[]}},DecisionTreeChart.prototype.checkValidConfiguration=function(){this.isValidConfig=!0;for(var t=0;t<this.m_fieldtypes.length-2;t++)IsBoolean(this.m_reqSeriesVisibleArr[this.m_fieldtypes[t]].visible)||(this.isValidConfig=!1)},DecisionTreeChart.prototype.clear=function(t){for(;0<t.childNodes.length;)t.removeChild(t.childNodes[0])},DecisionTreeChart.prototype.setPercentValue=function(t){for(var e,i,r=0;r<t.length;r++)for(var s=0;s<t[r].length;s++)for(var o=0;o<t[r][s].length;o++){var a=t[r][s][o];a[this.getBottomPercentField()]="","root"==a[this.getCondition()]&&null==a.p_id?(i=a[this.getNumberOfItems()],a[this.getBottomPercentField()]=0==this.m_numberOfItems.length?"":100):0!=this.m_numberOfItems.length&&(e=i,a[this.getBottomPercentField()]=(a[this.getNumberOfItems()]/e*100).toFixed(4))}},DecisionTreeChart.prototype.drawChart=function(){this.drawChartFrame(),this.m_title.draw(),this.m_subTitle.draw(),this.createSVGBodyElement(),IsBoolean(this.m_isEmptySeries)?this.drawSVGMessage(this.m_status.noData):IsBoolean(this.isValidConfig)?this.drawTreeDiagram():this.drawSVGMessage("Invalid chart configuration")},DecisionTreeChart.prototype.drawChartFrame=function(){this.m_chartFrame.drawSVGFrame()},DecisionTreeChart.prototype.drawObject=function(){this.drawSVGObject()},DecisionTreeChart.prototype.drawTreeDiagram=function(){for(var t=this,e=(this.getHierarchicalObjectForm(),this.clear(t.DTGROUP),this.getMakeLevels()),i=-1,M=[],r=[],s=0;s!=e.length;s++){for(var o=e[s],a=0,B=0,L=0,n=0;n!=o.length;n++)a+=L,B+=(p=o[n]).length,a+=(p.length-1)*this.m_siblinggap*1,L=+this.m_minimumcousingap;var E=a+B;(-1==i||r[i]<E)&&(i=s),r.push(E),M.push(a)}for(var h=Math.max(r[i],this.m_minimumbreadth*(+this.m_levelsgap+1)),o=e[i],R=+this.m_siblinggap,l=h-r[i],z=+this.m_minimumcousingap,m=(1<o.length&&(l-=(C=Math.min(l/(o.length-1),+this.m_idealcousingap-+this.m_minimumcousingap))*(o.length-1),z+=C),l/2),s=0;s!=o.length;s++){for(var p=o[s],j=0,n=0;n!=p.length;n++)m+=j,(d=p[n]).x=m,m+=1,j=R;m+=z}for(s=i-1;0<=s;s--){for(o=e[s],n=0;n!=o.length;n++)for(var p=o[n],c=0;c!=p.length;c++){var d=p[c];if(0!=d.children.length){for(var U=0,u=0;u!=d.children.length;u++)U+=d.children[u].x;d.x=U/d.children.length}}this.sweepAndAverage(o,h)}for(s=i+1;s<e.length;s++){for(o=e[s],n=0;n!=o.length;n++)for(var H=(p=o[n])[0].parent,J=(p.length-1)*(+this.m_idealsiblinggap+1),m=H.x-J/2,g=0;g!=p.length;g++)(d=p[g]).x=m,m+=+this.m_idealsiblinggap+1;this.sweepAndAverage(o,h)}t.DTSVG.getElementById("arrowHead").setAttribute("markerHeight",+this.m_arrowheadsize);var f,_,y,b,D,T=IsBoolean(this.m_updateddesign)?2:1,v=IsBoolean(this.m_updateddesign)?3:1,C=Math.max(e.length,this.m_minimumdepth*T),l=C+(C-v)*this.m_levelsgap*1,N=(+this.m_flipxy?(f="y",_="x"):(f="x",_="y"),+this.m_arrowsup?(y="2","1"):(y="1","2")),C=+this.m_boxwidth,C=+this.m_width<C*h+2;IsBoolean(C)?(b=+this.m_boxwidth,D=+this.m_boxheight,t.DTSVG.style.width=b*h+2+"px"):(b=this.m_width/h,D=(this.m_height-+this.m_roottopmargin)/l,t.DTSVG.style.width=this.m_width+"px",t.DTSVG.style.height=this.m_height+"px");for(s=0;s!=e.length;s++)for(o=e[s],n=0;n!=o.length;n++)for(p=o[n],c=0;c!=p.length;c++){var x,w,A,S,P,d=p[c],$=s*(+this.m_levelsgap+1),T=IsBoolean(this.m_updateddesign)?-20:4,V=Math.floor(d.x*b+T),I=Math.floor($*D)+ +this.m_roottopmargin,v=IsBoolean(this.m_updateddesign)?50:-4,O=Math.floor(b+v),k=0!=this.m_numberOfItems.length||0!=this.m_seriesProbabilityArray.length?Math.floor(D):3*this.m_titlerectheight,G=hex2rgb(this.m_noderectstrokecolor,this.m_noderectopacity),F=hex2rgb(this.m_noderectfillcolor,this.m_noderecttrasparency),F=this.drawSVGRect(V,I,O,k,G,F,2),W=(this.createTooltipTipMap(F,d),this.drawSVGText(d[this.getCondition()],V+O/2,I,O,k,+this.m_labellinespacing,f,_,this.m_textstrokecolor,this.m_conditiontextanchor,this.m_conditionfontweight,this.m_conditionfontsize,this.m_fontfamily),F="middle"==this.m_titletextanchor?V+O/2:"end"==this.m_titletextanchor?V+O-4:V,x=this.validateText(d[this.getName()],O),this.drawSVGText(x,F+ +this.m_textleftmargin,I+2+3*this.m_textfontsize/2,O,k,+this.m_labellinespacing,f,_,this.m_textstrokecolor,this.m_titletextanchor,this.m_titlefontweight,this.m_titlefontsize,this.m_fontfamily),hex2rgb(this.m_linestrokecolor,this.m_lineopacity));0==this.m_numberOfItems.length&&0==this.m_seriesProbabilityArray.length||(w=V,T=IsBoolean(this.m_updateddesign)?2:1,A=I+this.m_titlerectheight*T,S=V+O,v=IsBoolean(this.m_updateddesign)?2:1,P=I+this.m_titlerectheight*v,this.drawSVGLine(w,A,S,P,f,_,y,N,W),F="middle"==this.m_numberofitemstextanchor?V+O/2:"end"==this.m_numberofitemstextanchor?V+O-4:V,x=null==(x=d[this.getNumberOfItems()])||""==x?"":this.validateText(this.getDisplayItems()+"="+d[this.getNumberOfItems()],O),IsBoolean(this.m_updateddesign)?this.drawSVGText(x,F-10+this.m_textleftmargin/4,I+3*this.m_textfontsize,O,k,+this.m_labellinespacing,f,_,this.m_textstrokecolor,this.m_numberofitemstextanchor,this.m_numberofitemsfontweight,this.m_numberofitemstextfontsize,this.m_fontfamily):this.drawSVGText(x,F+ +this.m_textleftmargin,I+3*this.m_textfontsize,O,k,+this.m_labellinespacing,f,_,this.m_textstrokecolor,this.m_numberofitemstextanchor,this.m_numberofitemsfontweight,this.m_numberofitemstextfontsize,this.m_fontfamily),x=k-(+this.m_titlerectheight+ +this.m_percentrectheight),G=hex2rgb(this.m_linestrokecolor,this.m_probabilityrectopacity),this.drawProbabilityRect(d,V,I,O,k,x,G,0),A=I+(k-+this.m_percentrectheight),P=I+(k-+this.m_percentrectheight),this.drawSVGLine(w=V,A,S=V+O,P,f,_,y,N,W),F=hex2rgb(this.m_strokecolorforpercentrect,this.m_opacityforpercentrect),this.drawSVGRect(V,I+k-+this.m_percentrectheight,+O,+this.m_percentrectheight,F,this.m_percentfillcolor,0),IsBoolean(this.m_updateddesign)?""==d.percentValue||this.drawSVGText(d.percentValue+"%",V+O/2,I+k+3,O,k,+this.m_labellinespacing,f,_,this.m_textstrokecolor,this.m_percenttextanchor,this.m_percentfontweight,this.m_percentfontsize,this.m_fontfamily):""==d.percentValue||this.drawSVGText(d.percentValue+"%",V+O/2,I+k,O,k,+this.m_labellinespacing,f,_,this.m_textstrokecolor,this.m_percenttextanchor,this.m_percentfontweight,this.m_percentfontsize,this.m_fontfamily)),0!=s&&(x=(c+1)/(p.length+1),w=Math.floor((d.parent.x+x)*b),G=(s-1)*(+this.m_levelsgap+1),A=0!=this.m_numberOfItems.length||0!=this.m_seriesProbabilityArray.length?Math.floor((1+G)*D)+ +this.m_roottopmargin:Math.floor((1+G)*D)+ +this.m_roottopmargin-D+k,S=Math.floor((d.x+.5)*b),P=Math.floor($*D)+ +this.m_roottopmargin-+this.m_linespace,this.drawSVGLine(w,A,S,P,f,_,y,N,W))}this.scrollOnMaximize()},DecisionTreeChart.prototype.scrollOnMaximize=function(){var t=this.getDragableDiv(),e=this.DTSVG.style.width,i=t[0].style.width;t[0].style.overflowX=e===i?"hidden":"auto"},DecisionTreeChart.prototype.validateText=function(t,e){var i=t;try{if(this.ctx.beginPath(),e<this.ctx.measureText(i).width){for(var r="",s=0;s<i.length;s++){if(!(this.ctx.measureText(r).width<e)){r+="...";break}r+=i[s]}i=r}return this.ctx.closePath(),i}catch(t){return i}},DecisionTreeChart.prototype.drawProbabilityRect=function(t,e,i,r,s,o,a,n){for(var h=0,l=this.m_seriesProbabilityArray.length<=10?this.m_seriesProbabilityArray.length:10,m=r/l,p=0;p<l;p++){var c=o*(+t[this.m_seriesProbabilityArray[p]]<1?t[this.m_seriesProbabilityArray[p]]:1);this.drawSVGRect(e+ +h,i+ +this.m_titlerectheight+ +o-c,m,c,a,this.m_probabilityColorArray[p],n),h=+h+m}},DecisionTreeChart.prototype.drawSVGText=function(t,e,i,r,s,o,a,n,h,l,m,p,c){var d=document.createElementNS(NS,"text");return this.DTGROUP.appendChild(d),d.setAttribute("text-anchor",l),d.setAttribute("fill",h),d.setAttribute("font-size",p+"px"),d.setAttribute("font-weight",m),d.setAttribute("font-family",selectGlobalFont(c)),d.setAttribute("stroke-width",.1),d.setAttribute("alignment-baseline","baseline"),d.setAttribute(a,e+"px"),d.setAttribute(n,i-p/2+"px"),this.getLayoutText(d,t,e,r,s,o),d},DecisionTreeChart.prototype.drawEllipse=function(t,e,i,r,s){var o=document.createElementNS(NS,"ellipse");this.DTGROUP.appendChild(o),o.setAttribute("cx",t*i+i/2),o.setAttribute("cy",e*r+s+r/2),o.setAttribute("rx",2*i/3),o.setAttribute("ry",r/2),o.setAttributeNS(null,"style","visibility:visible;stroke:rgb(122,122,112);fill:rgba(122,122,112,0.4);")},DecisionTreeChart.prototype.drawSVGRect=function(t,e,i,r,s,o,a){var n=document.createElementNS(NS,"rect");return i=i<0?-1*i:i,this.DTGROUP.appendChild(n),n.setAttributeNS(null,"style","visibility:visible;stroke:"+s+";fill:"+o+";"),n.setAttribute("x",t+"px"),n.setAttribute("y",e+"px"),n.setAttribute("width",i+"px"),n.setAttribute("height",r+"px"),n.setAttribute("rx",a+"px"),n.setAttribute("ry",a+"px"),n},DecisionTreeChart.prototype.drawSVGLine=function(t,e,i,r,s,o,a,n,h){var l=document.createElementNS(NS,"line");return this.DTGROUP.appendChild(l),l.style.stroke=h,l.style.opacity=1,l.setAttribute("stroke-width","0.5"),l.setAttribute(s+a,t+"px"),l.setAttribute(o+a,e+"px"),l.setAttribute(s+n,i+"px"),l.setAttribute(o+n,r+"px"),l.setAttribute("marker-end","url(#arrowHead)"),l},DecisionTreeChart.prototype.getLayoutText=function(t,e,i,r,s,o){for(var a=e,n=document.createElementNS(NS,"tspan"),h=(n.setAttributeNS(null,"x",i),n.setAttribute("title",e),t.appendChild(n),n.textContent="..",n.getComputedTextLength()),l=(n.textContent=e,n.getComputedTextLength());r-h<l;)a=a.slice(0,-1),n.textContent=a,l=n.getComputedTextLength();a!=e?a+="..":a=e,n.textContent=a},DecisionTreeChart.prototype.sweepAndAverage=function(t,e){this.sweepLeftToRight(t,"x","x0"),this.sweepRightToLeft(t,"x0","x0",e),this.sweepRightToLeft(t,"x","x1",e),this.sweepLeftToRight(t,"x1","x1");for(var i=0;i!=t.length;i++)for(var r=t[i],s=0;s!=r.length;s++){var o=r[s];o.x=(o.x0+o.x1)/2}},DecisionTreeChart.prototype.sweepLeftToRight=function(t,e,i){for(var r=0,s=0;s!=t.length;s++)for(var o=t[s],a=0;a!=o.length;a++){var n=o[a],h=e in n&&n[e]>r?n[e]:r,r=a==o.length-1?h+1+ +this.m_minimumcousingap:h+1+ +this.m_siblinggap;n[i]=h}},DecisionTreeChart.prototype.sweepRightToLeft=function(t,e,i,r){for(var s=r-1,o=t.length-1;0<=o;o--)for(var a=t[o],n=a.length-1;0<=n;n--){var h=a[n],l=e in h&&h[e]<s?h[e]:s,s=0==n?l-1-+this.m_minimumcousingap:l-1-+this.m_siblinggap;h[i]=l}},DecisionTreeChart.prototype.splitBy=function(t,e){for(var i=[],r=0;r!=t.length;r++){for(var s=t[r].split(e),o=0;o!=s.length-1;o++)i.push(s[o]+e);i.push(s[o])}return i},DecisionTreeChart.prototype.setMakeLevels=function(t,e){var i=[];if(e)i.push([t]);else for(var r=t.children,s=0;s!=r.length;s++)i.push([r[s]]);for(this.m_levels=[];;)if(this.m_levels.push(i),0==(i=this.buildNextLevel(i)).length)break},DecisionTreeChart.prototype.buildNextLevel=function(t){for(var e=[],i=0;i!=t.length;i++)for(var r=t[i],s=0;s!=r.length;s++){var o=r[s];o.children.length&&e.push(o.children)}return e},DecisionTreeChart.prototype.getNodeToolTipData=function(t){for(var e=[],i=0,r=0;i<=this.m_seriesProbabilityArray.length;i++)0==i?0==this.m_numberOfItemsArray.length?e[i]="":e[i]=""==t.percentValue?[this.m_percentfillcolor,this.getDisplayBottomPercentField(),t.percentValue]:[this.m_percentfillcolor,this.getDisplayBottomPercentField(),t.percentValue+"%"]:(e[i]=[this.m_probabilityColorArray[r],this.m_seriesProbabilityDisplayArray[r],t[this.m_seriesProbabilityArray[r]]],r++);return e},DecisionTreeChart.prototype.createTooltipTipMap=function(t,e){var i={labelOfNode:e[this.getName()],condition:e[this.getCondition()],n:this.getDisplayItems()+"="+e[this.getNumberOfItems()],data:this.getNodeToolTipData(e),depth:e[this.getDepth()],ID:e[this.getNodeID()]},a=e,n=this.m_allSeriesNames,h=(t.setAttribute("data",JSON.stringify(i)),this);t.addEventListener("mouseover",function(t){h.setToolTipData(JSON.parse(this.attributes.data.nodeValue)),mouseX=pageX=t.clientX,mouseY=pageY=t.clientY,h.drawTooltip(t.clientX,t.clientY)}),t.addEventListener("mouseout",function(t){h.hideToolTip()}),t.addEventListener("click",function(t){if("ontouchstart"in document.documentElement)onMouseMove(h);else{JSON.parse(this.attributes.data.nodeValue);for(var e={},i=n.length,r=0;r<i;r++){var s,o=n[r];for(s in a)if(s==o){e[s]=a[s];break}}h.updateDataPointsToGV({drillRecord:e,drillColor:""})}}),$(t)[0].addEventListener("touchstart",function(t){if(null==singleClickTimer)singleClickTimer=setTimeout(function(){singleClickTimer=null,onMouseMove(h)},h.m_doubletaptimeout);else{clearTimeout(singleClickTimer),singleClickTimer=null;JSON.parse(this.attributes.data.nodeValue);for(var e={},i=n.length,r=0;r<i;r++){var s,o=n[r];for(s in a)if(s==o){e[s]=a[s];break}}h.updateDataPointsToGV({drillRecord:e,drillColor:""})}},!1)},DecisionTreeChart.prototype.drawTooltip=function(t,e){var i;IsBoolean(this.m_isEmptySeries)||this.m_designMode||!IsBoolean("None"!==this.m_customtextboxfortooltip.dataTipType)||(i=this.getToolTipData(t,e),this.m_hovercallback&&""!=this.m_hovercallback?this.drawCallBackContent(t,e,i):this.drawTooltipContent(i))},DecisionTreeChart.prototype.drawTooltipContent=function(t){this.m_tooltip.draw(t,this.m_componenttype)},DecisionTreeChart.prototype.setToolTipData=function(t){this.tooltipData=t},DecisionTreeChart.prototype.getToolTipData=function(t,e){return this.tooltipData},DecisionTreeChart.prototype.getXpoint=function(){var t=this.m_width-this.fontScaling(25),e=this.getDragableDiv(),i=e.find("svg").width()-e.width();return t+=i<0?0:Math.min(i,e.scrollLeft())},DecisionTreeChart.prototype.getRightMargin=function(){this.fontScaling(30);var t=this.getDragableDiv(),e=t.find("svg").width()-t.width(),e=Math.min(e,t.scrollLeft());return this.fontScaling(30-e)+"px"},DecisionTreeChart.prototype.getFormatterForToolTip=function(t){var e;return isNaN(getNumericComparableValue(t))||""==t||null==t?t:(t=getNumericComparableValue(t),e="default"!==this.m_tooltipprecision?this.m_tooltipprecision:void 0!==(e=(t+"").split("."))[1]?e[1].length:0,this.getLocaleWithPrecision(t,e))};
//# sourceMappingURL=DecisionTreeChart.min.js.map