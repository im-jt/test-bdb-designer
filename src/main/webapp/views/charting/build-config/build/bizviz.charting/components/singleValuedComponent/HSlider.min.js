/*! BDB Charting Library V10.0.0 (2025-08-14 11:37:12) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
function HSlider(t,e){this.base=Widget,this.base(),this.m_chartContainer=t,this.m_zIndex=e,this.m_showticks="",this.m_minimum="",this.m_snapinterval="",this.m_tickalpha="",this.m_labelfontfamily="",this.m_numberofticks="",this.m_labelcolor="",this.m_maximum="",this.m_globalkey="",this.m_chromecolor="",this.m_tickscolor="",this.m_fieldname="",this.m_slidercolor="",this.m_labelfontstyle="",this.m_labelfontweight="",this.m_labelfontsize="",this.m_showmarkers="true",this.m_fieldNameValueMap=new Object,this.m_value,this.m_defaultvalue="0",this.m_objectID=[],this.m_componentid="",this.m_sliderId="",this.m_scaleheight="10",this.scaleWidth="10",this.m_handlecolor="#ffffff",this._handleColorOpacity="1",this.handleCenterX="22",this.handleCenterY="20",this.m_handleradius="10",this.scaleTopPadding="20",this.scaleRightPadding="22",this._scaleBottomPadding="20",this.scaleLeftPadding="22",this.containerOffsetTop=0,this.containerOffsetLeft=0,this.onValueChange=function(t){},this.unitFactor=0,this.m_cursortype="pointer",this.m_backgroundcolor="#FFFFFF",this.m_backgroundalpha=0,this.m_freezehandle=!1,this.m_handlecursor="move",this.m_unit="auto",this.m_enhancedHSlider="",this.m_circleshadowopacity=.5,this.m_dx=0,this.m_dy=3.5,this.m_stdDeviation=2.5,this.m_floodColor="#a3a3a3",this.m_scaleborder=5,this.m_scalebgcolor="#eff0f0"}HSlider.prototype=new Widget,HSlider.prototype.draw=function(){this.drawObject()},HSlider.prototype.drawObject=function(){this.init(),""!=this.m_onafterrendercallback&&onAfterRender(this.m_onafterrendercallback)},HSlider.prototype.setDataProvider=function(t){this.m_defaultvalue=t},HSlider.prototype.initializeDraggableDivAndCanvas=function(t,e){this.setDashboardNameAndObjectId(),this.createDraggableDiv(this.m_chartContainer,this.m_zIndex)},HSlider.prototype.updateValue=function(t){var e=this,i=+e.handleCenterY-e.fontScaling(+e.m_handleradius)-5;2*e.fontScaling(+e.m_handleradius)<+e.m_scaleheight&&(i-=(+e.m_scaleheight-2*e.fontScaling(+e.m_handleradius))/2),$("#sliderValue"+e.m_objectid).text(e.getValue()),$("#sliderValue"+e.m_objectid).attr({x:t+ +e.scaleLeftPadding,y:i,visibility:"visible"})},HSlider.prototype.doStepFilter=function(t){var e=this,i=e.getValue(),o=e.getValueOf(t),i=Math.abs(i-o),a=o%+e.m_snapinterval;(0<i&&i<1?1:i)>=+e.m_snapinterval&&(t=e.getXCo(o-=a),e.moveHandleTo(t),i=o/(+e.m_maximum-+e.m_minimum)*100,IsBoolean(this.m_enhancedHSlider)&&($("#initialValue"+e.m_objectid).attr({offset:i+"%"}),$("#handlePosValue"+e.m_objectid).attr({offset:i+"%"}),$("#differenceValue"+e.m_objectid).attr({offset:"100%"}),$("#sliderScale"+e.m_objectid).attr({stroke:"",style:"fill: url(#scaleHighlight"+e.m_objectid+")"})),e.updateValue(t),e.m_defaultvalue=e.getValue(),e.m_value=e.getValue(),e.onValueChange(e.m_defaultvalue))},HSlider.prototype.moveHandleTo=function(t){$("#sliderHandle"+this.m_objectid).attr({transform:"translate( "+t+" )",visibility:"visible"})},HSlider.prototype.getValue=function(){for(var t=this,e=$("#sliderHandle"+t.m_objectid).attr("transform").split(""),i="",o=0;o<e.length;o++)isNaN(+e[o])&&"."!==e[o]||(i+=e[o]);var a=+i*t.unitFactor+ +t.m_minimum;return+(a=this.m_snapinterval%1!=0?(0!=a%this.m_snapinterval&&(a=this.roundNumber(a,1)),this.checkNumberMuliplierOrNot(a)):Math.round(a))>t.m_maximum?t.m_maximum:a},HSlider.prototype.checkNumberMuliplierOrNot=function(t){var e,i=t,o=[],a=+this.m_minimum;if(i%this.m_snapinterval!=0){for(o.push(a);a<this.m_maximum;)a+=this.m_snapinterval,o.push(this.roundNumber(a,1));for(var l=0;l<o.length;l++)if(i<o[l]){e=l;break}var r=o[e-1],n=o[e],i=(r+n)/2<i?n:r;t>this.m_maximum&&(i=this.m_maximum)}return i},HSlider.prototype.roundNumber=function(t,e){e=Math.abs(parseInt(e))||0;e=Math.pow(10,e);return Math.round(t*e)/e},HSlider.prototype.setValue=function(t){var e,i=this;try{return e=i.getXCo(t),i.moveHandleTo(e),i.updateValue(e),!0}catch(t){return!1}},HSlider.prototype.calculateFromJson=function(){this.setDashboardNameAndObjectId()},HSlider.prototype.initCalculation=function(){var t=this;t.initContainerOffset(),t.scaleTopPadding=t.calculateAndGetScaleTopPadding(),t.scaleWidth=t.m_width-(+t.scaleLeftPadding+ +t.scaleRightPadding),t.unitFactor=Math.abs(t.m_maximum-t.m_minimum)/t.scaleWidth,t.handleCenterY=t.m_height/2},HSlider.prototype.createComponent=function(t,e){this.m_handlecursor=IsBoolean(this.m_freezehandle)?"not-allowed":"move",this.m_cursortype=IsBoolean(this.m_freezehandle)?"default":this.m_cursortype;var i=this;$("#draggableDiv"+i.m_objectid).append('<svg id="slider'+i.m_objectid+'"><defs><filter id="handleShadow'+i.m_objectid+'" x="-0.07" y="-0.03"><feDropShadow id="dShadow'+i.m_objectid+'"/></filter><linearGradient id="scaleHighlight'+i.m_objectid+'" x1="0" x2="1" y1="0" y2="0"><stop id="initialValue'+i.m_objectid+'"/><stop id="handlePosValue'+i.m_objectid+'"/><stop id="differenceValue'+i.m_objectid+'"/></linearGradient></defs><rect id="sliderBG'+i.m_objectid+'"></rect><rect id="sliderScale'+i.m_objectid+'" style="cursor:'+i.m_cursortype+'"></rect><circle id="sliderHandle'+i.m_objectid+'" style="cursor:'+i.m_handlecursor+'"></circle><text id="sliderValue'+i.m_objectid+'">'+(+i.m_defaultvalue+ +i.m_minimum)+'</text><text id="sliderMinValue'+i.m_objectid+'">'+t+'</text><text id="sliderMaxValue'+i.m_objectid+'">'+e+"</text></svg>"),this.setCSS()},HSlider.prototype.makeSlidable=function(){var i,o,l=this;l.m_updateflag=!0,l.m_designMode||("ontouchstart"in document.documentElement?$("#draggableDiv"+l.m_objectid).bind("touchstart",function(t){$("body").css("cursor",l.m_cursortype);var t=t.originalEvent.touches[0],e=$(this).offset().left-$(this)[0].scrollLeft;xCo=t.pageX-e,i=+l.containerOffsetLeft,o=l.scaleWidth+ +l.containerOffsetLeft,xCo>=i&&xCo<=o&&(l.doStepFilter(xCo),IsBoolean(l.m_designMode)||l.getDataPointAndUpdateGlobalVariable())}).bind("touchend",function(){}):($("#sliderHandle"+l.m_objectid).on("mousedown",function(){$(document).on("mousemove",function(t){$("body").css("cursor",l.m_cursortype);var e=$("#WatermarkDiv").scrollLeft(),i=(l.m_updateflag=!0,+t.clientX-(+l.m_x+ +l.scaleLeftPadding)-l.containerOffsetLeft+ +e),o=+l.m_x+ +l.scaleLeftPadding+l.containerOffsetLeft,a=+l.m_x+ +l.scaleLeftPadding+l.scaleWidth+1+l.containerOffsetLeft;+t.clientX+ +e+3>=o&&+t.clientX+ +e<=a&&l.doStepFilter(2+i)}),$(document).on("mouseup",function(t){$(document).off("mousemove"),$("body").css("cursor","auto"),!IsBoolean(l.m_designMode)&&IsBoolean(l.m_updateflag)&&(l.getDataPointAndUpdateGlobalVariable(),l.m_updateflag=!1),$(document).off("mouseup"),$(document).off("mousemove")})}),$("#sliderHandle"+l.m_objectid).on("mouseup",function(t){$(document).off("mousemove"),$("body").css("cursor","auto");var e=$("#WatermarkDiv").scrollLeft(),i=+t.clientX-(+l.m_x+ +l.scaleLeftPadding)-l.containerOffsetLeft+ +e,o=+l.m_x+ +l.scaleLeftPadding+l.containerOffsetLeft,a=+l.m_x+ +l.scaleLeftPadding+l.scaleWidth+1+l.containerOffsetLeft;+t.clientX+ +e+3>=o&&+t.clientX+ +e<=a&&(l.doStepFilter(2+i),!IsBoolean(l.m_designMode))&&IsBoolean(l.m_updateflag)&&(l.getDataPointAndUpdateGlobalVariable(),l.m_updateflag=!1),$(document).off("mouseup"),$(document).off("mousemove")}),$("#sliderScale"+l.m_objectid).on("click",function(t){var e=$("#WatermarkDiv").scrollLeft(),t=+t.pageX-(+l.m_x+ +l.scaleLeftPadding)-l.containerOffsetLeft+ +e;l.doStepFilter(t),IsBoolean(l.m_designMode)||l.getDataPointAndUpdateGlobalVariable()})))},HSlider.prototype.getDataPointAndUpdateGlobalVariable=function(){var t;""!==this.m_value&&((t={})[""===this.m_fieldname||null==this.m_fieldname?"Value":this.m_fieldname]=void 0===this.m_value?this.m_minimum:this.m_value,this.updateDataPoints(t))},HSlider.prototype.init=function(){var t=this.m_util.getNumberSymbol("percent"),e="auto"==this.m_unit?this.textformatter(this.m_minimum):this.m_util.addUnitAssuffix(this.m_minimum,t),t="auto"==this.m_unit?this.textformatter(this.m_maximum):this.m_util.addUnitAssuffix(this.m_maximum,t);this.m_enhancedHSlider=this.chartJson.HSlider.enhancedHSlider,this.initcolors(),this.calculateFromJson(),this.initCalculation(),$("#slider"+this.m_objectid).remove(),this.createComponent(e,t),IsBoolean(this.m_freezehandle)||this.makeSlidable()},HSlider.prototype.initcolors=function(){this.m_labelcolor=convertColorToHex(this.m_labelcolor),this.m_chromecolor=convertColorToHex(this.m_chromecolor),this.m_handlecolor=convertColorToHex(this.m_handlecolor),this.m_alphaChromecolor=hex2rgb(this.m_chromecolor,.5);var t=convertColorToHex(this.m_tickscolor);this.m_tickscolor=hex2rgb(t,this.m_tickalpha)},HSlider.prototype.ParseJsonAttributes=function(t,e){for(var i in this.chartJson=t)if("HSlider"==i)for(var o in t[i])this.setAttributeValueToNode(o,t[i],e);else this.setAttributeValueToNode(i,t,e)},HSlider.prototype.setProperty=function(t){this.ParseJsonAttributes(t.Object,this),this.initCanvas()},HSlider.prototype.initCanvas=function(){$("#draggableDiv"+this.m_objectid).remove(),this.initializeDraggableDivAndCanvas()},HSlider.prototype.getSliderType=function(t){return Boolean(t.Object.HSlider)?"HSlider":"VSlider"},HSlider.prototype.initContainerOffset=function(){this.containerOffsetLeft=$(this.m_chartContainer)[0].offsetLeft,this.containerOffsetTop=$(this.m_chartContainer)[0].offsetTop},HSlider.prototype.calculateAndGetScaleTopPadding=function(){return this.m_height/2-this.m_scaleheight/2},HSlider.prototype.calculateAndGetScaleLeftPadding=function(){return this.m_width/2-this.scaleWidth/2},HSlider.prototype.getXCo=function(t){return t/this.unitFactor},HSlider.prototype.getYCo=function(t){return t/this.unitFactor},HSlider.prototype.setDashboardNameAndObjectId=function(){this.m_objectId=this.m_objectid,2==this.m_objectid.split(".").length&&(this.m_objectid=this.m_objectid.split(".")[1]),this.m_componentid="Parent"+this.m_objectid,this.m_sliderId=this.m_objectid},HSlider.prototype.getValueOf=function(t){return t*this.unitFactor},HSlider.prototype.setCSS=function(){var t=this,e=($("#draggableDiv"+t.m_objectid).css({"background-color":hex2rgb(convertColorToHex(this.m_backgroundcolor),this.m_backgroundalpha)}),+t.handleCenterY+t.fontScaling(+t.m_handleradius)+t.fontScaling(+this.m_labelfontsize)/2+5),i=+t.handleCenterY-t.fontScaling(+t.m_handleradius)-5,o=(2*t.fontScaling(+t.m_handleradius)<+t.m_scaleheight&&(i-=(+t.m_scaleheight-2*t.fontScaling(+t.m_handleradius))/2,e+=(+t.m_scaleheight-2*t.fontScaling(+t.m_handleradius))/2),$("#draggableDiv"+t.m_objectid).attr({height:t.m_height}),$("#slider"+t.m_objectid).attr({width:t.m_width,height:t.m_height}),$("#sliderBG"+t.m_objectid).attr({width:t.m_width,height:t.m_height,x:"0",y:"0",fill:hex2rgb(convertColorToHex(t.m_backgroundcolor),t.m_backgroundalpha)}),$("#sliderScale"+t.m_objectid).attr({width:t.scaleWidth,height:t.m_scaleheight,rx:t.m_scaleborder,ry:t.m_scaleborder,x:t.scaleLeftPadding,y:t.scaleTopPadding,stroke:t.m_chromecolor,fill:t.m_chromecolor}),+t.m_defaultvalue+ +t.m_minimum),i=($("#sliderHandle"+t.m_objectid).attr({cx:t.handleCenterX,cy:t.handleCenterY,r:t.fontScaling(+t.m_handleradius),stroke:"gray","stroke-width":"1",fill:t.m_handlecolor,transform:"translate( "+t.getXCo(t.m_defaultvalue)+" )",opacity:t._handleColorOpacity}),IsBoolean(this.m_enhancedHSlider)&&($("#sliderHandle"+t.m_objectid).attr({stroke:"#e3e3e3",style:"filter: url(#handleShadow"+t.m_objectid+")"}),$("#sliderScale"+t.m_objectid).attr({stroke:t.m_scalebgcolor,fill:t.m_scalebgcolor})),IsBoolean(t.m_showticks)?$("#sliderValue"+t.m_objectid).attr({x:t.getXCo(t.m_defaultvalue)+ +t.scaleLeftPadding,y:i,"font-size":t.fontScaling(+t.m_labelfontsize)+"px","font-family":selectGlobalFont(t.m_labelfontfamily),"font-weight":t.m_labelfontweight,"font-style":t.m_labelfontstyle,fill:t.m_labelcolor,"text-anchor":"middle",display:"intial"}):$("#sliderValue"+t.m_objectid).attr({display:"none"}),(o<+t.m_minimum||o>+t.m_maximum)&&($("#sliderHandle"+t.m_objectid).attr({visibility:"hidden"}),$("#sliderValue"+t.m_objectid).attr({visibility:"hidden"})),$("#sliderMinValue"+t.m_objectid).attr({x:"20",y:e,"font-size":t.fontScaling(+t.m_labelfontsize)+"px","font-family":selectGlobalFont(t.m_labelfontfamily),"font-weight":t.m_labelfontweight,"font-style":t.m_labelfontstyle,fill:t.m_labelcolor,display:IsBoolean(t.m_showmarkers)?"block":"none"}),t.m_width-t.scaleRightPadding-1.5*t.fontScaling(+t.m_labelfontsize));t.m_maximum<10?i=t.m_width-t.scaleRightPadding-5:t.m_maximum<100&&(i=t.m_width-t.scaleRightPadding-t.fontScaling(+t.m_labelfontsize)),$("#sliderMaxValue"+t.m_objectid).attr({x:i,y:e,"font-size":t.fontScaling(+t.m_labelfontsize)+"px","font-family":selectGlobalFont(t.m_labelfontfamily),"font-weight":t.m_labelfontweight,"font-style":t.m_labelfontstyle,fill:t.m_labelcolor,display:IsBoolean(t.m_showmarkers)?"block":"none"}),$("#dShadow"+t.m_objectid).attr({dx:t.m_dx,dy:t.m_dy,stdDeviation:t.m_stdDeviation,"flood-color":t.m_floodColor,"flood-opacity":t.m_circleshadowopacity}),$("#initialValue"+t.m_objectid).attr({style:"stop-opacity: 1; stop-color:"+t.m_chromecolor+";"}),$("#handlePosValue"+t.m_objectid).attr({style:"stop-opacity: 1; stop-color:"+t.m_scalebgcolor+";"}),$("#differenceValue"+t.m_objectid).attr({style:"stop-opacity: 1; stop-color:"+t.m_scalebgcolor+";"}),t.m_defaultvalue>t.m_minimum&&t.m_defaultvalue<=t.m_maximum&&IsBoolean(this.m_enhancedHSlider)&&(o=+t.m_defaultvalue/(+t.m_maximum-+t.m_minimum)*100,$("#initialValue"+t.m_objectid).attr({offset:o+"%"}),$("#handlePosValue"+t.m_objectid).attr({offset:o+"%"}),$("#differenceValue"+t.m_objectid).attr({offset:"100%"}),$("#sliderScale"+t.m_objectid).attr({stroke:"",style:"fill: url(#scaleHighlight"+t.m_objectid+")"}))},HSlider.prototype.textformatter=function(t){return getNumberFormattedValue(t)},HSlider.prototype.enhanceVerticalSlider=function(){$("#sliderHandle"+this.m_objectid).attr({stroke:"#e3e3e3",style:"filter: url(#handleShadow"+this.m_objectid+")"}),$("#sliderScale"+this.m_objectid).attr({stroke:"#eff0f0",fill:"#eff0f0"})},HSlider.prototype.removeEnhancedVerticalSlider=function(){$("#sliderHandle"+this.m_objectid).attr({stroke:"gray",style:"none"}),$("#sliderScale"+this.m_objectid).attr({stroke:this.m_chromecolor,fill:this.m_chromecolor})};
//# sourceMappingURL=HSlider.min.js.map