/*! BDB Charting Library V10.0.0 (2025-08-14 11:37:12) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
function ProgressChart(t,i){this.base=Chart,this.base(),this.m_x=400,this.m_y=240,this.m_width=300,this.m_height=240,this.m_radius=0,this.m_centerX=0,this.m_centerY=0,this.m_showtext=!0,this.m_percent="70",this.m_basecolor="#C8F7C5",this.m_valuecolor="#663399",this.m_linewidth="10",this.m_linecap="round",this.m_charttype="circle",this.m_tooltiptitle="Percent",this.m_chartContainer=t,this.m_zIndex=i}ProgressChart.prototype=new Chart,ProgressChart.prototype.setProperty=function(t){this.ParseJsonAttributes(t.Object,this),this.initCanvas()},ProgressChart.prototype.setDataProvider=function(t){this.m_dataProvider="Array"!=typeof t?this.m_percent=t:t},ProgressChart.prototype.initializeDraggableDivAndCanvas=function(){this.setDashboardNameAndObjectId(),this.m_draggableDiv=this.createDraggableDiv(this.m_chartContainer,this.m_zIndex),this.createDraggableCanvas(this.m_draggableDiv),this.setCanvasContext(),this.initMouseMoveEvent(this.m_chartContainer),this.initMouseClickEvent()},ProgressChart.prototype.initCanvas=function(){$("#draggableDiv"+this.m_objectid).remove(),this.initializeDraggableDivAndCanvas()},ProgressChart.prototype.ParseJsonAttributes=function(t,i){for(var e in this.chartJson=t)if("Chart"==e)for(var s in t[e])switch(s){case"Title":for(var r in t[e][s]){var h=this.getNodeAttributeName(r);i.m_title[h]=t[e][s][r]}break;case"SubTitle":for(var a in t[e][s]){var h=this.getNodeAttributeName(a);i.m_subTitle[h]=t[e][s][a]}break;default:i[h=this.getNodeAttributeName(s)]=t[e][s]}else i[h=this.getNodeAttributeName(e)]=t[e]},ProgressChart.prototype.drawObject=function(){this.init(),this.drawChart(),""!=this.m_onafterrendercallback&&onAfterRender(this.m_onafterrendercallback)},ProgressChart.prototype.init=function(){this.m_chartFrame.init(this),this.m_title.init(this),this.m_subTitle.init(this),this.centerXCalcalculation(),this.centerYCalcalculation(),this.radiusCalculation(),this.m_isEmptySeries=!1,this.initializeToolTipProperty(),this.m_tooltip.init(this)},ProgressChart.prototype.getStartX=function(){return this.m_x},ProgressChart.prototype.getStartY=function(){return+this.m_y+this.m_height},ProgressChart.prototype.getEndX=function(){return+this.m_x+this.m_width/2},ProgressChart.prototype.getEndY=function(){return this.m_y},ProgressChart.prototype.centerXCalcalculation=function(){this.availableWidth=this.m_width,this.centerX=this.m_width/2},ProgressChart.prototype.centerYCalcalculation=function(){this.availableHeight=this.m_height-this.getTotalMarginForTitleSubtitle(),this.centerY=this.availableHeight/2+this.getTotalMarginForTitleSubtitle()},ProgressChart.prototype.getMarginForTitle=function(){return IsBoolean(this.getShowGradient())||IsBoolean(this.getTitle().m_showtitle)?+this.getTitleBarHeight()+15:0},ProgressChart.prototype.getMarginForProgressChart=function(){return 10},ProgressChart.prototype.getTotalMarginForTitleSubtitle=function(){return+this.getMarginForTitle()+ +this.getMarginForSubTitle()},ProgressChart.prototype.getMarginForSubTitle=function(){return IsBoolean(this.m_subTitle.m_showsubtitle)&&""!=this.m_subTitle.getDescription()?1.5*this.m_subTitle.getFontSize()+(3==this.m_subTitle.m_formattedDescription.length?20:0):0},ProgressChart.prototype.radiusCalculation=function(){this.radius=Math.abs((this.availableWidth>=this.availableHeight?this.availableHeight/2:this.availableWidth/2)-this.m_linewidth)},ProgressChart.prototype.drawChartFrame=function(){this.m_chartFrame.drawFrame()},ProgressChart.prototype.drawTitle=function(){this.m_title.draw()},ProgressChart.prototype.drawSubTitle=function(){this.m_subTitle.draw()},ProgressChart.prototype.drawChart=function(){switch(this.ctx.clearRect(this.m_x,this.m_y,this.m_width,this.m_height),this.drawChartFrame(),this.drawTitle(),this.drawSubTitle(),this.checkInValidPercent(),this.setTextWidth(),this.m_charttype){case"HBar":this.setBarHeightYPosition(),this.drawHProgressBar();break;case"VBar":this.setBarHeightYPosition(),this.drawVProgressBar();break;default:this.drawProgressCircle()}},ProgressChart.prototype.setBarHeightYPosition=function(){var t=this.getTotalMarginForTitleSubtitle()-0*this.getMarginForProgressChart();this.m_barHeight=this.m_height-t,this.yPos=this.m_y+t},ProgressChart.prototype.checkInValidPercent=function(){!isNaN(this.m_percent)&&null!==this.m_percent&&"null"!==this.m_percent&&void 0!==this.m_percent&&""!==this.m_percent&&"none"!==this.m_percent&&"None"!==this.m_percent||(this.m_percent=NaN)},ProgressChart.prototype.setTextWidth=function(){var t=(+this.m_percent).toFixed(+this.m_precision)+"%";this.ctx.font=this.m_fontstyle+" "+this.m_fontweight+" "+this.fontScaling(+this.m_fontsize)+"px "+selectGlobalFont(this.m_fontfamily),this.m_textWidth=this.ctx.measureText(t).width},ProgressChart.prototype.drawHProgressBar=function(){this.drawRect(this.m_x,this.yPos,this.m_width,this.m_barHeight,this.m_basecolor),this.drawRect(this.m_x,this.yPos,this.m_width*this.m_percent/100,this.m_barHeight,this.m_valuecolor),this.drawText(this.m_x+this.m_width/2-this.m_textWidth/2,this.yPos+this.m_barHeight/2)},ProgressChart.prototype.drawVProgressBar=function(){this.drawRect(this.m_x,this.yPos,this.m_width,this.m_barHeight,this.m_basecolor),this.drawRect(this.m_x,this.yPos+this.m_barHeight*(100-this.m_percent)/100,this.m_width,this.m_barHeight,this.m_valuecolor),this.drawText(this.m_x+this.m_width/2-this.m_textWidth/2,this.yPos+this.m_barHeight/2)},ProgressChart.prototype.drawRect=function(t,i,e,s,r){this.ctx.beginPath(),this.ctx.fillStyle=hex2rgb(r,this.m_coloropacity),this.ctx.rect(t,i,e,s),this.ctx.fill(),this.ctx.closePath()},ProgressChart.prototype.drawProgressCircle=function(){this.ctx.beginPath(),this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(-.5*Math.PI),this.drawCircle(this.m_basecolor,1),!isNaN(this.m_percent)&&0<=this.m_percent&&this.drawCircle(this.m_valuecolor,this.m_percent/100),this.ctx.restore(),this.drawText(this.centerX-this.m_textWidth/2,+this.centerY),this.ctx.closePath()},ProgressChart.prototype.drawText=function(t,i){try{var e;IsBoolean(this.m_showtext)&&(e=(+this.m_percent).toFixed(+this.m_precision)+(isNaN(this.m_percent)?"":"%"),this.ctx.beginPath(),this.ctx.textAlign="left",this.ctx.fillStyle=convertColorToHex(this.m_fontcolor),this.ctx.font=this.m_fontstyle+" "+this.m_fontweight+" "+this.fontScaling(+this.m_fontsize)+"px "+selectGlobalFont(this.m_fontfamily),this.ctx.fillText(e,t,i),this.ctx.closePath())}catch(t){}},ProgressChart.prototype.drawCircle=function(t,i){i=Math.min(Math.max(0,i||1e-5),1);this.ctx.beginPath(),this.ctx.arc(0,0,this.radius,0,2*Math.PI*i,!1),this.ctx.strokeStyle=hex2rgb(t,this.m_coloropacity),this.ctx.lineCap=this.m_linecap,this.ctx.lineWidth=this.m_linewidth,this.ctx.stroke()},ProgressChart.prototype.getToolTipData=function(t,i){var e;if(!this.m_designMode&&null!=this.m_percent&&null!=this.m_percent&&0<this.m_percent&&IsBoolean("None"!==this.m_customtextboxfortooltip.dataTipType))if("circle"==this.m_charttype){var s,r=Math.sqrt(Math.pow(t-this.centerX,2)+Math.pow(i-this.centerY,2));if(r<=+this.radius+this.m_linewidth/2&&r>=this.radius-this.m_linewidth/2)return(e={}).cat=this.m_tooltiptitle,e.data=new Array,(s=[])[0]={color:this.m_valuecolor,shape:"cube"},s[1]=this.m_percent,e.data.push(s),e}else if(t<=+this.m_width-this.m_width/10&&t>=+this.m_x+this.m_width/10&&i<=this.m_height-this.m_height/10&&i>=+this.m_y+this.m_height/10)return(e={}).cat=this.m_tooltiptitle,e.data=new Array,(s=[])[0]={color:this.m_valuecolor,shape:"cube"},s[1]=this.m_percent,e.data.push(s),e},ProgressChart.prototype.getDrillDataPoints=function(t,i){if(!this.m_designMode&&(null!=this.m_percent&&null!=this.m_percent&&0<this.m_percent&&IsBoolean("None"!==this.m_customtextboxfortooltip.dataTipType)))return t=t-this.centerX,i=i-this.centerY,Math.atan2(i,t),t=Math.sqrt(Math.pow(t,2)+Math.pow(i,2)),"circle"!=this.m_charttype||t<=+this.radius+this.m_linewidth/2&&t>=this.radius-this.m_linewidth/2?((i={}).Value=this.m_percent,{drillRecord:i,drillColor:this.m_valuecolor}):void 0};
//# sourceMappingURL=ProgressChart.min.js.map