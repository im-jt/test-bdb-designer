/*! BDB Charting Library V10.0.0 (2025-08-14 11:37:12) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
function TrellisChart(e,t){this.base=Chart,this.base(),this.m_x=10,this.m_y=600,this.m_width=500,this.m_height=285,this.m_displayNames=[],this.m_columnHeaderDataMap=new Object,this.m_timer=1,this.m_VTextSizeOnButton=20,this.m_DGFilterHeight=0,this.m_tabMargin=0,this.m_marginTop=0,this.m_marginLeft=0,this.m_totalmargin=0,this.m_colHeadersFieldName=[],this.m_gridheaderDisplayNames=[],this.m_gridFilterCondition="",this.m_selectedRow=0,this.m_isRowClicked=!1,this.m_isSorted=!1,this.m_objectID=[],this.m_componentid="",this.ctx="",this.m_subTitleHeight=0,this.m_titleHeight=0,this.fieldsData="",this.visibleFieldsData=[],this.m_chartContainer=e,this.m_zIndex=t,this.m_visibleArr=[],this.m_widthArr={},this.m_fieldChart={},this.m_textAlignArr=[],this.m_isNumericArr=[],this.m_isFixedLabelArr=[],this.m_formatterArr=[],this.m_unitNameArr=[],this.m_signPositioneArr=[],this.m_precisionArr=[],this.m_secondFormatterArr=[],this.m_secondUnitNameArr=[],this.m_fieldType={},this.m_hierarchyType=[],this.m_designModeDrawingFlag=!0,this.mappedData="",this.m_fieldAggregation={},this.m_autoAxisSetUp={},this.m_axisMinValue={},this.m_axisMaxValue={},this.m_rowheight=20,this.m_seriesColor={},this.m_seriesDataLabelProperty={},this.m_fieldSecondaryUnit={},this.m_fieldPrecision={},this.m_fieldUnit={},this.m_fieldSignposition={},this.m_mergefieldname="",this.columnFieldDetail={},this.m_catFieldName="",this.m_serFieldName=[],this.ColumnInfo={},this.footerDiv=[],this.m_showparentvalue=!1,this.m_fieldChartType={},this.m_fieldAxis={},this.m_fieldheaderDisplayNames={},this.m_showFooter=!1,this.m_aggregation="sum",this.m_rowFieldName=[],this.m_rowFieldDisplayName=[],this.m_colFieldName=[],this.m_colFieldDisplayName=[],this.columnNameDescriptionMargin=0,this.m_drawingmode="horizontal",this.m_firstcolumnwidth="",this.m_scrollbarsize=7,this.m_collapseallnode=!1}function editToolTipForTrellis(e){var t,i,a=e.component.additiontooltipdata;for(t in a)a.hasOwnProperty(t)&&(i=[{color:"#2ECC71",shape:"cube"},t,a[t]],e.toolTipData.data.unshift(i));e.toolTipData.highlightIndex="",e.component.drawTooltipContent(e.toolTipData)}TrellisChart.prototype=new Chart,TrellisChart.prototype.setProperty=function(e){this.ParseJsonAttributes(e.Object,this),this.initCanvas()},TrellisChart.prototype.ParseJsonAttributes=function(e,t){for(var i in this.chartJson=e)if("Chart"==i)for(var a in e[i])switch(a){case"Title":for(var r in e[i][a]){var o=this.getNodeAttributeName(r);t.m_title[o]=e[i][a][r]}break;case"SubTitle":for(var s in e[i][a]){var o=this.getNodeAttributeName(s);t.m_subTitle[o]=e[i][a][s]}break;default:t[o=this.getNodeAttributeName(a)]=e[i][a]}else t[o=this.getNodeAttributeName(i)]=e[i]},TrellisChart.prototype.getDataProvider=function(){return this.m_dataProvider},TrellisChart.prototype.setFields=function(e){this.m_fieldsJson=e,this.setSeries(e)},TrellisChart.prototype.setSeries=function(e){this.fieldsData=e;for(var t,i,a,r,o=0,s=0;s<e.length;s++)IsBoolean(this.getProperAttributeNameValue(e[s],"visible"))&&(t=this.getStringARSC(e[s].Name),this.m_colHeadersFieldName[o]=this.getStringARSC(this.getProperAttributeNameValue(e[s],"Name")),i=this.formattedDescription(this,this.getProperAttributeNameValue(e[s],"DisplayName")),this.m_gridheaderDisplayNames[o]=i,this.m_fieldType[t]=this.getProperAttributeNameValue(e[s],"Type"),IsBoolean(isScaling)?this.m_widthArr[t]=this.getProperAttributeNameValue(e[s],"width")*widthRatio:this.m_widthArr[t]=this.getProperAttributeNameValue(e[s],"width"),a=this.getProperAttributeNameValue(e[s],"ChartType"),this.m_fieldChart[t]=a||"bar",this.m_autoAxisSetUp[t]=this.getProperAttributeNameValue(e[s],"autoaxissetup"),this.m_axisMinValue[t]=this.getProperAttributeNameValue(e[s],"minvalue"),this.m_axisMaxValue[t]=this.getProperAttributeNameValue(e[s],"maxvalue"),this.m_seriesColor[t]=this.getProperAttributeNameValue(e[s],"Color"),this.m_seriesDataLabelProperty[t]=this.getProperAttributeNameValue(e[s],"DataLabelCustomProperties"),void 0!==this.m_seriesDataLabelProperty[t]?(IsBoolean(this.m_seriesDataLabelProperty[t].useFieldColor)&&(this.m_seriesDataLabelProperty[t].dataLabelFontColor=this.m_seriesColor[t]),IsBoolean(this.m_seriesDataLabelProperty[t].dataLabelUseComponentFormater)&&(this.m_seriesDataLabelProperty[t].datalabelFormaterCurrency=this.m_unit,this.m_seriesDataLabelProperty[t].datalabelFormaterPrecision=this.m_precision,this.m_seriesDataLabelProperty[t].datalabelFormaterPosition=this.m_signposition,this.m_seriesDataLabelProperty[t].datalabelFormaterUnit=this.m_secondaryunit)):this.m_seriesDataLabelProperty[t]=this.getDataLabelProperties(),this.m_fieldSecondaryUnit[t]=this.getProperAttributeNameValue(e[s],"SecondaryUnit"),this.m_fieldPrecision[t]=this.getProperAttributeNameValue(e[s],"Precision"),this.m_fieldUnit[t]=this.getProperAttributeNameValue(e[s],"Unit"),a=this.getProperAttributeNameValue(e[s],"SignPosition"),r=this.getProperAttributeNameValue(e[s],"signposition"),this.m_fieldSignposition[t]=a||r||"prefix",a=this.getProperAttributeNameValue(e[s],"FieldChartType"),this.m_fieldChartType[t]=a||"clustered",this.m_fieldAxis[t]=this.getProperAttributeNameValue(e[s],"axis"),this.m_fieldheaderDisplayNames[t]=i,r=this.getProperAttributeNameValue(e[s],"Aggregation"),this.m_fieldAggregation[t]=r||"sum",o++)},TrellisChart.prototype.initCanvas=function(){$("#draggableDiv"+this.m_objectid).remove(),this.initializeDraggableDivAndCanvas()},TrellisChart.prototype.setDashboardNameAndObjectId=function(){this.m_objectId=this.m_objectid,2==this.m_objectid.split(".").length&&(this.m_objectid=this.m_objectid.split(".")[1]),this.m_componentid="dataGridDiv"+this.m_objectid},TrellisChart.prototype.initializeDraggableDivAndCanvas=function(){this.setDashboardNameAndObjectId(),this.m_draggableDiv=this.createDraggableDiv(this.m_chartContainer,this.m_zIndex),this.createDraggableCanvas(this.m_draggableDiv),this.setCanvasContext(),this.initMouseMoveEvent(this.m_chartContainer),this.initMouseClickEvent()},TrellisChart.prototype.getDataFromJSON=function(){for(var e=[],t=[],i=0,a=this.getDataProvider().length;i<a;i++){var r={};for(o in this.getDataProvider()[i])r[o]=this.getDataProvider()[i][o];t.push(r)}for(i in t)for(var o in e[i]=null==t[i]||"undefined"==t[i]?"":t[i],e[i]){var s=e[i][o],l=(delete e[i][o],this.getStringARSC(o));e[i][l]=s}return e},TrellisChart.prototype.init=function(){this.m_chartFrame.init(this),this.m_title.init(this),this.m_subTitle.init(this),this.m_seriesData=this.getDataFromJSON(),this.isSeriesDataEmpty(),this.updateGlobalVariableWithColumnData(),this.createDatagrid()},TrellisChart.prototype.updateGlobalVariableWithColumnData=function(){var e,t=this;""!=t.getGlobalKey()&&""!=t.m_dashboard&&null!=t.m_dashboard&&""!=(e=t.m_dashboard.getGlobalVariable())&&null!=e&&null!=(e=e.map[t.getGlobalKey()])&&(e.updateDefaultValueArrayMap(this.m_columnHeaderDataMap),e.notifyDynamicalyUpdateComponents())},TrellisChart.prototype.createDatagrid=function(){var e,t,i=this;this.setRowColFieldAndDisplayName(),this.columnNameDescriptionMargin=0<this.m_colFieldDisplayName.length?20:0,this.m_titleHeight=IsBoolean(this.m_title.m_showtitle)||IsBoolean(this.m_showgradient)||IsBoolean(this.m_showmaximizebutton)?this.m_title.m_titleBarHeight:0,this.m_subTitleHeight=IsBoolean(this.m_subTitle.m_showsubtitle)&&""!=this.m_subTitle.getDescription()?1.5*this.m_subTitle.getFontSize()+(1<this.m_subTitle.m_formattedDescription.length?45:10):0,this.m_designModeDrawingFlag&&($("#"+i.m_componentid).remove(),(e=document.createElement("div")).setAttribute("id",this.m_componentid),$("#draggableDiv"+i.m_objectid).append(e),(t=document.createElement("table")).setAttribute("id","datagridTable"+this.m_objectid),$("#draggableDiv"+i.m_objectid).append(t),e.appendChild(t)),$("#"+i.m_componentid).css({top:+this.m_y+ +this.m_titleHeight+ +this.m_subTitleHeight+4+ +this.columnNameDescriptionMargin+"px",left:+this.m_x+2+"px",position:"absolute"}),$("#datagridTable"+i.m_objectid).css({width:this.m_width-4+"px",height:+this.m_height-+this.m_titleHeight-+this.m_subTitleHeight-+this.m_DGFilterHeight-6-+this.columnNameDescriptionMargin+"px"}),this.m_gridFilterCondition=""},TrellisChart.prototype.isSeriesDataEmpty=function(){this.m_isEmptySeries=!0;for(var e=0;e<this.m_colHeadersFieldName.length;e++)"Series"==this.m_fieldType[this.m_colHeadersFieldName[e]]&&(this.m_isEmptySeries=!1);0==this.m_seriesData.length&&(this.m_isEmptySeries=!0)},TrellisChart.prototype.drawChart=function(){this.drawChartFrame(),this.drawTitle(),this.drawSubTitle(),this.chartDetailMap=[],this.setColFieldName(),this.setCatFieldName(),this.setSeriesFieldName(),this.convertingIntoVHScale(),this.drawPivotGrid()},TrellisChart.prototype.drawPivotGrid=function(){var t=this;IsBoolean(this.m_isEmptySeries)?this.drawMessage(this.m_status.noData):this.m_designModeDrawingFlag?(IsBoolean(this.m_designMode)?this.m_designModeDrawingFlag=!1:this.m_designModeDrawingFlag=!0,this.dataCleaning(),this.manageColumnWidth(),0<this.m_colFieldDisplayName.length&&this.drawColumnNameInGridHeader(),jqEasyUI("#datagridTable"+this.m_objectid).pivotgrid({data:t.m_seriesData,singleSelect:!0,collapsible:!0,rownumbers:!1,remoteSort:!0,showHeader:!0,showFooter:!0,scrollbarSize:t.m_scrollbarsize,striped:!0,nowrap:!1,autoRowHeight:!0,fitColumns:!1,frozenWidth:t.firstColumWidth(),loadMsg:"",loading:!1,loaded:!1,pivot:{rows:t.getRowFieldName(),columns:t.getColFieldName().colField,values:t.getValueHeads()},forzenColumnTitle:t.getRowDisplayName().displayName,valuePrecision:0,onLoadSuccess:function(e){t.m_showFooter=t.isFooterActive(),t.setGridCss(),t.setGridColors(),t.DirectingToCase(),t.FooterAddition(),t.removeDefaultIconsOfPivot(),t.settingHeaderWidth(),t.updateGridNodeState()},onClickRow:function(){t.m_isRowClicked=!0;var e=t.getFieldNameValueMap();t.updateDataPoints(e,"")}})):(0<this.m_colFieldDisplayName.length&&this.drawColumnNameInGridHeader(),jqEasyUI("#datagridTable"+t.m_objectid).pivotgrid("resize",{width:t.m_width-4,height:+t.m_height-+t.m_titleHeight-+t.m_subTitleHeight-+t.m_DGFilterHeight-+t.columnNameDescriptionMargin-8}),t.setGridColors(),t.setGridCss())},TrellisChart.prototype.updateGridNodeState=function(){var e=this;IsBoolean(e.m_collapseallnode)?$("#datagridTable"+e.m_objectid).treegrid("collapseAll"):$("#datagridTable"+e.m_objectid).treegrid("expandAll")},TrellisChart.prototype.firstColumWidth=function(){return 0==this.getRowDisplayName().Width?0:""==this.m_firstcolumnwidth?this.getRowDisplayName().Width:this.m_firstcolumnwidth},TrellisChart.prototype.getFieldNameValueMap=function(){for(var e=jqEasyUI("#datagridTable"+this.m_objectid).pivotgrid("getSelected"),t=this.getSeriesFieldName(),i=this.getCatFieldName(),a=this.getRowFieldName(),r=this.getColFieldName().colField,o=new Object,s=[],l=(s.push(e._tree_field),e);null!=l;)null!=(l=jqEasyUI("#datagridTable"+this.m_objectid).pivotgrid("getParent",l._id_field))&&s.push(l._tree_field);for(var n=s.reverse(),h=0;h<a.length;h++)o[a[h]]=n[h];for(var d=0;d<t.length;d++)for(var m in e)if(-1!=m.indexOf("_"+this.getStringARSC(t[d]))){null==o[t[d]]&&(o[t[d]]=[]),o[t[d]].push(e[m]);for(var c=m.split("_"),g=0;g<r.length;g++)null==o[r[g]]&&(o[r[g]]=[]),-1==$.inArray(c[g],o[r[g]])&&o[r[g]].push(c[g])}if(""!=i){for(var p=this.getData(),f=[],u=0;u<p.length;u++)f.push(p[u][i]);o[i]=$.unique(f)}return o},TrellisChart.prototype.manageColumnWidth=function(){if(IsBoolean(this.isMaximized)){for(var e=this.getColFieldName().colField,t=this.getSeriesFieldName(),i={},a=0;a<this.m_seriesData.length;a++){for(var r="",o=0;o<e.length;o++)r+=this.m_seriesData[a][e[o]]+"_";for(var s=0;s<t.length;s++)i[r+t[s]+"_"]=this.m_widthArr[t[s]]}var l,n=this.m_width-this.getRowDisplayName().Width,h=0;for(l in i)h+=+i[l];if(h<n)for(s=0;s<t.length;s++)this.m_widthArr[t[s]]=100*this.m_widthArr[t[s]]/h*n/100}else for(a=0;a<this.fieldsData.length;a++)IsBoolean(isScaling)?this.m_widthArr[this.fieldsData[a].Name]=this.getProperAttributeNameValue(this.fieldsData[a],"width")*widthRatio:this.m_widthArr[this.fieldsData[a].Name]=this.getProperAttributeNameValue(this.fieldsData[a],"width")},TrellisChart.prototype.settingHeaderWidth=function(){var e,t=this;IsBoolean(this.m_mergeseries)&&1<(e=$("#"+t.m_componentid).find(".datagrid-view2").find(".datagrid-header-inner").find(".datagrid-htable").find("tbody"))[0].childNodes.length&&(e=e[0].childNodes[e[0].childNodes.length-2],$(e).find(".datagrid-cell-group").each(function(){$(this).css("width",t.m_colwidth)}))},TrellisChart.prototype.removeDefaultIconsOfPivot=function(){$("span").removeClass("datagrid-sort-icon"),$("span").removeClass("tree-icon tree-folder tree-folder-open"),$("span").removeClass("tree-file")},TrellisChart.prototype.drawColumnNameInGridHeader=function(){for(var e=this.getColFieldName().colField,t=this.getSeriesFieldName(),i={},a=0;a<this.m_seriesData.length;a++){for(var r="",o=0;o<e.length;o++)r+=this.m_seriesData[a][e[o]]+"_",IsBoolean(this.m_mergeseries)&&(i[s]={});if(!IsBoolean(this.m_mergeseries))for(var s="",l=0;l<t.length;l++)i[s=r+t[l]+"_"]=this.m_widthArr[t[l]]}for(var n=0,l=0;l<t.length;l++)n+=+this.m_widthArr[t[l]];var h=0;(h=IsBoolean(this.m_mergeseries)?Object.keys(i).length*this.m_colwidth:Object.keys(i).length/t.length*n)>+this.m_width-+this.getRowDisplayName().Width&&(h=+this.m_width-+this.getRowDisplayName().Width);for(var d="",a=0;a<this.m_colFieldDisplayName.length;a++)d+=this.m_colFieldDisplayName[a]+"/";d=d.substring(0,d.length-1),this.startX=+this.getRowDisplayName().Width+ +h/2,this.startY=+this.m_y+ +this.m_titleHeight+ +this.m_subTitleHeight+4+10,this.ctx.beginPath();h=IsBoolean(this.m_updateddesign)?"16":"13";this.ctx.font=this.m_headerfontstyle+" "+this.m_headerfontweight+" "+h+"px "+selectGlobalFont(this.m_headerfontfamily),this.ctx.textAlign="center",this.ctx.fillStyle=this.m_headerfontcolor,this.ctx.fillText(d,this.startX,this.startY*heightRatio),this.ctx.closePath()},TrellisChart.prototype.convertingIntoVHScale=function(){var e=this.getSeriesFieldName();if("horizontal"==this.m_drawingmode)for(var t=0;t<e.length;t++)this.m_fieldChart[e[t]]="bar";else for(t=0;t<e.length;t++)"bar"==this.m_fieldChart[e[t]]&&(this.m_fieldChart[e[t]]="column")},TrellisChart.prototype.dataCleaning=function(){for(var e=this.getColFieldNames(),t=0;t<this.m_seriesData.length;t++)for(var i=0;i<e.length;i++)this.m_seriesData[t][e[i]]=(""+this.m_seriesData[t][e[i]]).replace(/[^\w\s]/gi,"")},TrellisChart.prototype.getColFieldNames=function(){for(var e=[],t=0;t<this.m_colHeadersFieldName.length;t++)"Column"==this.m_fieldType[this.m_colHeadersFieldName[t]]&&e.push(this.getStringARSC(this.m_colHeadersFieldName[t]));return e},TrellisChart.prototype.DirectingToCase=function(){this.ColumnInfo={},IsBoolean(this.m_mergeseries)||""==this.getCatFieldName()?IsBoolean(this.m_mergeseries)||""!=this.getCatFieldName()?IsBoolean(this.m_mergeseries)&&""!=this.getCatFieldName()?this.Scenario3():IsBoolean(this.m_mergeseries)&&""==this.getCatFieldName()&&this.Scenario4():this.Scenario2():this.Scenario1()},TrellisChart.prototype.Scenario1=function(){for(var e=this.singleColumnData().colData,t=this.singleColumnData().catValue,i=this.getCatFieldName(),a=0;a<this.chartDetailMap.length;a++){var r=this.chartDetailMap[a],o=r.className.split("_"),o=o[o.length-1],s=r.data,l=this.getUsefulInfo(s),s=this.calculateWhenCatPresent(s,[o],i,t,r.uniquevalue),n=this.createSeriesFields([o],[]);n=this.createCategoryFields(i,n),this.singleSeriesChartProperty(r,e,o,s,n,l)}},TrellisChart.prototype.Scenario2=function(){for(var e=this.singleColumnData().colData,t=0;t<this.chartDetailMap.length;t++){var i=this.chartDetailMap[t],a=i.className.split("_"),a=a[a.length-1],r=i.data,o=this.getUsefulInfo(r),r=this.calculateWhenCatMissed(r,[a]),s=this.createSeriesFields([a],[]);s=this.createCategoryFields(" ",s),this.singleSeriesChartProperty(i,e,a,r,s,o)}},TrellisChart.prototype.Scenario3=function(){for(var e=this,t=e.getSeriesFieldName(),i=e.MultipleColumnData(t).colData,a=e.MultipleColumnData(t).categories,r=e.getCatFieldName(),o=0;o<e.chartDetailMap.length;o++){var s=this.chartDetailMap[o],l=s.data,n=this.getUsefulInfo(l),l=this.calculateWhenCatPresent(l,t,r,a,s.uniquevalue),h=this.createSeriesFields(t,[]);h=e.createCategoryFields(r,h),this.MultipleSeriesChartProperty(s,i,l,h,n)}},TrellisChart.prototype.Scenario4=function(){for(var e=this,t=e.getSeriesFieldName(),i=e.MultipleColumnData(t).colData,a=0;a<e.chartDetailMap.length;a++){var r=this.chartDetailMap[a],o=r.data,s=this.getUsefulInfo(o),o=this.calculateWhenCatMissed(o,t),l=[],l=this.createSeriesFields(t,l);l=1<t.length?e.createCategoryFields("default_Category",l):e.createCategoryFields(" ",l),this.MultipleSeriesChartProperty(r,i,o,l,s)}},TrellisChart.prototype.getUsefulInfo=function(e){if(1<e.length){for(var t=[],i=0;i<this.m_rowFieldName.length;i++)for(var a=this.m_rowFieldName[i],r=e[0][a],o=0;o<e.length;o++)if(e[o][a]!=r){t.push(a);break}var s,l={};for(s in e[0])-1==t.indexOf(s)&&(l[s]=e[0][s]);return l}return e[0]},TrellisChart.prototype.singleColumnData=function(){for(var e={},t=this.getCatFieldName(),i={},a=0;a<this.chartDetailMap.length;a++){for(var r=this.chartDetailMap[a],o=r.uniquevalue,s=r.className.split("_"),l=s[s.length-1],n=(null==i[o]&&(i[o]=[]),null==e[l]&&(e[l]=[]),[]),h=0;h<r.data.length;h++)""==t?""==r.data[h][l]||isNaN(r.data[h][l])||n.push(+r.data[h][l]):(e[l].push(+r.data[h][l]),i[o].push(r.data[h][t].toString().trim()));""==t&&(IsBoolean(this.m_mergeseries)?e[l].push(getAggregationOperatedData(n,this.m_aggregation)):e[l].push(getAggregationOperatedData(n,this.m_fieldAggregation[l])))}return{colData:e,catValue:i}},TrellisChart.prototype.MultipleColumnData=function(e){for(var t={},i={},a=this.getCatFieldName(),r=0;r<this.chartDetailMap.length;r++){var o=this.chartDetailMap[r].uniquevalue;null==i[o]&&(i[o]=[]);for(var s=0;s<e.length;s++){null==t[e[s]]&&(t[e[s]]=[]);for(var l=[],n=0;n<this.chartDetailMap[r].data.length;n++)""==a?""==this.chartDetailMap[r].data[n][e[s]]||isNaN(this.chartDetailMap[r].data[n][e[s]])||l.push(+this.chartDetailMap[r].data[n][e[s]]):(t[e[s]].push(+this.chartDetailMap[r].data[n][e[s]]),i[o].push(this.chartDetailMap[r].data[n][a]));""==a&&(IsBoolean(this.m_mergeseries)?t[e[s]].push(getAggregationOperatedData(l,this.m_aggregation)):t[e[s]].push(getAggregationOperatedData(l,this.m_fieldAggregation[e[s]])))}}var h,d={All_Series_Data:[]};for(h in t)for(var m=0;m<t[h].length;m++)d.All_Series_Data.push(t[h][m]);return{colData:d,categories:i}},TrellisChart.prototype.singleSeriesChartProperty=function(e,t,i,a,r,o){var s=this.getRequiredChart(this.m_fieldChart[i]),l=document.getElementById(e.id),t=this.calculateMaxMin(t[i]),l={div:l,objectId:e.id+"SingleSeriesChart",minimumAxisValue:t.min,maximumAxisValue:t.max,data:a,fields:r,secondryunit:this.m_secondaryunit,precision:this.m_precision,numberformatter:this.m_numberformatter,unit:this.m_unit,signposition:this.m_signposition,uniqueValue:e.uniquevalue,chartType:this.m_fieldChartType[i],tooltip:o};this.chartDrawing(l,s)},TrellisChart.prototype.getRequiredChart=function(e){switch(e){case"bar":return"BarChart";case"column":return"ColumnStackChart";case"line":return"LineChart";case"bubble":return"BubbleChart";default:return"BarChart"}},TrellisChart.prototype.MultipleSeriesChartProperty=function(e,t,i,a,r){var o=(o=this.m_charttype).charAt(0).toUpperCase()+o.slice(1)+"Chart",s=document.getElementById(e.id),t=this.calculateMaxMin(t.All_Series_Data),l=(0<t.min&&(l=.05*(t.max-t.min),0<t.min-l)&&(t.min=t.min-l),{div:s,objectId:e.id+"multipleSeriesChart",minimumAxisValue:t.min,maximumAxisValue:t.max,data:i,fields:a,secondryunit:this.m_secondaryunit,precision:this.m_precision,unit:this.m_unit,signposition:this.m_signposition,uniqueValue:e.uniquevalue,chartType:this.m_mergefieldcharttype,tooltip:r});this.chartDrawing(l,o)},TrellisChart.prototype.calculateWhenCatPresent=function(e,t,i,a,r){for(var o=[],s=0;s<e.length;s++){var l={};if(IsBoolean(this.isSeriesDataNumeric(e[s],t))){for(var n=0;n<t.length;n++)l[t[n]]=e[s][t[n]];l[i]=e[s][i],o.push(l)}}return 0<o.length&&(a=a[r],o=this.insertMissedCat(a,o,i,t)),o},TrellisChart.prototype.calculateWhenCatMissed=function(e,t){for(var i={},a=0;a<t.length;a++){for(var r=[],o=0;o<e.length;o++)r.push(+e[o][t[a]]);IsBoolean(this.m_mergeseries)?i[t[a]]=getAggregationOperatedData(r,this.m_aggregation):i[t[a]]=getAggregationOperatedData(r,this.m_fieldAggregation[t[a]])}var s={};for(l in i)isNaN(i[l])||(s[l]=i[l]);var l,n=[];for(l in s){var h={};h[l]=s[l],h.default_Category=l,n.push(h)}return 0!=e.length?n:[]},TrellisChart.prototype.insertMissedCat=function(e,t,i,a){for(var r=(r=e.filter(function(e,t,i){return i.indexOf(e)===t})).sort(),o=[],s=0;s<r.length;s++){var l,n=!1;for(l in t)if(t[l][i]==r[s]){for(var h={},d=0;d<a.length;d++)h[a[d]]=t[l][a[d]];h[i]=r[s],o.push(h),n=!0;break}if(0==n){for(h={},d=0;d<a.length;d++)h[a[d]]="";h[i]=r[s],o.push(h)}}return o},TrellisChart.prototype.FooterAddition=function(){if(this.footerDiv=[],jqEasyUI("#datagridTable"+this.m_objectid).pivotgrid("reloadFooter",[{_tree_field:" "}]),IsBoolean(this.m_showFooter))for(var e=0;e<this.footerDiv.length;e++){var t,i,a,r=this.footerDiv[e].id,o=this.footerDiv[e].uniqueValue;null!=this.ColumnInfo[o]&&(t=this.ColumnInfo[o].property,i=this.ColumnInfo[o].ReqChart,0<(o=this.ColumnInfo[o].chartData).data.length)&&(a=$(document.getElementById(r)),a=this.createNewInstance(i,a,10),t.Object.objectId=r+"chart",r=IsBoolean(this.m_updateddesign)?16:13,t.Object.Chart.xAxis.LabelFontSize=this.fontScaling(r),t.Object.Chart.Type=i,a.m_designMode=IsBoolean(this.m_designMode),a.m_bootstrap=!0,a.setProperty(t),a.setDataProvider(o.data),a.setFields(o.fields),a.draw(),r=IsBoolean(this.m_updateddesign)?14:12,a.m_xAxis.m_labelfontsize=this.fontScaling(r),a.drawChartFrame(),a.m_xAxis.drawAxisLabelsForTrellis())}IsBoolean(this.m_showFooter)||$("#"+this.m_componentid).find(".datagrid-view2").find(".datagrid-footer-inner").find(".datagrid-row").css("height","0px"),$("#"+this.m_componentid).find(".datagrid-footer-inner").css("border-style","none")},TrellisChart.prototype.isFooterActive=function(e){var t=this.getSeriesFieldName();if(IsBoolean(this.m_mergeseries)&&""==this.getCatFieldName())return 1<t.length||1==t.length&&"bar"==this.m_charttype;if(""!=this.getCatFieldName())return!0;for(var i=!1,a=0;a<t.length;a++)if("bar"==this.m_fieldChart[t[a]]){i=!0;break}return!!IsBoolean(i)},TrellisChart.prototype.chartDrawing=function(e,t){var i=$(e.div),i=this.createNewInstance(t,i,10),a={Object:{componentType:"mixed_chart",objectType:"chart",subElement:"Chart",globalVariableKeyAttribute:"Globalkey",isDataSetAvailable:"true",enableScript:"true",referenceID:"",isValueFieldsAvailable:"false",showContextMenu:"false",shortName:"mix",showLocked:"false",objectName:"Mixed_1",unShowHidden:"false",percentheight:"320",width:158,x:"0",height:227,y:"0",initialVisibility:"true",percentwidth:"450",objectID:"card_910188d1-f659-4eb1-84bd-49f6b5fc8937",Chart:{id:"Obj.784241DDN8439NB566NF0C7N7BBDD306B14F",Type:"Mixed",showGradient:"false",bgGradients:"0xffffff",bgAlpha:"1",bgGradientRotation:"0",exportToExcel:"true",exportToJPEG:"true",exportToPNG:"true",exportToPDF:"true",exportToPPT:"true",exportToPrint:"true",showScreenShotButton:"true",screenShotMode:"ppt",pptServiceURL:"http://bdbizviz.com/PPT/Parser",pptHeading:"Heading",pptSubHeading:"Sub Heading",subHeading:"Sub Heading",scrnShotFileName:"exportDashboard",showTooltip:"true",showMaximizeButton:"false",showExcelDownload:"true",showSubTitle:"false",showTitle:"false",GradientColor:"#BDC3C7,#BDC3C7",showLegends:!1,legendDirection:"horizontal",legendfontSize:"10",legendtextDecoration:"none",legendfontStyle:"normal",legendfontColor:"#000000",legendfontFamily:"Roboto",legendfontWeight:"normal",showcheckboxwithlegend:"false",showCheckboxSeprate:"false",showBorder:"false",borderColor:"",borderThickness:"",markerColor:"#666666",markerTransparency:.5,showMarkerLine:!1,showVerticalMarkerLine:!1,autoaxisSetup:"true",minimumAxisValue:"-20",maximumAxisValue:"110",baseZero:"false",FixedLabel:!1,Formater:"Currency",Unit:"USD",SignPosition:"prefix",Precision:"0",SecondaryFormater:"Number",SecondaryUnit:"Million",Globalkey:"",enableColorFromDrill:"false",showPoint:"true",lineForm:"curve",ChartType:"clustered",ChartBase:"plane",SecondChartType:"clustered",secondaryAxisShow:!0,secondAxisautoSetup:"true",secondAxisminimumValue:"0",secondAxismaximumValue:"100",secondAxisbaseZero:"false",SecondaryAxisFormater:"Currency",SecondaryAxisUnit:"none",SecondaryAxisSecondaryFormatter:"Number",SecondaryAxisSecondaryUnit:"none",SecondaryAxisPrecision:"0",SecondaryAxisSignPosition:"suffix",secondAxisDiscription:"",secondAxisfontcolor:"#000000",secondAxisfontsize:"12",secondAxisfontstyle:"normal",secondAxisfontweight:"normal",secondAxisfontfamily:"Roboto",secondaxistextdecoration:"none",lineWidth:"3",xAxis:{ShowLineXAxis:"false",LineXAxisColor:"#ffffff",Description:"",LabelFontWeight:"normal",FontSize:"12",LabelFontColor:"0",LabelFontStyle:"normal",TextDecoration:"none",LabelFontFamily:"Roboto",Labelrotation:"-45",LabelTilted:!1,FontColor:"0",LabelTextDecoration:"none",LabelFontSize:"0",FontStyle:"normal",FontFamily:"Roboto",FontWeight:"normal",TickMarks:!1,CategoryMarkingColor:"#cccccc"},yAxis:{ShowLineYAxis:"false",LineYAxisColor:"#ffffff",Description:"",LabelFontWeight:"normal",FontStyle:"normal",LabelFontColor:"0",FontFamily:"Roboto",TextDecoration:"none",LabelFontStyle:"normal",LabelFontFamily:"Roboto",FontColor:"0",SecondDiscription:"",LabelTextDecoration:"none",LabelFontSize:"12",FontSize:"12",leftaxisFormater:!0,rightaxisFormater:!0,FontWeight:"normal",TickMarks:!1},Title:{FontWeight:"normal",Description:"Year wise Expense, Revenue & Profit",FontSize:"12",TextDecoration:"none",Align:"left",FontFamily:"Roboto",FontColor:"#22313f",FontStyle:"normal",showTitle:"false"},SubTitle:{FontWeight:"normal",Description:"Subtitle Description",showSubTitle:"false",FontSize:"12",TextDecoration:"none",Align:"center",FontFamily:"Roboto",FontColor:"0",FontStyle:"normal"},ConditionalColors:{ConditionalColor:[]},CategoryColors:{categoryDefaultColor:"",categoryDefaultColorSet:"",showColorsFromCategoryName:"false",CategoryColor:[]},showHorizontalMarkerLine:!1,controlledTooltip:!0,leftaxisFormater:!0,chartType:"clustered"},clickCallBack:""}};a.Object.objectId=e.objectId,a.Object.x="inherit",a.Object.y="inherit",a.Object.minimumAxisValue=e.minimumAxisValue,a.Object.maximumAxisValue=e.maximumAxisValue,a.Object.autoaxisSetup="false",a.Object.Chart.chartType=e.chartType,"100%"==e.chartType&&"BubbleChart"!=t&&"LineChart"!=t&&(a.Object.autoaxisSetup="true",a.Object.Chart.baseZero="true"),a.Object.Chart.IsTrellis=!0,a.Object.Chart.ChartBase=this.m_chartbase,a.Object.Chart.SecondaryUnit=e.secondryunit,a.Object.Chart.Precision=e.precision,a.Object.Chart.Unit=e.unit,a.Object.Chart.SignPosition=e.signposition,a.Object.Chart.NumberFormatter=e.numberformatter,a.Object.Chart.CustomTooltipWidth=this.m_customtooltipwidth,i.m_designMode=IsBoolean(this.m_designMode),i.m_bootstrap=!0,i.m_tooltipprecision=this.m_tooltipprecision,"BubbleChart"==t&&0==this.getCatFieldName().length?(i.minRadius=10,i.maxRadius=12):"BubbleChart"==t&&(i.minRadius=2,i.maxRadius=14),null!=e.tooltip&&this.tooltipConfiguration(i,e),"BarChart"==t&&(a.Object.componentType="bar_chart",a.Object.Chart.Type="Bar"),i.setProperty(a),i.setDataProvider(e.data),i.setFields(e.fields),i.draw(),"BarChart"==t&&(a.Object.componentType="mixed_chart",a.Object.Chart.Type="Mixed"),i.m_xAxis.m_labelfontsize=this.fontScaling(12),0<e.data.length&&(this.ColumnInfo[e.uniqueValue]={property:a,ReqChart:t,chartData:e})},TrellisChart.prototype.tooltipConfiguration=function(e,t){for(var i=this.m_colFieldName,a={},r=0;r<this.m_rowFieldName.length;r++)null!=t.tooltip[this.m_rowFieldName[r]]&&(a[this.m_rowFieldDisplayName[r]]=t.tooltip[this.m_rowFieldName[r]]);for(r=0;r<i.length;r++)a[this.m_colFieldDisplayName[r]]=t.tooltip[i[r]];e.additiontooltipdata=a,e.m_hovercallback="editToolTipForTrellis"},TrellisChart.prototype.getValueHeads=function(){var e=[];if(IsBoolean(this.m_mergeseries)){var e=[],t={field:"AllField",autoRowHeight:!0,width:this.m_colwidth,title:""==this.m_mergefieldname?"   ":this.m_mergefieldname,op:"sum",align:"center",sort:!1,formatter:this.drawAlertImages.bind(this,"AllField",0)};e.push(t)}else for(var i,a=0;a<this.m_colHeadersFieldName.length;a++)"Series"==this.m_fieldType[this.m_colHeadersFieldName[a]]&&(i=this.m_colHeadersFieldName[a],t="",t={field:this.getStringARSC(this.m_colHeadersFieldName[a]),autoRowHeight:!0,width:this.m_widthArr[i],title:this.m_gridheaderDisplayNames[a],op:"sum",align:"center",sort:!1,formatter:this.drawAlertImages.bind(this,i,a)},e.push(t));return e},TrellisChart.prototype.drawAlertImages=function(e,t,i,a,r,o,s){var l,n,h=this,a=$.extend(!0,{},a),d=a._rows;return null==d?(n=IsBoolean(h.m_mergeseries)?h.m_colwidth:h.m_widthArr[e],l=h.getStringARSC(o.cellClass+r+"Footer"),this.footerDiv.push({id:l,uniqueValue:r}),'<div id="'+l+'" style="width:'+n+"px;height:"+(IsBoolean(this.m_showFooter)?25:0)+'px;"></div>'):(l=!0,IsBoolean(h.m_showparentvalue)||null==a.children||(l=!1),IsBoolean(l)?(a=[],r=(l=r).replace(e,""),a=this.processData(d,r),n=IsBoolean(h.m_mergeseries)?h.m_colwidth:h.m_widthArr[e],d=h.m_rowheight,IsBoolean(isScaling)&&(d=h.m_rowheight*heightRatio),0==a.length?'<span style="width:'+n+"px;height:"+d+"px;font-family:"+selectGlobalFont(h.m_statusfontfamily)+";font-weight:normal;font-size:"+h.fontScaling(h.m_statusfontsize)+"px;color:"+h.m_statuscolor+';">'+h.m_status.noData+"</span>":((r={}).id=h.getStringARSC(s+o.cellClass),r.uniquevalue=l,r.data=a,r.className=o.cellClass,this.chartDetailMap.push(r),'<div id="'+r.id+'" style="width:'+n+"px;height:"+d+'px;"></div>')):void 0)},TrellisChart.prototype.processData=function(e,t){for(var i=this.getColFieldName().colField,a=this.getColFieldName().isPresent,r=[],o=0;o<e.length;o++){var s="";if(IsBoolean(a))r.push(e[o]);else{for(var l=0;l<i.length;l++)s+=e[o][i[l]]+"_";s==t&&r.push(e[o])}}var n=this.getCatFieldName();if(""==n)return r;if(0<r.length){for(var h=[],o=0;o<this.m_rowFieldName.length;o++)for(var d=this.m_rowFieldName[o],m=r[0][d],l=0;l<r.length;l++)if(r[l][d]!=m){h.push(d);break}var c=[];if(0<h.length){for(o=0;o<r.length;o++){var g={};for(u in r[o])-1==h.indexOf(u)&&(g[u]=r[o][u]);c.push(g)}r=c}}for(var p=this.getSeriesFieldName(),f={},o=0;o<r.length;o++)null==f[r[o][n]]&&(f[r[o][n]]=[]),f[r[o][n]].push(r[o]);var u,_=[];for(u in f){for(o=0;o<p.length;o++){for(var C=[],l=0;l<f[u].length;l++)C.push(f[u][l][p[o]]);IsBoolean(this.m_mergeseries)?f[u][0][p[o]]=getAggregationOperatedData(C,this.m_aggregation):f[u][0][p[o]]=getAggregationOperatedData(C,this.m_fieldAggregation[p[o]])}_.push(f[u][0])}return _},TrellisChart.prototype.setGridCss=function(){var e=this,t=$("#"+e.m_componentid);0==e.firstColumWidth()&&t.find(".datagrid-view1").remove(),t.find(".panel-body").css("padding","0px"),t.find(".panel").css("text-align","left"),t.find(".datagrid-header-row span").css({color:convertColorToHex(e.m_headerfontcolor),"font-weight":e.m_headerfontweight,"font-size":e.fontScaling(e.m_headerfontsize)+"px","font-family":selectGlobalFont(e.m_headerfontfamily),"font-style":e.m_headerfontstyle,"text-decoration":e.m_headertextdecoration}),t.find(".datagrid-header-row td div").css({color:convertColorToHex(e.m_headerfontcolor),"font-weight":e.m_headerfontweight,"font-size":e.fontScaling(e.m_headerfontsize)+"px","font-family":selectGlobalFont(e.m_headerfontfamily),"font-style":e.m_headerfontstyle,"text-align":e.m_headertextalign}),t.find(".datagrid-cell").css({padding:"0px","font-weight":e.m_headerfontweight,"font-size":e.fontScaling(e.m_headerfontsize)+"px","font-family":selectGlobalFont(e.m_headerfontfamily),"font-style":e.m_headerfontstyle,"text-decoration":e.m_headertextdecoration,color:convertColorToHex(e.m_headerfontcolor)}),t.find(".datagrid-view1 .datagrid-body .datagrid-body-inner .datagrid-btable .datagrid-row td .tree-title").css({"font-weight":e.m_headerfontweight,"font-size":e.fontScaling(e.m_headerfontsize)+"px","font-family":selectGlobalFont(e.m_headerfontfamily),"font-style":e.m_headerfontstyle,"text-decoration":e.m_headertextdecoration,color:convertColorToHex(e.m_headerfontcolor)}),IsBoolean(this.m_showhorizontalgridlines)?(t.find(".datagrid-header td").css({"border-right":"1px solid "+e.m_verticalgridlinecolor,"border-bottom":"1px solid "+e.m_horizontalgridlinecolor}),this.setCellBorder(".datagrid-view1","0px 1px 1px 0px"),this.setCellBorder(".datagrid-view2","0px 1px 1px 0px")):(t.find(".datagrid-header td").css({"border-right":"1px solid "+e.m_verticalgridlinecolor,"border-bottom":"0px solid "+e.m_horizontalgridlinecolor}),this.setCellBorder(".datagrid-view1","0px 1px 0px 0px"),this.setCellBorder(".datagrid-view2","0px 1px 0px 0px")),t.find(".datagrid-header").css({"border-width":"0",background:hex2rgb(convertColorToHex(e.m_headerchromecolor),.8)}),t.find(".datagrid-cell-rownumber").css("width","0px"),t.find(".datagrid-header-rownumber").css("width","0px"),t.find(".datagrid-mask").css({display:"none",width:"0px",height:"0px",opacity:"0",background:"#cfcfcf"}),t.find(".datagrid-mask-msg").css({opacity:"0","border-color":"#fdfdfd"}),t.find(".datagrid-header-row td .datagrid-cell").css("height",(15<e.fontScaling(e.m_headerfontsize)?+e.fontScaling(e.m_headerfontsize)+2:17)+"px"),t.find(".datagrid-header-row td div").css("text-decoration","none"),t.find(".datagrid-view2 .datagrid-header-row .datagrid-cell-group").css("text-decoration",e.m_headertextdecoration),t.find(".datagrid-view").find(".datagrid-view1").find(".datagrid-body").find("table").css("border-collapse","initial"),t.find(".datagrid-view").find(".datagrid-view2").find(".datagrid-body").find("table").css("border-collapse","initial"),t.find(".datagrid-view2").find(".datagrid-header").find(".datagrid-header-row").each(function(){$(this).find("td").each(function(){$(this).css("background",hex2rgb(convertColorToHex(e.m_headerchromecolor),.8)),$(this).hover(function(){$(this).css("background",hex2rgb(convertColorToHex(e.m_headerchromecolor),.8))})})}),t.find(".datagrid-view1").find(".datagrid-htable .datagrid-cell").css("padding","0px 8px 0px 4px"),t.find(".datagrid-view2").find(".datagrid-htable .datagrid-cell").css("padding","0px 8px 0px 4px"),t.find(".datagrid-view2").find(".datagrid-header-inner").css("width","10000px")},TrellisChart.prototype.setCellBorder=function(e,t){var i=this;$("#"+this.m_componentid).find(".datagrid-view").find(e).find(".datagrid-body").find(".datagrid-btable").find(".datagrid-row").each(function(){$(this).find("td").each(function(){$(this).css({"border-bottom":i.m_horizontalgridlinecolor,"border-right":i.m_verticalgridlinecolor,"border-width":t,"border-style":"solid"})})})},TrellisChart.prototype.setGridColors=function(){var e=$("#"+this.m_componentid),t=["#ffffff","#ffffff","#ffffff","#ffffff"];e.find(".datagrid-row").css("background",t[1]),e.find(".datagrid-row-alt").css("background",t[2]),e.find(".datagrid-row-selected").css("background","#ffffff"),e.find(".datagrid-row").hover(function(){$(this).css("background","#ffffff")},function(){e.find(".datagrid-row").css("background",t[1]),e.find(".datagrid-row-alt").css("background",t[2]),e.find(".datagrid-row-selected").css("background","#ffffff")})},TrellisChart.prototype.setSelectedRowCSS=function(){var e=$("#"+this.m_componentid),t=this.getDatagridStyles().getAlternateRowsColor(),i=this.getDatagridStyles().getHeaderColors();if(null!=t){for(var a=t.split(","),r=["#ffffff"],o=0;o<a.length;o++)r.push(convertColorToHex(a[o]));a=r}else{for(var a=i.split(","),s=[],o=0;o<a.length;o++)s.push(convertColorToHex(a[o]));1==(a=s).length?(a.push("#ffffff"),a.push("#ffffff")):2==a.length&&a.push(a[1])}e.find(".datagrid-row").css("background",convertColorToHex(a[1])),e.find(".datagrid-row-alt").css("background",convertColorToHex(a[2])),e.find(".datagrid-row-selected").css("background",convertColorToHex(this.getDatagridStyles().m_selectionColor))},TrellisChart.prototype.createCategoryFields=function(e,t){var i={DisplayName:"city",Type:"Category",visible:"true",PlotRadius:"4",Name:"city",Color:"#fcdb96",axis:"none",Precision:"0",PlotTransparency:"1",PlotType:"point",ChartType:"none",Type:"Category"};return i.Name=e,t.push(i),t},TrellisChart.prototype.createSeriesFields=function(e,t){for(var i=0;i<e.length;i++){var a={DisplayName:"city",Type:"",visible:"true",PlotRadius:"4",Name:"city",Color:"#fcdb96",axis:"left",Precision:"0",PlotTransparency:"1",PlotType:"point",ChartType:"column",DataLabelCustomProperties:{showDataLabel:"false",useFieldColor:"false",dataLabelTextAlign:"center",dataLabelFontColor:"#000000",dataLabelRotation:"0",dataLabelFontSize:"12",datalabelFontStyle:"normal",datalabelFontWeight:"normal",datalabelFontFamily:"Roboto",datalabelField:"",datalabelPosition:"Top"}};"line"==this.m_fieldChart[e[i]]?a.ChartType="line":"column"==this.m_fieldChart[e[i]]&&(a.ChartType=this.m_fieldChart[e[i]]),a.axis=this.m_fieldAxis[e[i]],a.Type="Series",a.Name=e[i],a.Color=this.m_seriesColor[e[i]],a.DisplayName=this.m_fieldheaderDisplayNames[e[i]],a.DataLabelCustomProperties=this.m_seriesDataLabelProperty[e[i]],t.push(a)}return t},TrellisChart.prototype.getRowDisplayName=function(){for(var e="",t=0,i=0;i<this.m_colHeadersFieldName.length;i++)if("Row"==this.m_fieldType[this.m_colHeadersFieldName[i]]){t=this.m_widthArr[this.m_colHeadersFieldName[i]]||100;break}for(i=0;i<this.m_colHeadersFieldName.length;i++)"Row"==this.m_fieldType[this.m_colHeadersFieldName[i]]&&(e+=this.m_gridheaderDisplayNames[i]+"/");return{displayName:e=e.substring(0,e.length-1),Width:t}},TrellisChart.prototype.getRowFieldName=function(){for(var e=[],t=0;t<this.m_colHeadersFieldName.length;t++)"Row"==this.m_fieldType[this.m_colHeadersFieldName[t]]&&e.push(this.getStringARSC(this.m_colHeadersFieldName[t]));return 0==e.length&&e.push(" "),e},TrellisChart.prototype.setRowColFieldAndDisplayName=function(){this.m_rowFieldName=[],this.m_rowFieldDisplayName=[],this.m_colFieldName=[],this.m_colFieldDisplayName=[];for(var e=0;e<this.m_colHeadersFieldName.length;e++)"Row"==this.m_fieldType[this.m_colHeadersFieldName[e]]&&(this.m_rowFieldName.push(this.getStringARSC(this.m_colHeadersFieldName[e])),this.m_rowFieldDisplayName.push(this.m_gridheaderDisplayNames[e]));for(e=0;e<this.m_colHeadersFieldName.length;e++)"Column"==this.m_fieldType[this.m_colHeadersFieldName[e]]&&(this.m_colFieldName.push(this.getStringARSC(this.m_colHeadersFieldName[e])),this.m_colFieldDisplayName.push(this.m_gridheaderDisplayNames[e]))},TrellisChart.prototype.getColFieldName=function(){return this.columnFieldDetail},TrellisChart.prototype.setColFieldName=function(){for(var e=[],t=0;t<this.m_colHeadersFieldName.length;t++)"Column"==this.m_fieldType[this.m_colHeadersFieldName[t]]&&e.push(this.getStringARSC(this.m_colHeadersFieldName[t]));var i=!1;0==e.length&&(i=!0,e.push(" ")),this.columnFieldDetail={colField:e,isPresent:i}},TrellisChart.prototype.getToolTipData=function(e,t){return{data:[]}},TrellisChart.prototype.drawChartFrame=function(){this.m_chartFrame.drawFrame()},TrellisChart.prototype.drawTitle=function(){this.m_title.draw()},TrellisChart.prototype.drawSubTitle=function(){this.m_subTitle.draw()},TrellisChart.prototype.getAllFieldsDisplayName=function(){return this.m_gridheaderDisplayNames},TrellisChart.prototype.getAllFieldsName=function(){return this.m_colHeadersFieldName},TrellisChart.prototype.getDataBycolumn=function(e){return this.m_columnHeaderDataMap[e]},TrellisChart.prototype.getData=function(){return this.m_seriesData},TrellisChart.prototype.getSeriesFieldName=function(){return this.m_serFieldName},TrellisChart.prototype.setSeriesFieldName=function(){this.m_serFieldName=[];for(var e=0;e<this.m_colHeadersFieldName.length;e++)"Series"==this.m_fieldType[this.m_colHeadersFieldName[e]]&&this.m_serFieldName.push(this.getStringARSC(this.m_colHeadersFieldName[e]))},TrellisChart.prototype.setCatFieldName=function(){this.m_catFieldName="";for(var e=0;e<this.m_colHeadersFieldName.length;e++)if("Category"==this.m_fieldType[this.m_colHeadersFieldName[e]]){this.m_catFieldName=this.getStringARSC(this.m_colHeadersFieldName[e]);break}},TrellisChart.prototype.getCatFieldName=function(){return this.m_catFieldName},TrellisChart.prototype.getStringARSC=function(e){return e&&e.toString().replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")},TrellisChart.prototype.calculateMaxMin=function(e){var t=this.getMinValue(e),e=this.getMaxValue(e);return 0==t&&0==e?e=100:t==e&&(t=0),{max:e,min:t}},TrellisChart.prototype.isSeriesDataNumeric=function(e,t){for(var i=0;i<t.length;i++)if(isNaN(e[t[i]]))return!1;return!0},TrellisChart.prototype.createNewInstance=function(strClass){var args=Array.prototype.slice.call(arguments,1),clsClass=eval(strClass);function F(){return clsClass.apply(this,args)}return F.prototype=clsClass.prototype,new F},TrellisChart.prototype.getMaxValue=function(e){for(var t=0,i=0,a=0;a<e.length;a++)0==i&&(t=e[a]),e[a]>t&&(t=e[a]),i++;return t},TrellisChart.prototype.getMinValue=function(e){for(var t=0,i=0,a=0;a<e.length;a++)0==i&&(t=e[a]),e[a]<t&&(t=e[a]),i++;return t},TrellisChart.prototype.getDrillDataPoints=function(){},TrellisChart.prototype.showWidget=function(){this.visibilityStatus=!0,this.hideToolTip(),$("#draggableDiv"+this.m_objectid).css("display","block"),IsBoolean(this.m_isDataSetavailable)&&this.draw()};
//# sourceMappingURL=TrellisChart.min.js.map