/*! BDB Charting Library V10.0.0 (2025-08-14 11:37:12) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
function WorldMapChart(t,e){this.base=Chart,this.base(),this.m_x=400,this.m_y=240,this.m_width=300,this.m_height=240,this.m_centerX=0,this.m_centerY=0,this.m_aggregation="",this.m_charttype="map",this.m_maptype="usa",this.m_defaultfillcolor="#FFFFFF",this.m_defaultfmapicon="bd-location",this.m_outlinecolor="#c0c0c0",this.m_rollovercolor="",this.m_dataMap="",this.m_colorMap="",this.m_origionalDataMap="",this.m_title=new Title(this),this.m_defaultcolorrange="0~0",this.m_subTitle=new SubTitle,this.m_util=new Util,this.m_range1=[],this.m_range2=[],this.m_color=[],this.m_range="",this.m_rangedseriesdisplaynames="Low,Medium,High",this.m_rangesofseries="0-20,20-60,60-100",this.m_rangedcolors="#cccccc,26265,#ff00ff",this.m_alphas="0.5,1,0.7",this.multipleNames={india:["Andhra Pradesh/AndhraPradesh","Arunachal Pradesh/ArunachalPradesh","Daman and Diu/DamanandDiu","Delhi/New Delhi/NewDelhi","Dadra and Nagar Haveli/DadraandNagarHaveli","Himachal Pradesh/HimachalPradesh","Jammu and Kashmir/JammuandKashmir","Madhya Pradesh/MadhyaPradesh","Odisha/Orissa","Puducherry/Pondicherry","Tamil Nadu/TamilNadu","Uttar Pradesh/UttarPradesh","West Bengal/WestBengal","Andaman and Nicobar Islands/AndamanandNicobarIslands","Odisha/Orissa"],usa:["Rhode Isarea/Rhode Island"],world:["United States/Usa/United States of America","Myanmar/Burma","Lao People's Democratic Republic/Laos","Timor-Leste/East Timor"],europe:[],canada:[],asia:[],australia:[],middleEast:[],asiaPacific:[],bangladesh:[],southAfrica:[]},this.m_categoryNames=[],this.m_categoryDisplayNames=[],this.m_allCategoryNames=[],this.m_allCategoryDisplayNames=[],this.m_seriesNames=[],this.m_seriesDisplayNames=[],this.m_allSeriesNames=[],this.m_allSeriesDisplayNames=[],this.m_categoryData=[],this.m_seriesData=[],this.m_ShowToolTipData=[],this.updatedCategoryData=[],this.m_symbol="happy",this.m_defaultimg=svg_set.happy,this.m_chartContainer=t,this.m_zIndex=e,this.prevMapType,this.m_solidcolorfill=!1,this.m_cursortype="pointer",this.m_svgtype="svg",this.m_attributioncontrol="true",this.m_drawTripPath="false",this.m_enableCircle="false",this.m_circleColor="#0F52BA",this.m_circleFillcolor="#0F52BA",this.m_circleFillopacity="0.2",this.m_circleWeight="0.5",this.m_defaultZoom="14",this.m_circleRadius=500,this.m_circleTooltip="No events in this trip",this.m_circleindex="0",this.m_showmarker=!1,this.m_mapoptions={center:[40.745176,0],zoom:1,enableanimation:!0,duration:2,mapvariant:"default",wheelzoom:!0,zoomAnimation:!1},this.m_shapedetails={filename:"default"},this.m_geometrytype="marker",this.m_linetype="straight",this.m_linethickness=3,this.m_randomcolorfill=!1,this.m_categorycolors={categoryDefaultColor:"",categoryDefaultColorSet:"",showColorsFromCategoryName:"false",CategoryColor:[]},this.m_conditionalcolors={ConditionalColor:[]},this.m_markericon={icon:"bd-location",color:"#006684",size:"30"},this.m_makimarkericonsize="m",this.m_startcolor="#2ca02c",this.m_endcolor="#d62728",this.m_pathcolor="#006684",this.m_pathicon={icon:"bd-flag-alt",color:"#ff7f0e",size:"30"},this.m_svgicons=!1,this.m_starticon='<?xml version="1.0" encoding="UTF-8"?><svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Icon/Location Start</title><g id="Icon/Location-Start" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Marker" transform="translate(3.000000, 0.000000)" fill="#282830"><path d="M9.00004,2 C6.72356,2 4.66147,3.24958 3.36476,5.2563 C1.65686,7.89937 2.32961,11.5106 3.89348,14.7758 C5.25435,17.6171 6.6963,19.4793 7.7769,20.6193 C8.27418,21.1439 8.69611,21.5169 9.00004,21.7626 C9.30398,21.5169 9.7259,21.1439 10.2232,20.6193 C11.3038,19.4793 12.7457,17.6171 14.1066,14.7758 C15.6705,11.5106 16.3432,7.89937 14.6353,5.2563 C13.3386,3.24958 11.2765,2 9.00004,2 Z M9.00004,23 C8.48555,23.8575 8.48513,23.8570062 8.4847,23.8570062 L8.48173,23.8552 L8.47675,23.8522 L8.46334,23.8439 C8.45287,23.8374 8.43938,23.8289 8.42297,23.8184 C8.39015,23.7973 8.34568,23.768 8.29043,23.73 C8.17994,23.654 8.02637,23.5431 7.83682,23.3932 C7.45767,23.0935 6.93489,22.6382 6.32536,21.9952 C5.10527,20.708 3.54299,18.674 2.0897,15.6397 C0.458474,12.2339 -0.621553,7.74027 1.68495,4.17084 C3.29668,1.67661 5.9518,0 9.00004,0 C12.0483,0 14.7034,1.67661 16.3151,4.17084 C18.6216,7.74027 17.5416,12.2339 15.9104,15.6397 C14.4571,18.674 12.8948,20.708 11.6747,21.9952 C11.0652,22.6382 10.5424,23.0935 10.1633,23.3932 C9.97372,23.5431 9.82014,23.654 9.70965,23.73 C9.65441,23.768 9.60993,23.7973 9.57712,23.8184 C9.56071,23.8289 9.54722,23.8374 9.53675,23.8439 L9.52333,23.8522 L9.51835,23.8552 L9.5163,23.8564 L9.51538,23.8570062 C9.51495,23.8570062 9.51454,23.8575 9.00004,23 Z M9.00004,23 L9.51538,23.857 C9.1987,24.047 8.80139,24.047 8.4847,23.857 L9.00004,23 Z M6.616304,5.0635288 L12.21632,8.663528 C12.3308,8.737128 12.4,8.863896 12.4,9.00000001 C12.4,9.13612 12.3308,9.26288 12.21632,9.33648 L6.616304,12.93648 C6.49322,13.0156 6.336754,13.0212 6.2083248,12.95108 C6.0798956,12.88096 6,12.74632 6,12.6 L6,5.4 C6,5.2536776 6.0798956,5.1190316 6.2083248,5.0489156 C6.336754,4.97879928 6.49322,4.98440376 6.616304,5.0635288 Z" id="Shape"></path></g></g></svg>',this.m_endicon='<?xml version="1.0" encoding="UTF-8"?><svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Icon/Location End</title><g id="Icon/Location-End" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Marker" transform="translate(3.000000, 0.000000)" fill="#282830"><path d="M9.00004,2 C6.72356,2 4.66147,3.24958 3.36476,5.2563 C1.65686,7.89937 2.32961,11.5106 3.89348,14.7758 C5.25435,17.6171 6.6963,19.4793 7.7769,20.6193 C8.27418,21.1439 8.69611,21.5169 9.00004,21.7626 C9.30398,21.5169 9.7259,21.1439 10.2232,20.6193 C11.3038,19.4793 12.7457,17.6171 14.1066,14.7758 C15.6705,11.5106 16.3432,7.89937 14.6353,5.2563 C13.3386,3.24958 11.2765,2 9.00004,2 Z M9.00004,23 C8.48555,23.8575 8.48513,23.8570062 8.4847,23.8570062 L8.48173,23.8552 L8.47675,23.8522 L8.46334,23.8439 C8.45287,23.8374 8.43938,23.8289 8.42297,23.8184 C8.39015,23.7973 8.34568,23.768 8.29043,23.73 C8.17994,23.654 8.02637,23.5431 7.83682,23.3932 C7.45767,23.0935 6.93489,22.6382 6.32536,21.9952 C5.10527,20.708 3.54299,18.674 2.0897,15.6397 C0.458474,12.2339 -0.621553,7.74027 1.68495,4.17084 C3.29668,1.67661 5.9518,0 9.00004,0 C12.0483,0 14.7034,1.67661 16.3151,4.17084 C18.6216,7.74027 17.5416,12.2339 15.9104,15.6397 C14.4571,18.674 12.8948,20.708 11.6747,21.9952 C11.0652,22.6382 10.5424,23.0935 10.1633,23.3932 C9.97372,23.5431 9.82014,23.654 9.70965,23.73 C9.65441,23.768 9.60993,23.7973 9.57712,23.8184 C9.56071,23.8289 9.54722,23.8374 9.53675,23.8439 L9.52333,23.8522 L9.51835,23.8552 L9.5163,23.8564 L9.51538,23.8570062 C9.51495,23.8570062 9.51454,23.8575 9.00004,23 Z M9.00004,23 L9.51538,23.857 C9.1987,24.047 8.80139,24.047 8.4847,23.857 L9.00004,23 Z M11,6 C11.5522847,6 12,6.44771525 12,7 L12,11 C12,11.5522847 11.5522847,12 11,12 L7,12 C6.44771525,12 6,11.5522847 6,11 L6,7 C6,6.44771525 6.44771525,6 7,6 L11,6 Z" id="Shape"></path></g></g></svg>',this.m_tripiconsize=18,this.m_realtimeMarker='<?xml version="1.0" encoding="utf-8"?> \x3c!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --\x3e <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"> <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="50px" height="30px" viewBox="0 0 50 30" enable-background="new 0 0 50 30" xml:space="preserve"> <path fill="#1E1E1E" d="M16.157,5.488c0,0-5.49-1.567-11.017,0.739c0,0-3.02,1.779-2.69,6.904c0,0-0.829,2.261-0.035,3.836 c0,0-2.651,11.16,13.859,8.159l4.024-0.186c0,0,1.244,0.843,2.525,0.11l10.432-0.184l-0.695,3.029c0,0,1.099,0.27,2.086-1.73h7.501 c0,0,5.86-1.002,6.154-8.252c0,0,1.464-7.396-2.563-11.386c0,0-1.977-1.886-3.916-1.667l-7.432-0.046c0,0-0.145-2.083-2.269-2.009 l1.208,2.628L22.86,5.359c0,0-0.659-1.174-2.526-0.039L16.157,5.488z"/> <path fill="#FFFFFF" d="M14.514,8.101L7.632,8.393c0,0-4.247,7.797,0.183,13.508l6.699,0.438 C14.514,22.34,12.647,15.678,14.514,8.101z"/> <path fill="#FFFFFF" d="M30.182,7.295c0,0,2.707,8.126,0,15.484l6.92,1.245c0,0,9.078-7.98,0-17.645L30.182,7.295z"/> <ellipse transform="matrix(0.8622 0.5065 -0.5065 0.8622 5.1083 -1.5183)" fill="#FFFFFF" cx="5.345" cy="8.632" rx="0.841" ry="1.757"/> <ellipse transform="matrix(0.8347 -0.5507 0.5507 0.8347 -11.0502 6.5249)" fill="#FFFFFF" cx="5.345" cy="21.671" rx="0.841" ry="1.759"/> <path fill="#FFFFFF" d="M11.748,23.288l3.938,0.879H35.91C35.91,24.167,22.563,21.358,11.748,23.288z"/> <path fill="#FFFFFF" d="M11.748,6.637c0,0,10.6,1.574,23.301-0.586l-19.62-0.256C15.429,5.794,13.594,5.831,11.748,6.637z"/> <ellipse transform="matrix(-0.7054 0.7088 -0.7088 -0.7054 82.1154 -19.1358)" fill="#FFFFFF" cx="45.035" cy="7.498" rx="0.841" ry="1.758"/> <ellipse transform="matrix(-0.7266 -0.6871 0.6871 -0.7266 61.1083 69.9299)" fill="#FFFFFF" cx="44.469" cy="22.806" rx="0.841" ry="1.757"/> </svg>'}function svgMApTitle(t){this.base=Title,this.base(t)}function svgMapSubTitle(){this.base=SubTitle,this.base()}WorldMapChart.prototype=new Chart,WorldMapChart.prototype.setProperty=function(t){this.ParseJsonAttributes(t.Object,this),this.initCanvas()},WorldMapChart.prototype.getFieldsJson=function(){return this.m_fieldsJson},WorldMapChart.prototype.setFields=function(t){this.m_fieldsJson=t;var e=[],o=[];this.m_fieldsJson=t;for(var i=0;i<t.length;i++)switch(this.getProperAttributeNameValue(t[i],"Type")){case"Category":e.push(t[i]);break;case"Series":case"CalculatedField":o.push(t[i])}0<e.length?(this.isEmptyCategory=!0,this.setCategory(e),this.setSeries(o)):this.isEmptyCategory=!1},WorldMapChart.prototype.setCategory=function(t){this.m_categoryNames=[],this.m_categoryDisplayNames=[],this.m_allCategoryNames=[],this.m_allCategoryDisplayNames=[],this.m_categoryVisibleArr=[];for(var e=0,o=0;o<t.length;o++){this.m_allCategoryNames[o]=this.getProperAttributeNameValue(t[o],"Name");var i=this.formattedDescription(this,this.getProperAttributeNameValue(t[o],"DisplayName"));this.m_allCategoryDisplayNames[o]=i,this.m_categoryVisibleArr[this.m_allCategoryDisplayNames[o]]=this.getProperAttributeNameValue(t[o],"visible"),IsBoolean(this.m_categoryVisibleArr[this.m_allCategoryDisplayNames[o]])&&(this.m_categoryNames[e]=this.getProperAttributeNameValue(t[o],"Name"),this.m_categoryDisplayNames[e]=i,e++)}},WorldMapChart.prototype.setSeries=function(t){this.m_seriesNames=[],this.m_seriesDisplayNames=[],this.m_seriesColors=[],this.m_legendNames=[],this.m_seriesVisibleArr=[],this.m_allSeriesDisplayNames=[],this.m_allSeriesNames=[],this.m_precisionArr=[],this.m_isfixedlabelArr=[],this.m_formatterArr=[],this.m_unitnameArr=[],this.m_signpositionArr=[],this.m_secondformatterArr=[],this.m_secondunitnameArr=[],this.m_columnTypeArr=[],this.formatterMap={},this.legendMap={};for(var e=0,o=0;o<t.length;o++){var i,r=this.formattedDescription(this,this.getProperAttributeNameValue(t[o],"DisplayName"));this.m_allSeriesDisplayNames[o]=r,this.m_allSeriesNames[o]=this.getProperAttributeNameValue(t[o],"Name"),this.m_seriesVisibleArr[this.m_allSeriesNames[o]]=this.getProperAttributeNameValue(t[o],"visible"),IsBoolean(this.m_seriesVisibleArr[this.m_allSeriesNames[o]])&&(this.m_seriesDisplayNames[e]=r,this.m_seriesNames[e]=this.getProperAttributeNameValue(t[o],"Name"),this.m_legendNames[e]=r,this.m_seriesColors[e]=convertColorToHex(this.getProperAttributeNameValue(t[o],"Color")),this.m_precisionArr[e]=this.getProperAttributeNameValue(t[o],"Precision"),this.m_isfixedlabelArr[e]=this.getProperAttributeNameValue(t[o],"isfixedlabel"),this.m_formatterArr[e]=this.getProperAttributeNameValue(t[o],"formatter"),this.m_unitnameArr[e]=this.getProperAttributeNameValue(t[o],"unitname"),this.m_signpositionArr[e]=this.getProperAttributeNameValue(t[o],"signposition"),this.m_secondformatterArr[e]=this.getProperAttributeNameValue(t[o],"secondformatter"),this.m_secondunitnameArr[e]=this.getProperAttributeNameValue(t[o],"secondunitname"),this.m_columnTypeArr[e]=this.getProperAttributeNameValue(t[o],"cellType"),r={precision:this.m_precisionArr[e],isfixedlabel:this.m_isfixedlabelArr[e],formatter:this.m_formatterArr[e],unitname:this.m_unitnameArr[e],signposition:this.m_signpositionArr[e],secondformatter:this.m_secondformatterArr[e],secondunitname:this.m_secondunitnameArr[e]},i={seriesName:this.m_seriesNames[e],displayName:this.m_seriesDisplayNames[e],color:this.m_seriesColors[e],shape:"cube"},this.legendMap[this.m_seriesNames[e]]=i,this.formatterMap[this.m_seriesNames[e]]=r,e++)}this.setLegendsIntialLoad(this.m_defaultlegendfields)},WorldMapChart.prototype.getLegendInfo=function(){return this.legendMap},WorldMapChart.prototype.getAllSeriesNames=function(){return this.m_allSeriesNames},WorldMapChart.prototype.setLegendNames=function(t){this.m_legendNames=t},WorldMapChart.prototype.getLegendNames=function(){return this.m_categoryData[0]},WorldMapChart.prototype.getCategoryNames=function(){return this.m_categoryNames},WorldMapChart.prototype.getAllCategoryNames=function(){return this.m_allCategoryNames},WorldMapChart.prototype.getCategoryDisplayNames=function(){return this.m_categoryDisplayNames},WorldMapChart.prototype.getSeriesDisplayNames=function(){return this.m_seriesDisplayNames},WorldMapChart.prototype.getDataProvider=function(){return this.m_dataProvider},WorldMapChart.prototype.setCategoryData=function(){if(this.m_categoryData=[],this.isEmptyCategory=!0,0<this.getCategoryNames().length){this.isEmptyCategory=!1;for(var t=0;t<this.getCategoryNames().length;t++)this.m_categoryData[t]=this.getDataFromJSON(this.getCategoryNames()[t])}},WorldMapChart.prototype.getCategoryData=function(){return this.m_categoryData},WorldMapChart.prototype.getSeriesNames=function(){return this.m_seriesNames},WorldMapChart.prototype.setSeriesData=function(){this.m_tooltipdata=[],this.m_seriesData=[],this.m_ShowToolTipData=[];for(var t=0;t<this.getSeriesNames().length;t++)this.m_seriesData[t]=this.getDataFromJSON(this.getSeriesNames()[t]),this.m_ShowToolTipData[t]=this.getDataFromJSON(this.getSeriesNames()[t]),this.m_tooltipdata[this.m_categoryData[t]]=this.getDataFromJSON(this.getSeriesNames()[t]);if("leaflet"==this.m_svgtype){IsBoolean(this.m_designMode)||this.updateSeriesCatData(),this.m_latitudepoints=[],this.m_longitudepoints=[],this.m_markerdata=[],this.m_tripeventpoints=[],this.m_markerNames=[],this.m_markerDisplayNames=[];for(t=0;t<this.m_seriesNames.length;t++)IsBoolean(this.m_seriesVisibleArr[this.m_seriesNames[t]])&&("latitude"==this.m_columnTypeArr[t]?this.m_latitudepoints.push(this.m_seriesData[t]):"longitude"==this.m_columnTypeArr[t]?this.m_longitudepoints.push(this.m_seriesData[t]):"tripevent"==this.m_columnTypeArr[t]?this.m_tripeventpoints.push(this.m_seriesData[t]):(this.m_markerdata.push(this.m_seriesData[t]),this.m_markerNames.push(this.m_seriesNames[t]),this.m_markerDisplayNames.push(this.m_allSeriesDisplayNames[t])))}},WorldMapChart.prototype.updateSeriesCatData=function(){for(var t=[],e=[],o=0;o<this.m_seriesNames.length;o++)IsBoolean(this.m_seriesVisibleArr[this.m_seriesNames[o]])&&("latitude"==this.m_columnTypeArr[o]?t.push(this.m_seriesData[o]):"longitude"==this.m_columnTypeArr[o]&&e.push(this.m_seriesData[o]));if(this.m_tooltipLeafletData=this.m_dataProvider,0!==e.length&&0!==t.length){var i=_.zip(t[0],e[0]),r=_.zip.apply(_,this.m_seriesData),a=_.zip.apply(_,this.m_ShowToolTipData),s=[],l=[],n=[];n[0]=[],this.m_tooltipLeafletData=[];for(var p=0;p<i.length;p++){var m=i[p];this.isValidData(m)||(s.push(r[p]),l.push(a[p]),n[0].push(this.m_categoryData[0][p]),this.m_tooltipLeafletData.push(this.m_dataProvider[p]))}var h=_.unzip(s),c=_.unzip(l);this.m_seriesData=h,this.m_ShowToolTipData=c,this.m_categoryData=n}},WorldMapChart.prototype.isValidData=function(t){for(var e=!1,o=0;o<t.length;o++){var i=+getNumericComparableValue(t[o]);if(isNaN(i)||""===t[o]){e=!0;break}}return e},WorldMapChart.prototype.getSeriesData=function(){return this.m_seriesData},WorldMapChart.prototype.getOriginalCategoryData=function(){this.m_originalCategoryData=[];for(var t=0;t<this.getCategoryNames().length;t++)this.m_originalCategoryData[t]=this.getDataFromJSON(this.getCategoryNames()[t]);return this.m_originalCategoryData},WorldMapChart.prototype.initializeDraggableDivAndCanvas=function(){this.setDashboardNameAndObjectId(),this.m_draggableDiv=this.createDraggableDiv(this.m_chartContainer,this.m_zIndex),this.createDraggableCanvas(this.m_draggableDiv),this.setCanvasContext(),this.createSVGContainer(),this.initMouseClickEvent()},WorldMapChart.prototype.createSVGContainer=function(){var t=this,e=(this.svgContainerId="svgContainer"+t.m_objectid,+this.getMarginForSubTitle()+ +this.getMarginForTitle()),o=($("#"+t.svgContainerId).remove(),document.createElementNS("http://www.w3.org/2000/svg","svg")),o=(o.setAttribute("xlink","http://www.w3.org/1999/xlink"),o.setAttribute("width",this.m_width),o.setAttribute("height",e+"px"),o.setAttribute("id",this.svgContainerId),o.setAttribute("class","svg_chart_container"),$("#draggableDiv"+t.m_objectid).append(o),$("#svgMapDiv"+t.m_objectid).remove(),document.createElement("div"));o.setAttribute("id","svgMapDiv"+t.m_objectid),$("#draggableDiv"+t.m_objectid).append(o),$("#svgMapDiv"+t.m_objectid).css({position:"absolute",top:e+"px",height:this.m_height-e+"px",width:this.m_width+"px","font-family":selectGlobalFont(t.m_defaultfontfamily)})},WorldMapChart.prototype.initCanvas=function(){$("#draggableDiv"+this.m_objectid).remove(),this.initializeDraggableDivAndCanvas()},WorldMapChart.prototype.setAllFieldsName=function(){this.m_allfieldsName=[];for(var t=0;t<this.getAllCategoryNames().length;t++)this.m_allfieldsName.push(this.getAllCategoryNames()[t]);for(var e=0;e<this.getAllSeriesNames().length;e++)this.m_allfieldsName.push(this.getAllSeriesNames()[e])},WorldMapChart.prototype.getAllFieldsName=function(){return this.m_allfieldsName},WorldMapChart.prototype.setAllFieldsDisplayName=function(){this.m_allfieldsDisplayName=[];for(var t=0;t<this.getCategoryDisplayNames().length;t++)this.m_allfieldsDisplayName.push(this.getCategoryDisplayNames()[t]);for(var e=0;e<this.getSeriesDisplayNames().length;e++)this.m_allfieldsDisplayName.push(this.getSeriesDisplayNames()[e])},WorldMapChart.prototype.getAllFieldsDisplayName=function(){return this.m_allfieldsDisplayName},WorldMapChart.prototype.setAllFieldsNameForUnavailableCategory=function(){this.m_allfieldsName=[];for(var t=0;t<this.m_categoryNames.length;t++)this.m_allfieldsName.push(this.m_categoryNames[0]);for(var e=0;e<this.m_seriesNames.length;e++)this.m_allfieldsName.push(this.m_seriesNames[0])},WorldMapChart.prototype.setAllFieldsDisplayNameForUnavailableCategory=function(){this.m_allfieldsDisplayName=[];for(var t=0;t<this.m_categoryNames.length;t++)this.m_allfieldsDisplayName.push(this.m_categoryNames[0]);for(var e=0;e<this.m_seriesNames.length;e++)this.m_allfieldsDisplayName.push(this.m_seriesNames[0])},WorldMapChart.prototype.ParseJsonAttributes=function(t,e){this.ParsePropertyJsonAttributes(t,e)},WorldMapChart.prototype.ParsePropertyJsonAttributes=function(t,e){for(var o in this.chartJson=t)if("Chart"==o)for(var i in t[o])switch(i){case"xAxis":case"yAxis":break;case"Title":for(var r in t[o][i]){var a=this.getNodeAttributeName(r);e.m_title[a]=t[o][i][r]}break;case"SubTitle":for(var s in t[o][i]){var a=this.getNodeAttributeName(s);e.m_subTitle[a]=t[o][i][s]}break;default:e[a=this.getNodeAttributeName(i)]=t[o][i]}else e[a=this.getNodeAttributeName(o)]=t[o]},WorldMapChart.prototype.init=function(){this.setCategoryData(),this.setSeriesData(),this.setAllFieldsName(),this.setAllFieldsDisplayName(),this.isSeriesDataEmpty(),this.updateSeriesDataWithCommaSeperators(),this.m_chartFrame.init(this),this.m_title.init(this),this.m_subTitle.init(this),IsBoolean(this.m_isEmptySeries)||(IsBoolean(this.visibilityStatus)?this.initializeCalculation():(this.visibilityStatus=!0,$("#draggableDiv"+this.m_objectid).css("display","block"),this.initializeCalculation(),this.visibilityStatus=!1,$("#draggableDiv"+this.m_objectid).css("display","none"))),this.m_tooltip=new Tooltip,this.initializeToolTipProperty(),this.m_tooltip.init(this)},WorldMapChart.prototype.updateSeriesDataWithCommaSeperators=function(){for(var t=0,e=this.m_ShowToolTipData.length;t<e;t++)for(var o=0,i=this.m_ShowToolTipData[t].length;o<i;o++)isNaN(this.m_ShowToolTipData[t][o])&&(this.m_seriesData[t][o]=getNumericComparableValue(this.m_seriesData[t][o]))},WorldMapChart.prototype.setColorForMapRange=function(){var t={},e={},o={},i=[],r=[],a=[];if(this.m_customtooltipmap={},!IsBoolean(this.isEmptyCategory))for(var s=0;s<this.m_categoryData[0].length;s++){for(var l={},n=0;n<this.m_seriesNames.length;n++)IsBoolean(this.m_seriesVisibleArr[this.m_seriesNames[n]])&&(l[this.m_seriesNames[n]]={seriesName:"",displayName:"",data:"",displayData:""},l[this.m_seriesNames[n]].data=this.m_seriesData[n][s],l[this.m_seriesNames[n]].displayData=this.m_ShowToolTipData[n][s],l[this.m_seriesNames[n]].seriesName=this.m_seriesNames[n],l[this.m_seriesNames[n]].displayName=this.m_seriesDisplayNames[n]);e[(""+this.m_categoryData[0][s]).toLowerCase()]=l,"Custom"==this.m_customtextboxfortooltip.dataTipType&&(this.m_customtooltipmap[(""+this.m_categoryData[0][s]).toLowerCase()]=this.getDataProvider()[s]),o[this.m_categoryData[0][s]]=i[s]=l,t[(""+this.m_categoryData[0][s]).toLowerCase()]=this.getRangeColor(this.m_seriesData[this.getIndex()][s],this.m_categoryData[0][s]),"leaflet"==this.m_svgtype&&this.m_markerdata[0]&&(r[s]=this.getRangeColorLeafLet(this.m_markerdata[0][s],this.m_categoryData[0][s],s),a[s]=this.getRangeColorLeafLetIcon(s)),"svg"==this.m_svgtype&&this.m_seriesData[0]&&(r[this.m_categoryData[0][s]]=this.getRangeColorLeafLet(this.m_seriesData[0][s],this.m_categoryData[0][s],s))}this.m_colorMap=t,this.m_dataMap=e,this.m_origionalDataMap=o,this.m_leafLetDataMap=i,this.m_leafLetColorMap=r,this.m_leafLetIconMap=a},WorldMapChart.prototype.getIndex=function(){for(var t=0;t<this.m_seriesNames.length;t++)if(IsBoolean(this.m_seriesVisibleArr[this.m_seriesNames[t]]))return t;return 0},WorldMapChart.prototype.getRangeColor=function(t,e){var o=this.m_categorycolors.CategoryColor;if(null==t||null===t||""===t||isNaN(t))return this.m_defaultfillcolor;if(!IsBoolean(this.m_solidcolorfill)||IsBoolean(this.m_showdynamicrange)){if(+t<this.m_minRange||+t>this.m_maxRange)return this.m_defaultfillcolor;var i=(+t-this.m_minRange)/(this.m_maxRange-this.m_minRange)*this.m_tempMapWidth*this.getDevicePixelRatio(),r=(+t<this.m_minRange?i=.01:+t>=this.m_maxRange&&(i=this.m_tempMapWidth*this.getDevicePixelRatio()-this.m_adjustpixel),this.ctx.getImageData(0|i,this.m_tempHeight/2,1,1).data),a="rgb("+r[0]+","+r[1]+","+r[2]+")";if(IsBoolean(this.m_randomcolorfill))return"#"+getRandomColor();for(var s=0;s<o.length;s++)if(o[s].categoryName===e)return a=o[s].color;return rgb2hex(a)}this.m_MapCellColor;for(var i=t,l=0;l<this.m_range.length;l++){if((0==l&&i<this.m_range1[l]||l==this.m_range.length-1&&i>=this.m_range2[l])&&(this.m_MapCellColor=this.m_defaultfillcolor),i>=this.m_range1[l]&&i<this.m_range2[l]){this.m_MapCellColor=rgb2hex(this.m_color[l],this.m_coloropacity);break}if(IsBoolean(this.m_randomcolorfill))return"#"+getRandomColor();for(s=0;s<o.length;s++)if(o[s].categoryName===e)return this.m_MapCellColor=o[s].color,this.m_MapCellColor}return this.m_MapCellColor},WorldMapChart.prototype.getRangeColorLeafLet=function(t,e,o){var i=this.m_categorycolors.CategoryColor,r=_.max((IsBoolean("svg"==this.m_svgtype)?this.m_seriesData:this.m_markerdata)[0],function(t){return""===t||void 0===t||null==t?void 0:+t}),a=_.min((IsBoolean("svg"==this.m_svgtype)?this.m_seriesData:this.m_markerdata)[0],function(t){return""===t||void 0===t||null==t?void 0:+t});if(this.m_leafletminRange=IsBoolean(this.m_showdynamicrange)?0!==(IsBoolean("svg"==this.m_svgtype)?this.m_seriesData:this.m_markerdata)[0].length?a:0:[this.m_range1.min(),this.m_range2.min()].min(),this.m_leafletmaxRange=IsBoolean(this.m_showdynamicrange)?0!==(IsBoolean("svg"==this.m_svgtype)?this.m_seriesData:this.m_markerdata)[0].length?r:0:[this.m_range1.max(),this.m_range2.max()].max(),null==t||null===t||""===t||isNaN(t))return this.m_defaultfillcolor;if(!IsBoolean(this.m_solidcolorfill)||IsBoolean(this.m_showdynamicrange)){if(+t<this.m_leafletminRange||+t>this.m_leafletmaxRange){if(0<this.m_conditionalcolors.ConditionalColor.length&&null!=this.getRangeColorLeafLetSeries(o))return this.getRangeColorLeafLetSeries(o);for(var s=0;s<i.length;s++)if(i[s].categoryName===e)return n=i[s].color;return this.m_defaultfillcolor}var l=(+t-this.m_leafletminRange)/(this.m_leafletmaxRange-this.m_leafletminRange)*this.m_tempMapWidth*this.getDevicePixelRatio(),a=(+t<this.m_leafletminRange?l=.01:+t>=this.m_leafletmaxRange&&(l=this.m_tempMapWidth*this.getDevicePixelRatio()-1),this.ctx.getImageData(0|l,this.m_tempHeight/2,1,1).data),n="rgb("+a[0]+","+a[1]+","+a[2]+")";if(IsBoolean(this.m_randomcolorfill))return"#"+getRandomColor();if(0<this.m_conditionalcolors.ConditionalColor.length&&null!=this.getRangeColorLeafLetSeries(o))return this.getRangeColorLeafLetSeries(o);for(s=0;s<i.length;s++)if(i[s].categoryName===e)return n=i[s].color;return rgb2hex(n)}this.m_MapCellColor=this.m_defaultfillcolor;for(var l=t,p=0;p<this.m_range.length;p++){if((0==p&&l<this.m_range1[p]||p==this.m_range.length-1&&l>=this.m_range2[p])&&(this.m_MapCellColor=this.m_defaultfillcolor),l>=this.m_range1[p]&&l<this.m_range2[p]){this.m_MapCellColor=rgb2hex(this.m_color[p]);break}if(IsBoolean(this.m_randomcolorfill))return"#"+getRandomColor();if(0<this.m_conditionalcolors.ConditionalColor.length&&null!=this.getRangeColorLeafLetSeries(o))return this.getRangeColorLeafLetSeries(o);for(s=0;s<i.length;s++)if(i[s].categoryName===e)return this.m_MapCellColor=i[s].color,this.m_MapCellColor}return this.m_MapCellColor},WorldMapChart.prototype.getRangeColorLeafLetIcon=function(rowIndex){var series=this.m_seriesData,seriesName=this.m_seriesNames,seriesColor=this.m_conditionalcolors.ConditionalColor;if(null!=seriesColor&&null!==seriesColor&&""!==seriesColor)for(var i=0;i<seriesColor.length;i++){var operator="="==seriesColor[i].operator?"==":""+seriesColor[i].operator;if(!0===seriesColor[i].flag){var index=-1<seriesName.indexOf(seriesColor[i].comparedField)?seriesName.indexOf(seriesColor[i].comparedField):0;if(eval("result  = '"+series[index][rowIndex]+"'"+operator+"'"+seriesColor[i].compareTo+"'"),IsBoolean(result))return seriesColor[i].icon}else{var indexCF=-1<seriesName.indexOf(seriesColor[i].comparedField)?seriesName.indexOf(seriesColor[i].comparedField):0,indexCT=-1<seriesName.indexOf(seriesColor[i].compareTo)?seriesName.indexOf(seriesColor[i].compareTo):0;if(eval("result  = '"+series[indexCF][rowIndex]+"'"+operator+"'"+series[indexCT][rowIndex]+"'"),IsBoolean(result))return seriesColor[i].icon}}},WorldMapChart.prototype.getRangeColorLeafLetSeries=function(rowIndex){var index,indexcmpto,comparedfield,compareToField,seriesName=this.m_seriesNames,seriesColor=this.m_conditionalcolors.ConditionalColor;if(null!=seriesColor&&null!==seriesColor&&""!==seriesColor)for(var i=0;i<seriesColor.length;i++){for(var j=0;j<seriesName.length;j++)seriesColor[i].seriesName==seriesName[j]&&(index=i,comparedfield=null!=seriesColor[i].comparedField?seriesColor[i].comparedField:seriesColor[i].seriesName),seriesColor[i].flag||(indexcmpto=i,seriesColor[i].m_seriesFlag=!0,compareToField=seriesColor[i].compareTo);var M_SeriesName=[],M_SeriesName1=[],operator=(null!=index&&(M_SeriesName=getCommaSeparateSeriesData(this.getDataFromJSON(comparedfield))),null!=indexcmpto&&IsBoolean(seriesColor[i].m_seriesFlag)&&(M_SeriesName1=getCommaSeparateSeriesData(this.getDataFromJSON(compareToField))),"="==seriesColor[i].operator?"==":""+seriesColor[i].operator),result=!1;if(IsBoolean(seriesColor[i].m_seriesFlag))var compareTo=M_SeriesName1[rowIndex];else if(isNaN(seriesColor[i].compareTo))switch(seriesColor[i].compareTo.toLowerCase()){case"max":compareTo=this.getMaximumSeriesValue(SeriesData,index);break;case"min":compareTo=this.getMinimumSeriesValue(SeriesData,index);break;default:compareTo=""+seriesColor[i].compareTo}else compareTo=seriesColor[i].compareTo;var seriesname=M_SeriesName[rowIndex],values,result,seriesColors,seriesColors;try{("=="!=operator&&"!="!=operator||!IsBoolean(isNaN(seriesname)))&&"between"==operator?(values=(""+compareTo).split("~"),result=seriesname>=+values[0]&&seriesname<=+values[1]):eval("result  = '"+seriesname+"'"+operator+"'"+compareTo+"'")}catch(e){result=!1}if(IsBoolean(result))return seriesColors=convertColorToHex(seriesColor[i].color),seriesColors}},WorldMapChart.prototype.getRanges=function(){this.m_range=""!=this.m_rangesofseries?this.m_rangesofseries.split(","):[this.m_defaultcolorrange];for(var t=0;t<this.m_range.length;t++){var e=-1<this.m_range[t].indexOf("~")?"~":"-",e=this.m_range[t].split(e);this.m_range1[t]=+e[0],this.m_range2[t]=+e[1]}Array.prototype.max=function(){return Math.max.apply(null,this)},Array.prototype.min=function(){return Math.min.apply(null,this)},this.m_minRangeValue=[this.m_range1.min(),this.m_range2.min()].min(),this.m_maxRangeValue=[this.m_range1.max(),this.m_range2.max()].max()},WorldMapChart.prototype.initializeCalculation=function(){this.initializeChartUIProperties(),this.setColorForMapRange()},WorldMapChart.prototype.initializeChartUIProperties=function(){this.m_startX=this.getStartX(),this.m_startY=this.getStartY(),this.m_tempMapWidth=$("#draggableCanvas"+this.m_objectid).width(),this.m_tempHeight=this.getStartY()-this.getEndY(),this.getRanges(),this.initializeColor(),this.createColorRange()},WorldMapChart.prototype.initializeColor=function(){this.m_defaultfillcolor=convertColorToHex(this.m_defaultfillcolor),this.m_rollovercolor=convertColorToHex(this.m_rollovercolor),this.m_outlinecolor=convertColorToHex(this.m_outlinecolor);var t=this.m_rangedcolors.split(",");if(this.m_color=[],IsBoolean(this.m_showdynamicrange))this.m_color[0]=this.m_minrangecolor,this.m_color[1]=this.m_maxrangecolor;else for(var e=[],o=0;o<this.m_range.length;o++)null!=t[o]?e[o]=convertColorToHex(t[o]):e[o]=e[o-1],this.m_color[o]=hex2rgb(e[o])},WorldMapChart.prototype.createColorRange=function(){for(var t=this.m_tempMapWidth,e=[],o=0;o<this.m_seriesNames.length;o++)IsBoolean(this.m_seriesVisibleArr[this.m_seriesNames[o]])&&e.push(this.m_seriesData[o]);var i=_.max(e[0],function(t){return""===t||void 0===t||null==t?void 0:+t}),r=_.min(e[0],function(t){return""===t||void 0===t||null==t?void 0:+t}),a=(this.m_minRange=IsBoolean(this.m_showdynamicrange)?0!==e.length?r:0:[this.m_range1.min(),this.m_range2.min()].min(),this.m_maxRange=IsBoolean(this.m_showdynamicrange)?0!==e.length?i:0:[this.m_range1.max(),this.m_range2.max()].max(),this.ctx.createLinearGradient(0,0,t,0));if(IsBoolean(this.m_showdynamicrange))for(n=0;n<this.m_color.length;n++)s=0==n?0:n==this.m_color.length-1?1:n/(this.m_color.length-1),a.addColorStop(s,this.m_color[n]);else if(1<this.m_range.length)for(var s,l=this.m_maxRange-this.m_minRange,n=0;n<this.m_range.length;n++)0==n?a.addColorStop(0,this.m_color[n]):n==this.m_range.length-1?a.addColorStop(1,this.m_color[n]):(s=(this.m_range1[n]-this.m_minRange)/l,a.addColorStop(s,this.m_color[n]));else IsBoolean(this.m_highervaluesaregood)?(a.addColorStop(0,"#FFFFFF"),a.addColorStop(1,this.m_color[0])):(a.addColorStop(0,this.m_color[0]),a.addColorStop(1,"#FFFFFF"));this.ctx.beginPath(),this.ctx.fillStyle=a,this.ctx.fillRect(0,0,t,+this.m_height),this.ctx.fill(),this.ctx.closePath()},WorldMapChart.prototype.drawChartFrame=function(){this.createSVGContainer(),this.m_chartFrame.drawFrame()},WorldMapChart.prototype.drawTitle=function(){this.m_title.draw()},WorldMapChart.prototype.drawSubTitle=function(){this.m_subTitle.draw()},WorldMapChart.prototype.getImage=function(){var t,e;for(e in svg_set)if(e.toLowerCase()==this.m_symbol.toLowerCase()){t=svg_set[e];break}return null!=t&&"none"!=this.m_symbolcategory?t:null!=this.m_imgdata||""!=this.m_imgdata?this.m_imgdata:this.m_defaultimg},WorldMapChart.prototype.drawChart=function(){this.drawChartFrame(),this.drawTitle(),this.drawSubTitle(),this.drawLegends();var t=this.IsDrawingPossible();"leaflet"!=this.m_svgtype||IsBoolean(this.m_designMode)||(t=this.IsLeafletDrawingPossible(t)),IsBoolean(t.permission)&&"svg"==this.m_svgtype?this.drawMap():IsBoolean(t.permission)&&"leaflet"==this.m_svgtype?IsBoolean(this.m_designMode)?this.drawDesignModeLeaflet():"line"==this.m_geometrytype||"polygon"==this.m_geometrytype?this.setShapeData():this.drawLeafletMap():this.drawMessage(t.message)},WorldMapChart.prototype.IsLeafletDrawingPossible=function(t){return IsBoolean(t.permission)&&(0==this.m_latitudepoints.length||0==this.m_longitudepoints.length||1<this.m_latitudepoints.length||1<this.m_longitudepoints.length)&&("marker"==this.m_geometrytype||"clustered"==this.m_geometrytype||"trail"==this.m_geometrytype)?t={permission:"false",message:this.m_status.noLatitudeLongitudeData}:IsBoolean(t.permission)&&(0==this.m_latitudepoints.length||0==this.m_longitudepoints.length||0==this.m_tripeventpoints.length||1<this.m_latitudepoints.length||1<this.m_longitudepoints.length||1<this.m_tripeventpoints.length)&&"trip"==this.m_geometrytype&&(t={permission:"false",message:this.m_status.noLatitudeLongitudeData+" and Trip Event"}),t},WorldMapChart.prototype.drawDesignModeLeaflet=function(){var t=L.map("svgMapDiv"+this.m_objectid,{center:[40.745176,0],dragging:!1,doubleClickZoom:!1,scrollWheelZoom:!1,zoom:1});this.addLeafletLink(L,t)},WorldMapChart.prototype.addLeafletLink=function(t,e){("default"===this.m_mapoptions.mapvariant||void 0===this.m_mapoptions.mapvariant?t.tileLayer("//{s}.tile.osm.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:'<a href="//openstreetmap.org/copyright" target="_blank">OpenStreetMap</a>'}):t.tileLayer.provider(this.m_mapoptions.mapvariant)).addTo(e),this.applyAdditionalStyles(t,e)},WorldMapChart.prototype.applyAdditionalStyles=function(t,e){},WorldMapChart.prototype.getGeoJsonData=function(){var o=[],i='{"type":"FeatureCollection"',t="Latitude",e="Longitude";o.push(t),o.push(e),i+=',"features": [';for(var r=0;r<this.m_latitudepoints.length;r++)for(var a=0;a<this.m_latitudepoints[0].length;a++){i+='{"type":"Feature","geometry":{"type":"Point","coordinates":['+this.m_longitudepoints[r][a]+","+this.m_latitudepoints[r][a]+"]",null!=this.m_tripeventpoints[r]&&null!=this.m_tripeventpoints[r][a]?i+=',"tripevent": '+this.m_tripeventpoints[r][a]+'},"properties": {':i+='},"properties": {';for(var s=0;s<this.m_markerNames.length;s++)i+='"'+this.m_markerDisplayNames[s]+'": "'+this.getFormatterForToolTip(this.m_markerNames[s],this.m_markerdata[s][a])+'",';i=(i+='"rownumber": "'+a+'",').slice(0,-1)+"}},"}return i=(i=i.slice(0,-1))+"],"+'"keyList":[',$.each(o,function(t,e){i+='"'+o[t]+'",'}),i=i.slice(0,-1)+"]}"},WorldMapChart.prototype.getGeoJsonTripData=function(){var o,i=[],t=(this.m_leafLetColorMapTrip=[],o='{"type":"FeatureCollection"',"Latitude"),e="Longitude";i.push(t),i.push(e),o+=',"features": [';for(var r=0;r<this.m_latitudepoints.length;r++)for(var a=0;a<this.m_latitudepoints[0].length;a++)if(IsBoolean(this.m_tripeventpoints[r][a])){o+='{"type":"Feature","geometry":{"type":"Point","coordinates":['+this.m_longitudepoints[r][a]+","+this.m_latitudepoints[r][a]+"]",null!=this.m_tripeventpoints[r]&&null!=this.m_tripeventpoints[r][a]?(o+=',"tripevent": '+this.m_tripeventpoints[r][a]+'},"properties": {',this.m_leafLetColorMapTrip.push(this.m_leafLetColorMap[a])):o+='},"properties": {';for(var s=0;s<this.m_markerNames.length;s++)o+='"'+this.m_markerDisplayNames[s]+'": "'+this.getFormatterForToolTip(this.m_markerNames[s],this.m_markerdata[s][a])+'",';o=(o+='"rownumber": "'+a+'",').slice(0,-1)+"}},"}return o=(o=o.slice(0,-1))+"],"+'"keyList":[',$.each(i,function(t,e){o+='"'+i[t]+'",'}),o=o.slice(0,-1)+"]}"},WorldMapChart.prototype.getTrailGeoJsonData=function(){var o=[],t=(a='{"type":"FeatureCollection"',"Latitude"),e="Longitude";o.push(t),o.push(e),a+=',"features": [';for(var i=0;i<this.m_latitudepoints.length;i++)for(var r=0;r<this.m_latitudepoints[0].length-1;r++){for(var a=a+('{"type":"Feature","geometry":{"type":"LineString","coordinates":[['+this.m_longitudepoints[i][r]+","+this.m_latitudepoints[i][r]+"],["+this.m_longitudepoints[i][r+1]+","+this.m_latitudepoints[i][r+1]+"]]")+'},"properties": {',s=0;s<this.m_markerNames.length;s++)a+='"'+this.m_markerDisplayNames[s]+'": "'+this.getFormatterForToolTip(this.m_markerNames[s],this.m_markerdata[s][r])+'",';a=(a+='"rownumber": "'+r+'",').slice(0,-1)+"}},"}return a=(a=a.slice(0,-1))+"],"+'"keyList":[',$.each(o,function(t,e){a+='"'+o[t]+'",'}),a=a.slice(0,-1)+"]}"},WorldMapChart.prototype.getGeoTrailData=function(){for(var t=[],e=0;e<this.m_latitudepoints.length;e++)for(var o=0;o<this.m_latitudepoints[0].length;o++)""!==this.m_latitudepoints[0][o]&&this.m_longitudepoints[0][o]&&("trip"==this.m_geometrytype||"circle"==this.m_geometrytype?t.push([this.m_latitudepoints[0][o],this.m_longitudepoints[0][o]]):t.push([this.m_longitudepoints[0][o],this.m_latitudepoints[0][o]]));return t},WorldMapChart.prototype.getGeoTripData=function(){for(var t=[],e=0;e<this.m_latitudepoints.length;e++)for(var o=0;o<this.m_latitudepoints[0].length;o++)""!==this.m_latitudepoints[0][o]&&this.m_longitudepoints[0][o]&&("trip"!=this.m_geometrytype||IsBoolean(this.m_tripeventpoints[0][o]))&&t.push([this.m_latitudepoints[0][o],this.m_longitudepoints[0][o]]);return t},WorldMapChart.prototype.drawLeafletMap=function(){switch(this.m_geometrytype){case"marker":this.drawLeafletMapMarker();break;case"line":this.drawLeafletMapLine();break;case"polygon":this.drawLeafletMapPolygon();break;case"clustered":this.drawLeafletMapClusterd();break;case"trail":this.drawLeafletMapTrail();break;case"trip":this.drawLeafletMapTrip();break;case"realtime":this.drawLeafletMapRealtime();break;case"circle":this.drawCircle();break;default:this.drawLeafletMap_Old()}},WorldMapChart.prototype.drawLeafletMapMarker=function(){var s=this,t=this.getGeoJsonData(),l=JSON.parse(t),e=l.features,t=this.getGeoTripData();if(0!==l.features.length){this.m_markerDisplayNames[0];var r=convertColorToHex(this.m_defaultfillcolor),o=(convertColorToHex(this.m_defaultfmapicon),this.m_geometrytype,$.extend(!0,{},this.m_mapoptions));o.zoom=1,o.scrollWheelZoom=void 0===o.wheelzoom||o.wheelzoom,o.attributionControl=this.m_attributioncontrol;for(var i=0;i<e.length;i++)e[i].properties.color=this.m_leafLetColorMap[i],e[i].properties.color=null==e[i].properties.color?r:e[i].properties.color,e[i].properties.icon=this.m_leafLetIconMap[i],e[i].properties.icon=(null==e[i].properties.icon?s.m_markericon:e[i].properties).icon;o=L.map("svgMapDiv"+s.m_objectid,o),t=(this.m_map=o,IsBoolean(this.m_mapoptions.enableanimation)&&o.flyTo(this.m_mapoptions.center,this.m_mapoptions.zoom,{duration:this.m_mapoptions.duration}),this.addLeafletLink(L,o),0<t.length&&(t=L.latLngBounds(t),o.fitBounds(t)),L.geoJson(l,{onEachFeature:function(t,o){void 0!==s.m_customtextboxfortooltip&&"None"!==s.m_customtextboxfortooltip.dataTipType&&(r="",i=t.properties,"Default"==s.m_customtextboxfortooltip.dataTipType?(r="<html><body><table>",$.each(s.m_markerDisplayNames,function(t,e){if(null==i[e])return r+="<tr><td>No data found.</td></tr>",null;r+="<tr><td style = 'font-size:"+s.m_tooltipfontsize+"px' >"+e+": </td><td style = 'font-size:"+s.m_tooltipfontsize+"px' >"+i[e]+"</td></tr>"}),r+="</table></body></html>"):(e={data:+i.rownumber,type:"LeafletMap"},r=s.m_tooltip.drawMapToolTip(e)),o.bindPopup(r)),o.options.rowId=t.properties.rownumber;var i,e,r,a=null;detectDevice.mobile()||detectDevice.tablet()?detectDevice.android()?o.on({dblclick:n}):o.on("click",function(t){var e=o;e.closePopup(),null===a?a=setTimeout(function(){var t;a=null,e.openPopup(),void 0!==s.m_customtextboxfortooltip&&"None"!==s.m_customtextboxfortooltip.dataTipType&&(t=convertColorToHex(s.m_tooltipbackgroundcolor),"auto"!==s.m_customtooltipwidth&&$(".leaflet-popup-content").css({width:s.m_customtooltipwidth+"px"}),$(".leaflet-popup-content-wrapper").css({"background-color":hex2rgb(t,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor)),color:s.m_tooltipfontcolor}),$(".leaflet-popup-tip").css({"background-color":hex2rgb(t,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor))}),$(".leaflet-popup-content td").css("font-size",s.m_tooltipfontsize+"px"))},500):(clearTimeout(a),a=null,n(t))}):(o.on("mouseover",function(t){var e;this.openPopup(),void 0!==s.m_customtextboxfortooltip&&"None"!==s.m_customtextboxfortooltip.dataTipType&&(e=convertColorToHex(s.m_tooltipbackgroundcolor),"auto"!==s.m_customtooltipwidth&&$(".leaflet-popup-content").css({width:s.m_customtooltipwidth+"px"}),$(".leaflet-popup-content-wrapper").css({"background-color":hex2rgb(e,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor)),color:s.m_tooltipfontcolor}),$(".leaflet-popup-tip").css({"background-color":hex2rgb(e,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor))}),$(".leaflet-popup-content td").css("font-size",s.m_tooltipfontsize+"px"))}),o.on("mouseout",function(t){this.closePopup()}),o.on("click",function(t){n(t)}))},pointToLayer:function(t,e){var o,i=null!=t.properties.color?t.properties.color:r,t=(null!=t.properties.icon?t.properties:s.m_markericon).icon;return o=s.m_svgicons?0!==t.indexOf("bd-")?(o=s.drawSVGImage(t),L.divIcon({className:"",html:'<div style="height:'+s.m_markericon.size+"px; width:"+s.m_markericon.size+'px;">'+o+"</div>"})):(t=t.includes("bd-glyphicon")?t.replace("bd-",""):t,L.divIcon({className:"",html:'<div class="'+t+'" style="text-shadow: 1px 2px 2px #666;font-size: '+s.m_markericon.size+"px;margin: -15px -10px 0px -10px;height: 40px;box-shadow: 0px 8px 6px -6px #666;border-radius: 15px;color:"+i+'">'})):0==t.indexOf("bd-")?(t=t.includes("bd-glyphicon")?t.replace("bd-",""):t,L.divIcon({className:"",html:'<div class="'+t+'" style="text-shadow: 1px 2px 2px #666;font-size: '+s.m_markericon.size+"px;margin: -15px -10px 0px -10px;height: 40px;box-shadow: 0px 8px 6px -6px #666;border-radius: 15px;color:"+i+'">'})):L.MakiMarkers.icon({icon:t,color:i,size:s.m_makimarkericonsize}),L.marker(e,{icon:o})}}));function n(t){var e,o,t=t.target.options.rowId,i=s.m_leafLetDataMap[t],r={};for(e in i){var a=i[e];IsBoolean(s.m_seriesVisibleArr[e])&&(r[a.seriesName]=a.displayData)}s.m_fieldvalue=r,-1<t&&(o=s.m_categoryData[0][t],s.m_fieldcolor=l.features[t].properties.color,s.getDataPointAndUpdateGlobalVariable(s.getOrigionalTitle(o),t)),void 0!==s.m_customtextboxfortooltip&&"None"!==s.m_customtextboxfortooltip.dataTipType&&(o=convertColorToHex(s.m_tooltipbackgroundcolor),"auto"!==s.m_customtooltipwidth&&$(".leaflet-popup-content").css({width:s.m_customtooltipwidth+"px"}),$(".leaflet-popup-content-wrapper").css({"background-color":hex2rgb(o,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor)),color:s.m_tooltipfontcolor}),$(".leaflet-popup-tip").css({"background-color":hex2rgb(o,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor))}),$(".leaflet-popup-content td").css("font-size",s.m_tooltipfontsize+"px"))}o.addLayer(t)}else this.drawMessage("Connection data does not match with shape file data")},WorldMapChart.prototype.drawSVGImage=function(t){var e=t;try{for(var o=e,i=4,r=0;r<$(e).length;r++)if(null!=$(e)[r].tagName&&"svg"==$(e)[r].tagName.toLowerCase()){i=r;break}if(null!=$(e)[i]){for(var a,s,l,n=$(e)[i].attributes,r=0;r<n.length;r++)"height"==n[r].name&&(s=n[r].value),"width"==n[r].name&&(l=n[r].value),"viewbox"==n[r].name.toLowerCase()&&(a=n[r].value);o=null==a?(a="0 0 "+ +s+" "+ +l,(o=e.replace('height="'+s+'"','viewBox="'+a+'"')).replace('width="'+l+'"',"")):(o=o.replace('width="'+l+'"',"")).replace('height="'+s+'"',"")}return t=o}catch(t){return""}},WorldMapChart.prototype.drawLeafletMapLine=function(){for(var s=this,t=this.shapeJsonData,a=JSON.parse(t),e=a.features,o=[],i=0,r=0;r<e.length;r++)if(this.m_origionalDataMap[e[r][this.m_categoryNames[0]]]){for(var l=0;l<this.m_markerNames.length;l++)e[r].properties[this.m_markerDisplayNames[l]]=this.getFormatterForToolTip(this.m_markerNames[l],this.m_markerdata[l][i]);e[r].properties.rownumber=i++,o.push(e[r])}if(a.features=e=o,0!==a.features.length){this.m_markerDisplayNames[0];var n=convertColorToHex(this.m_defaultfillcolor),t=(this.m_geometrytype,$.extend(!0,{},this.m_mapoptions));t.zoom=1,t.attributionControl=this.m_attributioncontrol;for(r=0;r<e.length;r++)e[r].properties.color=this.m_leafLetColorMap[r],e[r].properties.color=null==e[r].properties.color?n:e[r].properties.color;var t=L.map("svgMapDiv"+s.m_objectid,t),p=(IsBoolean(this.m_mapoptions.enableanimation)&&t.flyTo(this.m_mapoptions.center,this.m_mapoptions.zoom,{duration:this.m_mapoptions.duration}),this.addLeafletLink(L,t),L.geoJson(a,{style:function(t){t=null!=t.properties.color?t.properties.color:n;return{color:t,weight:2,opacity:1}},onEachFeature:function(t,o){void 0!==s.m_customtextboxfortooltip&&"None"!==s.m_customtextboxfortooltip.dataTipType&&(r="",i=t.properties,"Default"==s.m_customtextboxfortooltip.dataTipType?(r="<html><body><table>",$.each(s.m_markerDisplayNames,function(t,e){if(null==i[e])return r+="<tr><td>No data found.</td></tr>",null;r+="<tr><td style = 'font-size:"+s.m_tooltipfontsize+"px' >"+e+": </td><td style = 'font-size:"+s.m_tooltipfontsize+"px' >"+i[e]+"</td></tr>"}),r+="</table></body></html>"):(e={data:+i.rownumber,type:"LeafletMap"},r=s.m_tooltip.drawMapToolTip(e)),o.bindPopup(r)),o.options.rowId=t.properties.rownumber;var i,e,r,a=null;detectDevice.mobile()||detectDevice.tablet()?detectDevice.android()?o.on({dblclick:m}):o.on("click",function(t){var e=o;e.closePopup(),null===a?a=setTimeout(function(){a=null,e.openPopup()},500):(clearTimeout(a),a=null,m(t))}):o.on({click:m})},pointToLayer:function(t,e){var o,t=null!=t.properties.color?t.properties.color:n;return s.m_markericon.color=t,o=0==s.m_markericon.icon.indexOf("bd-")?(o=s.m_markericon.icon.includes("bd-glyphicon")?s.m_markericon.icon.replace("bd-",""):s.m_markericon.icon,L.divIcon({className:"",html:'<div class="'+o+'" style="text-shadow: 1px 2px 2px #666;font-size: '+s.m_markericon.size+"px;margin: -15px -10px 0px -10px;height: 40px;box-shadow: 0px 8px 6px -6px #666;border-radius: 15px;color:"+t+'">'})):L.MakiMarkers.icon({icon:s.m_markericon.icon,color:s.m_markericon.color,size:s.m_makimarkericonsize}),L.marker(e,{icon:o})}}));function m(t){index=t.target.options.rowId;var e,o=s.m_leafLetDataMap[index],i={};for(e in o){var r=o[e];IsBoolean(s.m_seriesVisibleArr[e])&&(i[r.seriesName]=r.displayData)}s.m_fieldvalue=i,-1<index&&(t=s.m_categoryData[0][index],s.m_fieldcolor=a.features[index].properties.color,s.getDataPointAndUpdateGlobalVariable(s.getOrigionalTitle(t),index)),void 0!==s.m_customtextboxfortooltip&&"None"!==s.m_customtextboxfortooltip.dataTipType&&(t=convertColorToHex(s.m_tooltipbackgroundcolor),"auto"!==s.m_customtooltipwidth&&$(".leaflet-popup-content").css({width:s.m_customtooltipwidth+"px"}),$(".leaflet-popup-content-wrapper").css({"background-color":hex2rgb(t,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor)),color:s.m_tooltipfontcolor}),$(".leaflet-popup-tip").css({"background-color":hex2rgb(t,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor))}),$(".leaflet-popup-content td").css("font-size",s.m_tooltipfontsize+"px"))}t.addLayer(p)}else this.drawMessage("Connection data does not match with shape file data")},WorldMapChart.prototype.drawLeafletMapPolygon=function(){for(var s=this,t=this.shapeJsonData,a=JSON.parse(t),e=a.features,o=0,i=[],r=0;r<e.length;r++)if(this.m_origionalDataMap[e[r].id]){for(var l=0;l<this.m_categoryNames.length;l++)e[r].properties[this.m_categoryNames[l]]=e[r].id;for(var n=0;n<this.m_seriesNames.length;n++){var p=this.m_categoryData[0].indexOf(e[r].id);e[r].properties[this.m_seriesNames[n]]=this.getFormatterForToolTip(this.m_markerNames[n],this.m_markerdata[n][p])}e[r].properties.rownumber=o++,i.push(e[r])}if(a.features=e=i,0!==a.features.length){this.m_markerDisplayNames[0];var m=convertColorToHex(this.m_defaultfillcolor),t=(this.m_geometrytype,$.extend(!0,{},this.m_mapoptions));t.zoom=1,t.attributionControl=this.m_attributioncontrol;for(r=0;r<e.length;r++){p=this.m_categoryData[0].indexOf(e[r].id);e[r].properties.color=this.m_leafLetColorMap[p],e[r].properties.color=null==e[r].properties.color?m:e[r].properties.color}var t=L.map("svgMapDiv"+s.m_objectid,t),h=(IsBoolean(this.m_mapoptions.enableanimation)&&t.flyTo(this.m_mapoptions.center,this.m_mapoptions.zoom,{duration:this.m_mapoptions.duration}),this.addLeafletLink(L,t),L.geoJson(a,{style:function(t){t=null!=t.properties.color?t.properties.color:m;return{fillColor:t,color:t,weight:1,opacity:1,fillOpacity:.8}},onEachFeature:function(t,o){void 0!==s.m_customtextboxfortooltip&&"None"!==s.m_customtextboxfortooltip.dataTipType&&(r="",i=t.properties,"Default"==s.m_customtextboxfortooltip.dataTipType?(r="<html><body><table>",$.each(s.m_markerDisplayNames,function(t,e){if(null==i[e])return r+="<tr><td>No data found.</td></tr>",null;r+="<tr><td style = 'font-size:"+s.m_tooltipfontsize+"px' >"+e+": </td><td style = 'font-size:"+s.m_tooltipfontsize+"px' >"+i[e]+"</td></tr>"}),r+="</table></body></html>"):(e={data:+i.rownumber,type:"LeafletMap"},r=s.m_tooltip.drawMapToolTip(e)),o.bindPopup(r)),o.options.rowId=t.properties.rownumber;var i,e,r,a=null;detectDevice.mobile()||detectDevice.tablet()?detectDevice.android()?o.on({dblclick:c}):o.on("click",function(t){var e=o;e.closePopup(),null===a?a=setTimeout(function(){a=null,e.openPopup()},500):(clearTimeout(a),a=null,c(t))}):o.on({click:c})},pointToLayer:function(t,e){var o,t=null!=t.properties.color?t.properties.color:m;return s.m_markericon.color=t,o=0==s.m_markericon.icon.indexOf("bd-")?(o=s.m_markericon.icon.includes("bd-glyphicon")?s.m_markericon.icon.replace("bd-",""):s.m_markericon.icon,L.divIcon({className:"",html:'<div class="'+o+'" style="text-shadow: 1px 2px 2px #666;font-size: '+s.m_markericon.size+"px;margin: -15px -10px 0px -10px;height: 40px;box-shadow: 0px 8px 6px -6px #666;border-radius: 15px;color:"+t+'">'})):L.MakiMarkers.icon({icon:s.m_markericon.icon,color:s.m_markericon.color,size:s.m_makimarkericonsize}),L.marker(e,{icon:o})}}));function c(t){p=t.target.options.rowId;var e,o=s.m_leafLetDataMap[p],i={};for(e in o){var r=o[e];IsBoolean(s.m_seriesVisibleArr[e])&&(i[r.seriesName]=r.displayData)}s.m_fieldvalue=i,-1<p&&(t=s.m_categoryData[0][p],s.m_fieldcolor=a.features[p].properties.color,s.getDataPointAndUpdateGlobalVariable(s.getOrigionalTitle(t),p)),void 0!==s.m_customtextboxfortooltip&&"None"!==s.m_customtextboxfortooltip.dataTipType&&(t=convertColorToHex(s.m_tooltipbackgroundcolor),"auto"!==s.m_customtooltipwidth&&$(".leaflet-popup-content").css({width:s.m_customtooltipwidth+"px"}),$(".leaflet-popup-content-wrapper").css({"background-color":hex2rgb(t,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor)),color:s.m_tooltipfontcolor}),$(".leaflet-popup-tip").css({"background-color":hex2rgb(t,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor))}),$(".leaflet-popup-content td").css("font-size",s.m_tooltipfontsize+"px"))}t.addLayer(h)}else this.drawMessage("Connection data does not match with shape file data")},WorldMapChart.prototype.drawLeafletMapClusterd=function(){var s=this,t=this.getGeoJsonData(),l=JSON.parse(t),e=l.features,t=this.getGeoTripData();if(0!==l.features.length){this.m_markerDisplayNames[0];var r=convertColorToHex(this.m_defaultfillcolor),o=(this.m_geometrytype,$.extend(!0,{},this.m_mapoptions));o.zoom=1,o.attributionControl=this.m_attributioncontrol;for(var i=0;i<e.length;i++)e[i].properties.color=this.m_leafLetColorMap[i],e[i].properties.color=null==e[i].properties.color?r:e[i].properties.color,e[i].properties.icon=this.m_leafLetIconMap[i],e[i].properties.icon=(null==e[i].properties.icon?s.m_markericon:e[i].properties).icon;var o=L.map("svgMapDiv"+s.m_objectid,o),t=(IsBoolean(this.m_mapoptions.enableanimation)&&o.flyTo(this.m_mapoptions.center,this.m_mapoptions.zoom,{duration:this.m_mapoptions.duration}),this.addLeafletLink(L,o),0<t.length&&(t=L.latLngBounds(t),o.fitBounds(t)),L.markerClusterGroup()),a=L.geoJson(l,{style:function(t){t=null!=t.properties.color?t.properties.color:r;return{fillColor:t,color:t,weight:1,opacity:1,fillOpacity:.8}},onEachFeature:function(t,o){void 0!==s.m_customtextboxfortooltip&&"None"!==s.m_customtextboxfortooltip.dataTipType&&(r="",i=t.properties,"Default"==s.m_customtextboxfortooltip.dataTipType?(r="<html><body><table>",$.each(s.m_markerDisplayNames,function(t,e){if(null==i[e])return r+="<tr><td>No data found.</td></tr>",null;r+="<tr><td style = 'font-size:"+s.m_tooltipfontsize+"px' >"+e+": </td><td style = 'font-size:"+s.m_tooltipfontsize+"px' >"+i[e]+"</td></tr>"}),r+="</table></body></html>"):(e={data:+i.rownumber,type:"LeafletMap"},r=s.m_tooltip.drawMapToolTip(e)),o.bindPopup(r)),o.options.rowId=t.properties.rownumber;var i,e,r,a=null;detectDevice.mobile()||detectDevice.tablet()?detectDevice.android()?o.on({dblclick:n}):o.on("click",function(t){var e=o;e.closePopup(),null===a?a=setTimeout(function(){var t;a=null,e.openPopup(),void 0!==s.m_customtextboxfortooltip&&"None"!==s.m_customtextboxfortooltip.dataTipType&&(t=convertColorToHex(s.m_tooltipbackgroundcolor),"auto"!==s.m_customtooltipwidth&&$(".leaflet-popup-content").css({width:s.m_customtooltipwidth+"px"}),$(".leaflet-popup-content-wrapper").css({"background-color":hex2rgb(t,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor)),color:s.m_tooltipfontcolor}),$(".leaflet-popup-tip").css({"background-color":hex2rgb(t,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor))}),$(".leaflet-popup-content td").css("font-size",s.m_tooltipfontsize+"px"))},500):(clearTimeout(a),a=null,n(t))}):(o.on("mouseover",function(t){var e;this.openPopup(),void 0!==s.m_customtextboxfortooltip&&"None"!==s.m_customtextboxfortooltip.dataTipType&&(e=convertColorToHex(s.m_tooltipbackgroundcolor),"auto"!==s.m_customtooltipwidth&&$(".leaflet-popup-content").css({width:s.m_customtooltipwidth+"px"}),$(".leaflet-popup-content-wrapper").css({"background-color":hex2rgb(e,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor)),color:s.m_tooltipfontcolor}),$(".leaflet-popup-tip").css({"background-color":hex2rgb(e,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor))}),$(".leaflet-popup-content td").css("font-size",s.m_tooltipfontsize+"px"))}),o.on("mouseout",function(t){this.closePopup()}),o.on("click",function(t){n(t)}))},pointToLayer:function(t,e){var o,i=null!=t.properties.color?t.properties.color:r,t=(null!=t.properties.icon?t.properties:s.m_markericon).icon;return o=s.m_svgicons?0!==t.indexOf("bd-")?(o=s.drawSVGImage(t),L.divIcon({className:"",html:'<div style="height:'+s.m_markericon.size+"px; width:"+s.m_markericon.size+'px;">'+o+"</div>"})):(t=t.includes("bd-glyphicon")?t.replace("bd-",""):t,L.divIcon({className:"",html:'<div class="'+t+'" style="text-shadow: 1px 2px 2px #666;font-size: '+s.m_markericon.size+"px;margin: -15px -10px 0px -10px;height: 40px;box-shadow: 0px 8px 6px -6px #666;border-radius: 15px;color:"+i+'">'})):0==t.indexOf("bd-")?(t=t.includes("bd-glyphicon")?t.replace("bd-",""):t,L.divIcon({className:"",html:'<div class="'+t+'" style="text-shadow: 1px 2px 2px #666;font-size: '+s.m_markericon.size+"px;margin: -15px -10px 0px -10px;height: 40px;box-shadow: 0px 8px 6px -6px #666;border-radius: 15px;color:"+i+'">'})):L.MakiMarkers.icon({icon:t,color:i,size:s.m_makimarkericonsize}),L.marker(e,{icon:o})}});function n(t){var e,o,t=t.target.options.rowId,i=s.m_leafLetDataMap[t],r={};for(e in i){var a=i[e];IsBoolean(s.m_seriesVisibleArr[e])&&(r[a.seriesName]=a.displayData)}s.m_fieldvalue=r,-1<t&&(o=s.m_categoryData[0][t],s.m_fieldcolor=l.features[t].properties.color,s.getDataPointAndUpdateGlobalVariable(s.getOrigionalTitle(o),t)),void 0!==s.m_customtextboxfortooltip&&"None"!==s.m_customtextboxfortooltip.dataTipType&&(o=convertColorToHex(s.m_tooltipbackgroundcolor),"auto"!==s.m_customtooltipwidth&&$(".leaflet-popup-content").css({width:s.m_customtooltipwidth+"px"}),$(".leaflet-popup-content-wrapper").css({"background-color":hex2rgb(o,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor)),color:s.m_tooltipfontcolor}),$(".leaflet-popup-tip").css({"background-color":hex2rgb(o,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor))}),$(".leaflet-popup-content td").css("font-size",s.m_tooltipfontsize+"px"))}t.addLayer(a),o.addLayer(t)}else this.drawMessage("Connection data does not match with shape file data")},WorldMapChart.prototype.drawLeafletMapTrail=function(){for(var e,t,s=this,o=$.extend(!0,{},this.m_mapoptions),o=(o.zoom=1,o.attributionControl=this.m_attributioncontrol,o.scrollWheelZoom=void 0===o.wheelzoom||o.wheelzoom,L.map("svgMapDiv"+s.m_objectid,o)),i=this.getGeoTrailData(),r=convertColorToHex(this.m_defaultfillcolor),a=this.getTrailGeoJsonData(),l=JSON.parse(a),a=this.getGeoTripData(),n=l.features,p=0;p<n.length;p++)n[p].properties.color=this.m_leafLetColorMap[p],n[p].properties.color=null==n[p].properties.color?r:n[p].properties.color;function m(t){var e,o,t=t.target.options.rowId,i=s.m_leafLetDataMap[t],r={};for(e in i){var a=i[e];IsBoolean(s.m_seriesVisibleArr[e])&&(r[a.seriesName]=a.displayData)}s.m_fieldvalue=r,-1<t&&(o=s.m_categoryData[0][t],s.m_fieldcolor=l.features[t].properties.color,s.getDataPointAndUpdateGlobalVariable(s.getOrigionalTitle(o),t)),void 0!==s.m_customtextboxfortooltip&&"None"!==s.m_customtextboxfortooltip.dataTipType&&(o=convertColorToHex(s.m_tooltipbackgroundcolor),"auto"!==s.m_customtooltipwidth&&$(".leaflet-popup-content").css({width:s.m_customtooltipwidth+"px"}),$(".leaflet-popup-content-wrapper").css({"background-color":hex2rgb(o,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor)),color:s.m_tooltipfontcolor}),$(".leaflet-popup-tip").css({"background-color":hex2rgb(o,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor))}),$(".leaflet-popup-content td").css("font-size",s.m_tooltipfontsize+"px"))}0<i.length?(t=[i[i.length-1][0],i[i.length-1][1]],o.flyTo(t,this.m_mapoptions.zoom,{duration:this.m_mapoptions.duration}),this.addLeafletLink(L,o),e=[],"dot"===this.m_linetype?e=[1,4,0,0]:"dash"===this.m_linetype&&(e=[11,11,0,0]),t=L.geoJson(l,{style:function(t){return{color:t.properties.color,dashArray:e,weight:+s.m_linethickness,opacity:1}},onEachFeature:function(t,o){void 0!==s.m_customtextboxfortooltip&&"None"!==s.m_customtextboxfortooltip.dataTipType&&(r="",i=t.properties,"Default"==s.m_customtextboxfortooltip.dataTipType?(r="<html><body><table>",$.each(s.m_markerDisplayNames,function(t,e){if(null==i[e])return r+="<tr><td>No data found.</td></tr>",null;r+="<tr><td style = 'font-size:"+s.m_tooltipfontsize+"px' >"+e+": </td><td style = 'font-size:"+s.m_tooltipfontsize+"px' >"+i[e]+"</td></tr>"}),r+="</table></body></html>"):(e={data:+i.rownumber,type:"LeafletMap"},r=s.m_tooltip.drawMapToolTip(e)),o.bindPopup(r)),o.options.rowId=t.properties.rownumber;var i,e,r,a=null;detectDevice.mobile()||detectDevice.tablet()?detectDevice.android()?o.on({dblclick:m}):o.on("click",function(t){var e=o;e.closePopup(),null===a?a=setTimeout(function(){var t;a=null,e.openPopup(),void 0!==s.m_customtextboxfortooltip&&"None"!==s.m_customtextboxfortooltip.dataTipType&&(t=convertColorToHex(s.m_tooltipbackgroundcolor),"auto"!==s.m_customtooltipwidth&&$(".leaflet-popup-content").css({width:s.m_customtooltipwidth+"px"}),$(".leaflet-popup-content-wrapper").css({"background-color":hex2rgb(t,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor)),color:s.m_tooltipfontcolor}),$(".leaflet-popup-tip").css({"background-color":hex2rgb(t,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor))}),$(".leaflet-popup-content td").css("font-size",s.m_tooltipfontsize+"px"))},500):(clearTimeout(a),a=null,m(t))}):(o.on("mouseover",function(t){var e;this.openPopup(),void 0!==s.m_customtextboxfortooltip&&"None"!==s.m_customtextboxfortooltip.dataTipType&&(e=convertColorToHex(s.m_tooltipbackgroundcolor),"auto"!==s.m_customtooltipwidth&&$(".leaflet-popup-content").css({width:s.m_customtooltipwidth+"px"}),$(".leaflet-popup-content-wrapper").css({"background-color":hex2rgb(e,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor)),color:s.m_tooltipfontcolor}),$(".leaflet-popup-tip").css({"background-color":hex2rgb(e,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor))}),$(".leaflet-popup-content td").css("font-size",s.m_tooltipfontsize+"px"))}),o.on("mouseout",function(t){this.closePopup()}),o.on("click",function(t){m(t)}))}}),o.addLayer(t),t=L.polyline(a,{color:this.m_markericon.color}),o.fitBounds(t.getBounds()),a=i.length,t=i[0],i=i[a-1],a=0==s.m_markericon.icon.indexOf("bd-")?(a=s.m_markericon.icon.includes("bd-glyphicon")?s.m_markericon.icon.replace("bd-",""):s.m_markericon.icon,L.divIcon({className:"",html:'<div class="'+a+'" style="text-shadow: 1px 2px 2px #666;font-size: '+s.m_markericon.size+"px;margin: -15px -10px 0px -10px;height: 40px;box-shadow: 0px 8px 6px -6px #666;border-radius: 15px;color:"+s.m_markericon.color+'">'})):L.MakiMarkers.icon({icon:s.m_markericon.icon,color:s.m_markericon.color,size:s.m_makimarkericonsize}),L.marker([t[1],t[0]],{icon:a}).addTo(o),L.marker([i[1],i[0]],{icon:a}).addTo(o)):this.drawMessage("Connection data does not have valid data")},WorldMapChart.prototype.drawLeafletMapRealtime=function(){var t,e=this,o=$.extend(!0,{},this.m_mapoptions),i=(o.zoom=1,o.attributionControl=this.m_attributioncontrol,this.getGeoTrailData()),r=this.getGeoTripData();0<i.length?(t=[i[i.length-1][1],i[i.length-1][0]],o=L.map("svgMapDiv"+e.m_objectid,o),(this.m_map=o).flyTo(t,this.m_mapoptions.zoom,{duration:this.m_mapoptions.duration}),t=new L.PosAnimation,this.m_pos=t,this.addLeafletLink(L,o),t=L.polyline(i,{color:this.m_pathcolor}),o.fitBounds(t.getBounds()),i=r[0],t=0==e.m_realtimeMarker.indexOf("bd-")?L.divIcon({className:"",html:'<div class="'+e.m_realtimeMarker+'" style="text-shadow: 1px 2px 2px #666;font-size: 30px;margin: -15px -10px 0px -10px;height: 40px;box-shadow: 0px 8px 6px -6px #666;border-radius: 15px;color:'+e.m_markericon.color+'">'}):L.divIcon({className:"",html:e.m_realtimeMarker}),this.m_marker=L.marker([i[0],i[1]],{icon:t}).addTo(o)):this.drawMessage("Connection data does not have valid data")},WorldMapChart.prototype.drawCircle=function(){var t=$.extend(!0,{},this.m_mapoptions),e=(t.zoom=this.m_defaultZoom,t.attributionControl=this.m_attributioncontrol,this.getGeoTrailData()),t=(IsBoolean(this.m_showmarker)?this.drawLeafletMapMarker():(t=L.map("svgMapDiv"+this.m_objectid,t),this.m_map=t,this.addLeafletLink(L,t)),e[this.m_circleindex][0]),e=e[this.m_circleindex][1],o=this.m_circleRadius,i={color:this.m_circleColor,fillColor:this.m_circleFillcolor,fillOpacity:this.m_circleFillopacity,weight:this.m_circleWeight},o=L.circle([t,e],o,i),i=(o.addTo(this.m_map),this.m_map.panTo(new L.LatLng(t,e)),this.m_circleTooltip);o.bindPopup(i),o.on("mouseover",function(t){this.openPopup()}),o.on("mouseout",function(t){this.closePopup()})},WorldMapChart.prototype.drawLeafletMapTrip=function(){var s=this,t=((a=$.extend(!0,{},this.m_mapoptions)).zoom=1,a.attributionControl=this.m_attributioncontrol,this.getGeoTrailData());this.getGeoTripData();if(1==t.length&&IsBoolean(this.m_enableCircle))this.drawCircle();else if(0<t.length){var e=[t[t.length-1][1],t[t.length-1][0]],o=L.map("svgMapDiv"+s.m_objectid,a),e=((this.m_map=o).flyTo(e,this.m_mapoptions.zoom,{duration:this.m_mapoptions.duration}),this.addLeafletLink(L,o),[]),i=("dot"===this.m_linetype?e=[1,4,0,0]:"dash"===this.m_linetype&&(e=[11,11,0,0]),e=IsBoolean(this.m_drawTripPath)?L.polyline(t,{color:this.m_pathcolor,dashArray:e,weight:+this.m_linethickness}).addTo(o):L.polyline(t,{color:this.m_pathcolor}),o.fitBounds(e.getBounds()),this.getGeoJsonData()),l=JSON.parse(i),i=this.getTrailGeoJsonData(),i=JSON.parse(i),r=i.features;if(0!==i.features.length){this.m_markerDisplayNames[0];var a,n=convertColorToHex(this.m_defaultfillcolor);this.m_geometrytype;(a=$.extend(!0,{},this.m_mapoptions)).zoom=1,a.scrollWheelZoom=void 0===a.wheelzoom||a.wheelzoom,a.attributionControl=this.m_attributioncontrol;for(var p=0;p<l.features.length;p++)l.features[p].properties.color=this.m_leafLetColorMap[p],l.features[p].properties.icon=this.m_leafLetIconMap[p];var m=1,h=+r.length+1,i=L.geoJson(l,{onEachFeature:function(t,o){void 0!==s.m_customtextboxfortooltip&&"None"!==s.m_customtextboxfortooltip.dataTipType&&(r="",i=t.properties,"Default"==s.m_customtextboxfortooltip.dataTipType?(r="<html><body><table>",$.each(s.m_markerDisplayNames,function(t,e){if(null==i[e])return r+="<tr><td>No data found.</td></tr>",null;r+="<tr><td style = 'font-size:"+s.m_tooltipfontsize+"px' >"+e+": </td><td style = 'font-size:"+s.m_tooltipfontsize+"px' >"+i[e]+"</td></tr>"}),r+="</table></body></html>"):(e={data:+i.rownumber,type:"LeafletMap"},r=s.m_tooltip.drawMapToolTip(e)),o.bindPopup(r)),o.options.rowId=t.properties.rownumber;var i,e,r,a=null;detectDevice.mobile()||detectDevice.tablet()?detectDevice.android()?o.on({dblclick:c}):o.on("click",function(t){var e=o;e.closePopup(),null===a?a=setTimeout(function(){var t;a=null,e.openPopup(),void 0!==s.m_customtextboxfortooltip&&"None"!==s.m_customtextboxfortooltip.dataTipType&&(t=convertColorToHex(s.m_tooltipbackgroundcolor),"auto"!==s.m_customtooltipwidth&&$(".leaflet-popup-content").css({width:s.m_customtooltipwidth+"px"}),$(".leaflet-popup-content-wrapper").css({"background-color":hex2rgb(t,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor)),color:s.m_tooltipfontcolor}),$(".leaflet-popup-tip").css({"background-color":hex2rgb(t,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor))}))},500):(clearTimeout(a),a=null,c(t))}):(o.on("mouseover",function(t){var e;this.openPopup(),void 0!==s.m_customtextboxfortooltip&&"None"!==s.m_customtextboxfortooltip.dataTipType&&(e=convertColorToHex(s.m_tooltipbackgroundcolor),"auto"!==s.m_customtooltipwidth&&$(".leaflet-popup-content").css({width:s.m_customtooltipwidth+"px"}),$(".leaflet-popup-content-wrapper").css({"background-color":hex2rgb(e,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor)),color:s.m_tooltipfontcolor}),$(".leaflet-popup-tip").css({"background-color":hex2rgb(e,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor))}))}),o.on("mouseout",function(t){this.closePopup()}),o.on("click",function(t){c(t)}))},pointToLayer:function(t,e){var o,i,r,a=null!=t.properties.color?t.properties.color:n;return s.m_svgicons?0!=s.m_markericon.icon.indexOf("bd-")||1!=m&&m!=h?0==s.m_markericon.icon.indexOf("bd-")?(r=L.divIcon({className:"",html:'<svg width="4px" height="4px" viewBox="0 0 16 16" class="bi bi-circle-fill" fill='+a+' xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="8"/></svg>'}),m++,L.marker(e,{icon:r})):void m++:(s.m_flag=1==m?s.m_starticon:s.m_endicon,r=L.divIcon({className:"",html:s.m_flag}),m++,L.marker(e,{icon:r})):(r=1==m||m==h?(i=1==m?s.m_startcolor:s.m_endcolor,0==s.m_markericon.icon.indexOf("bd-")?(o=s.m_markericon.icon.includes("bd-glyphicon")?s.m_markericon.icon.replace("bd-",""):s.m_markericon.icon,L.divIcon({className:"",html:'<div class="'+o+'" style="text-shadow: 1px 2px 2px #666;font-size: '+s.m_markericon.size+"px;margin: -15px -10px 0px -10px;height: 40px;box-shadow: 0px 8px 6px -6px #666;border-radius: 15px;color:"+i+'">'})):(s.m_markericon.color=i,s.m_markericon.size=s.m_makimarkericonsize,L.MakiMarkers.icon(s.m_markericon))):(a=(null!=t.properties.color?t.properties:s.m_pathicon).color,0==(o=(null!=t.properties.icon?t.properties:s.m_pathicon).icon).indexOf("bd-")?(o=o.includes("bd-glyphicon")?o.replace("bd-",""):o,L.divIcon({className:"",html:'<div class="'+o+'" style="text-shadow: 1px 2px 2px #666;font-size: '+s.m_tripiconsize+"px;margin: 0px 0px 0px 0px;height: 15px;box-shadow: 0px 0px 0px 0px #666;border-radius: 5px;color:"+a+'">'})):L.MakiMarkers.icon({icon:o,color:a,size:s.m_makimarkericonsize})),m++,L.marker(e,{icon:r}))}});function c(t){var e,o,t=t.target.options.rowId,i=s.m_leafLetDataMap[t],r={};for(e in i){var a=i[e];IsBoolean(s.m_seriesVisibleArr[e])&&(r[a.seriesName]=a.displayData)}s.m_fieldvalue=r,-1<t&&(o=s.m_categoryData[0][t],s.m_fieldcolor=l.features[t].properties.color,s.getDataPointAndUpdateGlobalVariable(s.getOrigionalTitle(o),t)),void 0!==s.m_customtextboxfortooltip&&"None"!==s.m_customtextboxfortooltip.dataTipType&&(o=convertColorToHex(s.m_tooltipbackgroundcolor),"auto"!==s.m_customtooltipwidth&&$(".leaflet-popup-content").css({width:s.m_customtooltipwidth+"px"}),$(".leaflet-popup-content-wrapper").css({"background-color":hex2rgb(o,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor)),color:s.m_tooltipfontcolor}),$(".leaflet-popup-tip").css({"background-color":hex2rgb(o,s.m_tooltipbackgroundtransparency),border:s.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(s.m_tooltipbordercolor))}))}IsBoolean(this.m_pathhighlighter)?(o.addLayer(geoJsonLayer),o.addLayer(i),e=L.polyline(t,{color:this.m_markericon.color})):o.addLayer(i),o.fitBounds(e.getBounds())}}else this.drawMessage("Connection data does not have valid data")},WorldMapChart.prototype.drawLeafletMap_Old=function(){var a=this,t="marker"==this.m_geometrytype||"clustered"==this.m_geometrytype?this.getGeoJsonData():this.shapeJsonData,s=JSON.parse(t),e=s.features;if("line"===this.m_geometrytype){for(var o=[],i=0,r=0;r<e.length;r++)if(this.m_origionalDataMap[e[r][this.m_categoryNames[0]]]){for(var l=0;l<this.m_markerNames.length;l++)e[r].properties[this.m_markerDisplayNames[l]]=this.getFormatterForToolTip(this.m_markerNames[l],this.m_markerdata[l][i]);e[r].properties.rownumber=i++,o.push(e[r])}s.features=e=o}else if("polygon"===this.m_geometrytype){for(var i=0,n=[],r=0;r<e.length;r++)if(this.m_origionalDataMap[e[r].id]){for(var p=0;p<this.m_categoryNames.length;p++)e[r].properties[this.m_categoryNames[p]]=e[r].id;for(var m=0;m<this.m_seriesNames.length;m++){var h=this.m_categoryData[0].indexOf(e[r].id);e[r].properties[this.m_seriesNames[m]]=this.getFormatterForToolTip(this.m_markerNames[m],this.m_markerdata[m][h])}e[r].properties.rownumber=i++,n.push(e[r])}s.features=e=n}if(0!==s.features.length){this.m_markerDisplayNames[0];var c=convertColorToHex(this.m_defaultfillcolor),d=this.m_geometrytype,t=$.extend(!0,{},this.m_mapoptions);t.zoom=1,t.attributionControl=this.m_attributioncontrol;for(r=0;r<e.length;r++)"polygon"!==this.m_geometrytype?e[r].properties.color=this.m_leafLetColorMap[r]:(h=this.m_categoryData[0].indexOf(e[r].id),e[r].properties.color=this.m_leafLetColorMap[h]),e[r].properties.color=null==e[r].properties.color?c:e[r].properties.color;var u,t=L.map("svgMapDiv"+a.m_objectid,t),_=(IsBoolean(this.m_mapoptions.enableanimation)&&t.flyTo(this.m_mapoptions.center,this.m_mapoptions.zoom,{duration:this.m_mapoptions.duration}),this.addLeafletLink(L,t),"clustered"===this.m_geometrytype&&(u=L.markerClusterGroup()),L.geoJson(s,{style:function(t){var e="",t=null!=t.properties.color?t.properties.color:c;return"marker"==d?e={}:"polygon"==d?e={fillColor:t,color:t,weight:1,opacity:1,fillOpacity:.8}:"line"==d&&(e={color:t,weight:2,opacity:1}),e},onEachFeature:function(t,e){var o,i,r;void 0!==a.m_customtextboxfortooltip&&"None"!==a.m_customtextboxfortooltip.dataTipType&&(r="",o=t.properties,"Default"==a.m_customtextboxfortooltip.dataTipType?(r="<html><body><table>",$.each(a.m_markerDisplayNames,function(t,e){if(null==o[e])return r+="<tr><td>No data found.</td></tr>",null;r+="<tr><td style = 'font-size:"+a.m_tooltipfontsize+"px' >"+e+": </td><td style = 'font-size:"+a.m_tooltipfontsize+"px' >"+o[e]+"</td></tr>"}),r+="</table></body></html>"):(i={data:+o.rownumber,type:"LeafletMap"},r=a.m_tooltip.drawMapToolTip(i)),e.bindPopup(r)),e.options.rowId=t.properties.rownumber,"polygon"!==a.m_geometrytype&&"line"!==a.m_geometrytype&&(detectDevice.mobile()||detectDevice.tablet()?e.on("click",function(t){var e;this.openPopup(),void 0!==a.m_customtextboxfortooltip&&"None"!==a.m_customtextboxfortooltip.dataTipType&&(e=convertColorToHex(a.m_tooltipbackgroundcolor),"auto"!==a.m_customtooltipwidth&&$(".leaflet-popup-content").css({width:a.m_customtooltipwidth+"px"}),$(".leaflet-popup-content-wrapper").css({"background-color":hex2rgb(e,a.m_tooltipbackgroundtransparency),border:a.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(a.m_tooltipbordercolor)),color:a.m_tooltipfontcolor}),$(".leaflet-popup-tip").css({"background-color":hex2rgb(e,a.m_tooltipbackgroundtransparency),border:a.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(a.m_tooltipbordercolor))}))}):(e.on("mouseover",function(t){var e;this.openPopup(),void 0!==a.m_customtextboxfortooltip&&"None"!==a.m_customtextboxfortooltip.dataTipType&&(e=convertColorToHex(a.m_tooltipbackgroundcolor),"auto"!==a.m_customtooltipwidth&&$(".leaflet-popup-content").css({width:a.m_customtooltipwidth+"px"}),$(".leaflet-popup-content-wrapper").css({"background-color":hex2rgb(e,a.m_tooltipbackgroundtransparency),border:a.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(a.m_tooltipbordercolor)),color:a.m_tooltipfontcolor}),$(".leaflet-popup-tip").css({"background-color":hex2rgb(e,a.m_tooltipbackgroundtransparency),border:a.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(a.m_tooltipbordercolor))}))}),e.on("mouseout",function(t){this.closePopup()}))),detectDevice.mobile()||detectDevice.tablet()?e.on({dblclick:g}):e.on({click:g})},pointToLayer:function(t,e){var o,t=null!=t.properties.color?t.properties.color:c;return a.m_markericon.color=t,o=0==a.m_markericon.icon.indexOf("bd-")?(o=a.m_markericon.icon.includes("bd-glyphicon")?a.m_markericon.icon.replace("bd-",""):a.m_markericon.icon,L.divIcon({className:"",html:'<div class="'+o+'" style="text-shadow: 1px 2px 2px #666;font-size: 30px;margin: -15px -10px 0px -10px;height: 40px;box-shadow: 0px 8px 6px -6px #666;border-radius: 15px;color:'+t+'">'})):L.MakiMarkers.icon(a.m_markericon),L.marker(e,{icon:o})}}));function g(t){h=t.target.options.rowId;var e,o=a.m_leafLetDataMap[h],i={};for(e in o){var r=o[e];IsBoolean(a.m_seriesVisibleArr[e])&&(i[r.seriesName]=r.displayData)}a.m_fieldvalue=i,-1<h&&(t=a.m_categoryData[0][h],a.m_fieldcolor=s.features[h].properties.color,a.getDataPointAndUpdateGlobalVariable(a.getOrigionalTitle(t),h)),void 0!==a.m_customtextboxfortooltip&&"None"!==a.m_customtextboxfortooltip.dataTipType&&(t=convertColorToHex(a.m_tooltipbackgroundcolor),"auto"!==a.m_customtooltipwidth&&$(".leaflet-popup-content").css({width:a.m_customtooltipwidth+"px"}),$(".leaflet-popup-content-wrapper").css({"background-color":hex2rgb(t,a.m_tooltipbackgroundtransparency),border:a.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(a.m_tooltipbordercolor)),color:a.m_tooltipfontcolor}),$(".leaflet-popup-tip").css({"background-color":hex2rgb(t,a.m_tooltipbackgroundtransparency),border:a.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(a.m_tooltipbordercolor))}))}"clustered"!==this.m_geometrytype?t.addLayer(_):(u.addLayer(_),t.addLayer(u))}else this.drawMessage("Connection data does not match with shape file data")},WorldMapChart.prototype.setShapeData=function(){var o=this,t=req_url.geospatial.getAllGeoShapeDatas,e={};e.geometryType=this.m_geometrytype;showLoader(),this.webServiceCall(t,e,function(t,e){(t=getDecryptedResponse(t))?(t=t.geoSpatialResp)&&t.success&&o.setShapeFileDetails(t):alertPopUpModal({type:"error",message:"Failed to load shape files list",timeout:"3000"})},function(t,e){alertPopUpModal({type:"error",message:"Failed to load shape files",timeout:"3000"})})},WorldMapChart.prototype.setShapeFileDetails=function(t){for(var e=t.geoShapeDataList,o=0;o<e.length;o++)if(this.m_shapedetails.filename==e[o].name){this.selectedShapeFile=e[o];break}void 0!==this.selectedShapeFile?this.getShapeFileData():(alertPopUpModal({type:"error",message:"Failed to load shape file data",timeout:"3000"}),this.drawMessage("Failed to load shape file data"))},WorldMapChart.prototype.getShapeFileData=function(){var o=this,t=req_url.geospatial.getGeoShapeData,e={shapeDataId:this.selectedShapeFile.id};showLoader(),this.webServiceCall(t,e,function(t,e){(t=getDecryptedResponse(t))&&""!=t.geoSpatialResp.geoShapeData.data?(t=t.geoSpatialResp)&&t.success&&(alertPopUpModal({type:"success",message:"Shape file has been loaded",timeout:"3000"}),o.setGeoJsonData(t)):alertPopUpModal({type:"error",message:"Failed to load shape files",timeout:"3000"})},function(t,e){alertPopUpModal({type:"error",message:"Failed to load shape files",timeout:"3000"})})},WorldMapChart.prototype.setGeoJsonData=function(t){this.shapeJsonData=t.geoShapeData.data,this.drawLeafletMap()},WorldMapChart.prototype.getMapURL=function(){return null==dGlobals.mapJSONUrl?loaderSvgSrc||window.location.href.split("views")[0]+"views"+"/charting/src/bizviz.charting/components/resources/map/":dGlobals.mapJSONUrl},WorldMapChart.prototype.drawMap=function(){var t,o=this;this.prevMapType!==this.m_maptype?(t=this.getMapURL()+this.m_maptype+".svg",this.prevMapType=this.m_maptype,$.ajax({url:t,async:!1,success:function(t){var e=o.processXMLItems(t);o.m_svgdata=t,o.m_imgdata=e,o.drawSVGMap(t),hideLoader()}})):o.drawSVGMap(o.m_svgdata)},WorldMapChart.prototype.processXMLItems=function(t){return(new XMLSerializer).serializeToString(t.getElementsByTagName("svg")[0])},WorldMapChart.prototype.drawSVGMap=function(t){var n=this,p=null;$("#svgMapDiv"+n.m_objectid).empty();try{this.svgMapId="svgMap"+n.m_objectid,$("#"+n.svgMapId).remove();for(var e=document.createElementNS(NS,"svg"),o=(e.setAttribute("id",this.svgMapId),e.setAttribute("class","svg_chart_container"),$("#svgMapDiv"+n.m_objectid).append(e),SVG(n.svgMapId)),i=(e.setAttribute("width",this.m_width),e.setAttribute("height",this.m_height),$(t).find("svg").children()),r=0;r<i.length;r++){"g"==i[r].nodeName&&-1<($(i[r]).attr("class")||"").search("total-area")&&i[r].setAttribute("id","gr-"+this.m_objectid);var a=(new XMLSerializer).serializeToString(i[r]);o.svg(a)}IsBoolean(this.visibilityStatus)?this.svgresize():(this.visibilityStatus=!0,$("#draggableDiv"+n.m_objectid).css("display","block"),this.svgresize(),this.visibilityStatus=!1,$("#draggableDiv"+n.m_objectid).css("display","none")),this.initPathProperties()}catch(t){}IsBoolean(this.m_designMode)||(e.onclick=function(t){if("ontouchstart"in document.documentElement)onMouseMove(n);else{var e=$(t.target).attr("title");if(void 0!==e){t=n.checkMultipleName(e);if(IsBoolean(t))for(var o=e.split("/"),i=0;i<o.length;i++)if(null!=n.m_dataMap[o[i].toLowerCase()]){e=o[i];break}var r,a={};for(r in n.m_dataMap[e.toLowerCase()]){var s=n.m_dataMap[e.toLowerCase()][r];IsBoolean(n.m_seriesVisibleArr[r])&&(a[s.seriesName]=s.displayData)}n.m_fieldvalue=a;var t=n.getOrigionalTitle(e),l=n.m_categoryData[0].indexOf(t);n.m_fieldcolor=n.m_colorMap[e.toLowerCase()],-1<l&&n.getDataPointAndUpdateGlobalVariable(t,l)}}},$(e)[0].addEventListener("touchstart",function(t){if(null==p)p=setTimeout(function(){p=null,onMouseMove(n)},n.m_doubletaptimeout);else{clearTimeout(p),p=null;var e=$(t.target).attr("title");if(void 0!==e){t=n.checkMultipleName(e);if(IsBoolean(t))for(var o=e.split("/"),i=0;i<o.length;i++)if(null!=n.m_dataMap[o[i].toLowerCase()]){e=o[i];break}var r,a={};for(r in n.m_dataMap[e.toLowerCase()]){var s=n.m_dataMap[e.toLowerCase()][r];IsBoolean(n.m_seriesVisibleArr[r])&&(a[s.seriesName]=s.displayData)}n.m_fieldvalue=a;var t=n.getOrigionalTitle(e),l=n.m_categoryData[0].indexOf(t);n.m_fieldcolor=n.m_colorMap[e.toLowerCase()],-1<l&&n.getDataPointAndUpdateGlobalVariable(t,l)}}},!1))},WorldMapChart.prototype.getOrigionalTitle=function(t){for(var e in this.m_origionalDataMap)if(e.toLowerCase()===t.toLowerCase())return e;return t},WorldMapChart.prototype.svgresize=function(){var t,e,o=$("#gr-"+this.m_objectid)[0].getBBox(),i=+this.m_height-$("#"+this.svgContainerId).height(),r=this.getCalculatedSize(o,i,+this.m_width),a=r.w,r=r.h;0<o.width&&(e=(t=o.width>o.height?(a-10)/o.width:(a-10)/o.height,-o.x),o=-o.y,a="translate("+(this.m_width-a)/2+" "+(i-r)/2+") scale("+t+" ) translate("+e+" "+o+")",$("#gr-"+this.m_objectid).attr("transform",a))},WorldMapChart.prototype.getCalculatedSize=function(t,e,o){var t=t.width/t.height,i=o/t;return i<=+e?{w:o,h:i}:{w:e*t,h:e}},WorldMapChart.prototype.initPathProperties=function(){var p=this,t=$("#"+p.svgMapId+" > g > .area");t.attr("style","fill:"+hex2rgb(p.m_defaultfillcolor,p.m_coloropacity)+";stroke:"+p.m_outlinecolor+";");for(var e=0;e<this.m_categoryData[0].length;e++){var o=(o=this.toTitleCase(this.m_categoryData[0][e])).replace(" And "," and "),i=(o=p.checkNameHasMultipleName(o),!IsBoolean(p.m_designMode)&&p.m_leafLetColorMap[p.m_categoryData[0][e]]||p.m_colorMap[(""+p.m_categoryData[0][e]).toLowerCase()]),i=hex2rgb(i,p.m_coloropacity);$("#"+p.svgMapId+" .area[title='"+CSS.escape(o)+"']").css("fill",i)}IsBoolean(!this.m_designMode)&&(t.on("mouseover",function(t){var e,o,i,r=""+$(t.target).attr("title"),a=p.checkMultipleName(r);if(IsBoolean(a)){for(var s=r.split("/"),l=!1,n=0;n<s.length;n++)if(null!=p.m_dataMap[(""+s[n]).toLowerCase()]){r=s[n],l=!0;break}IsBoolean(l)||(r=s[0])}null!=p.m_dataMap[r.toLowerCase()]&&(a=p.getSeriesValuesForToolTip(p.m_dataMap[r.toLowerCase()]),e=+(t.pageX||t.clientX)+10,t=+(t.pageY||t.clientY)+10,o=""==a?p.m_rollovercolor:p.m_colorMap[r.toLowerCase()],i={},"None"!==p.m_customtextboxfortooltip.dataTipType)&&(isNaN(a)||a%1==0||"default"===p.m_tooltipprecision||(a=a.toFixed(this.m_tooltipprecision)),i="Default"==p.m_customtextboxfortooltip.dataTipType?{cat:r,data:a,left:e,top:t,color:hex2rgb(p.m_leafLetColorMap[r])}:{data:p.m_customtooltipmap[r.toLowerCase()],type:"svgMap",left:e,top:t,color:o},p.drawTooltipContent(i)),null!=p.m_dataMap[r.toLowerCase()]?$(this).css("fill",p.m_rollovercolor):$(this).css("fill",hex2rgb(p.m_defaultfillcolor,p.m_coloropacity))}),t.on("mouseout",function(t){var e=""+$(t.target).attr("title"),t=p.checkMultipleName(e);if(IsBoolean(t))for(var o=e.split("/"),i=!1,r=0;r<o.length;r++)if(null!=p.m_colorMap[o[r].toLowerCase()]){e=o[r],i=!0;break}void 0===i||IsBoolean(i)||(e=o[0]),p.m_leafLetColorMap[e]&&null!=p.m_dataMap[e.toLowerCase()]?$(this).css("fill",hex2rgb(p.m_leafLetColorMap[e],p.m_coloropacity)):p.m_colorMap[e.toLowerCase()]&&$(this).css("fill",hex2rgb(p.m_defaultfillcolor,p.m_coloropacity)),p.hideToolTip()}))},WorldMapChart.prototype.getSeriesValuesForToolTip=function(t){var e,o={};for(e in t)IsBoolean(this.m_seriesVisibleArr[e])&&(o[t[e].displayName]=this.getFormatterForToolTip(e,t[e].displayData));return o},WorldMapChart.prototype.getFormatterForToolTip=function(fieldname,value){var data=value,m_precision;if(data=getNumericComparableValue(data),isNaN(data)||""==data||null==data)return data;if(!IsBoolean(this.m_customtextboxfortooltip.useComponentFormatter)&&null!=this.m_customtextboxfortooltip.formatter&&void 0!==this.m_customtextboxfortooltip.formatter[fieldname])return data=this.getFieldFormatterForToolTip(data,fieldname),data;if(this.m_precision=this.formatterMap[fieldname].precision,m_precision="default"!==this.m_precision?this.m_precision:(m_precision=(data+"").split("."),void 0!==m_precision[1]?m_precision[1].length:0),"none"!=this.formatterMap[fieldname].secondformatter&&""!=this.formatterMap[fieldname].secondformatter&&""!=this.formatterMap[fieldname].secondunitname&&"none"!=this.formatterMap[fieldname].secondunitname)if(this.m_secondaryUnitSymbol=this.m_util.getFormatterSymbol(this.formatterMap[fieldname].secondformatter,this.formatterMap[fieldname].secondunitname),this.m_secondaryFormatterPosition="suffix","auto"!=this.m_secondaryUnitSymbol)try{data=this.m_util.updateTextWithFormatter(data,this.m_secondaryUnitSymbol,m_precision),data=this.getLocaleWithPrecision(data,m_precision),eval("data = this.m_util.addUnitAs"+this.m_secondaryFormatterPosition+"(data,this.m_secondaryUnitSymbol);")}catch(e){}else{var symbol=getNumberFormattedSymbol(+data),data=getNumberFormattedNumericValue(+data,m_precision);data=this.getLocaleWithPrecision(data,m_precision),eval("data = this.m_util.addUnitAs"+this.m_secondaryFormatterPosition+"(data,symbol);")}else data=this.getLocaleWithPrecision(data,m_precision);return"none"!=this.formatterMap[fieldname].formatter&&""!=this.formatterMap[fieldname].formatter&&"none"!=this.formatterMap[fieldname].unitname&&""!=this.formatterMap[fieldname].unitname&&(this.m_unitSymbol=this.m_util.getFormatterSymbol(this.formatterMap[fieldname].formatter,this.formatterMap[fieldname].unitname),null!=this.m_unitSymbol)?(""==this.formatterMap[fieldname].signposition&&(this.formatterMap[fieldname].signposition="suffix"),this.m_util.addFormatter(data,this.m_unitSymbol,this.formatterMap[fieldname].signposition,m_precision)):data},WorldMapChart.prototype.getFieldFormatterForToolTip=function(t,e){var o,i,r=""!=this.m_customtextboxfortooltip.formatter[e].SignPosition.value?this.m_customtextboxfortooltip.formatter[e].SignPosition.value:"suffix",a=this.m_customtextboxfortooltip.formatter[e].Precision.value,s=this.m_customtextboxfortooltip.formatter[e].Unit.value,l=this.m_customtextboxfortooltip.formatter[e].SecondaryUnit.value,e=this.m_customtextboxfortooltip.formatter[e].NumberFormatter.value,n=this.m_util.getFormatterSymbol("Currency",s),l=this.m_util.getFormatterSymbol("Number",l);return i="NaN"==(i="auto"==l?(t=getNumericComparableValue(t),o=getNumberFormattedSymbol(+t,s),s=getNumberFormattedNumericValue(+t,a,s),s=this.m_util.updateTextWithFormatter(s,"",a),this.m_util.addFormatter(+s,o,"suffix")):(i=this.m_util.updateTextWithFormatter(+t,l,a),"none"!=l&&""!=l?this.m_util.addFormatter(+i,l,"suffix"):+i))||""===i?"":this.m_util.addFormatter(getFormattedNumberWithCommas(i,e),n,r)},WorldMapChart.prototype.checkNameHasMultipleName=function(t){for(var e=this.multipleNames[this.m_maptype],o=t,i=0;i<e.length;i++)for(var r=e[i].split("/"),a=0;a<r.length;a++)if(t.toLowerCase()===r[a].toLowerCase()){o=e[i];break}return o},WorldMapChart.prototype.checkMultipleName=function(t){return-1<t.indexOf("/")},WorldMapChart.prototype.getMapToolTip=function(t,e,o,i){$("#toolTipDiv").remove();var r=document.createElement("div"),a=(r.setAttribute("id","toolTipDiv"),IsBoolean(i.m_customtextboxfortooltip)&&IsBoolean("Custom"==i.m_customtextboxfortooltip.dataTipType)?"toolTipDivForCustom":"toolTipDiv"),s=(r.setAttribute("class",a),r.style.width=i.m_customtooltipwidth+("auto"!==i.m_customtooltipwidth?"px":""),r.style.fontFamily=selectGlobalFont(i.m_defaultfontfamily),document.body.appendChild(r),r.innerHTML=t,r.style.visibility="",r.setAttribute("placement","bottom"),r.style.left=e-r.clientWidth/2+"px",r.style.top=o+10+"px",convertColorToHex(i.m_tooltipbackgroundcolor));"Custom"==i.m_customtextboxfortooltip.dataTipType?$(r).css({padding:"5px","background-color":hex2rgb(s,i.m_tooltipbackgroundtransparency),border:i.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(i.m_tooltipbordercolor))}):($(r).find("table").css("background-color",hex2rgb(s,i.m_tooltipbackgroundtransparency)),$(r).find("td").each(function(){$(this).css({"background-color":hex2rgb(s,i.m_tooltipbackgroundtransparency),border:i.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(i.m_tooltipbordercolor)),"font-size":i.m_tooltipfontsize+"px"})})),i.m_autotooltiphide&&setTimeout(function(){void 0!==r&&$(r).remove()},i.m_tooltiphidetimeout)},WorldMapChart.prototype.getDataPointAndUpdateGlobalVariable=function(t,e){var o=new Object,i=this.getAllFieldsName();if(null==this.m_fieldvalue){for(var r=new Object,a=0;a<this.m_allSeriesNames.length;a++)r[this.m_allSeriesNames[a]]="";this.m_fieldvalue=r}for(var s=0;s<i.length;s++)o[i[s]]=("svg"==this.m_svgtype?this.getDataProvider():this.m_tooltipLeafletData)[e][i[s]];var l=this.m_fieldcolor,n=("leaflet"!==this.m_svgtype?this.getSeriesNames():this.m_markerNames)[0],p=("leaflet"!==this.m_svgtype?this.getSeriesDisplayNames():this.m_markerDisplayNames)[0],m=o[n];o.drillField=n,o.drillDisplayField=p,o.drillValue=m,this.updateDataPoints(o,l)},WorldMapChart.prototype.getStartX=function(){return this.m_x+0},WorldMapChart.prototype.getStartY=function(){return+(this.m_y+this.m_height)},WorldMapChart.prototype.getEndX=function(){return+(this.m_x+this.m_width)},WorldMapChart.prototype.getEndY=function(){return this.m_y+ +this.getMarginForTitle()+ +this.getMarginForSubTitle()},WorldMapChart.prototype.getMarginForTitle=function(){var t=IsBoolean(this.getShowGradient())||IsBoolean(this.m_showmaximizebutton)||IsBoolean(this.getTitle().m_showtitle)?+this.getTitleBarHeight():0;return t},WorldMapChart.prototype.getMarginForSubTitle=function(){var t=IsBoolean(this.m_subTitle.m_showsubtitle)&&1<this.m_subTitle.m_formattedDescription.length?""!=this.m_subTitle.getDescription()?1.5*this.m_subTitle.getFontSize()+45:10:IsBoolean(this.m_subTitle.m_showsubtitle)?""!=this.m_subTitle.getDescription()?2*this.m_subTitle.getFontSize():10:0;return t},svgMApTitle.prototype=new Title,svgMApTitle.prototype.drawTitleBox=function(){var t=+this.m_chart.m_x,e=+this.m_chart.m_y,o=+this.m_chart.m_width,i=+this.m_titleBarHeight,r=document.createElementNS("http://www.w3.org/2000/svg","rect");r.setAttributeNS(null,"x",t),r.setAttributeNS(null,"y",e),r.setAttributeNS(null,"height",i),r.setAttributeNS(null,"width",o),r.setAttributeNS(null,"fill",this.m_gradientcolorsArray[0]),$("#"+this.m_chart.svgContainerId).append(r)},svgMApTitle.prototype.drawTitleTextInHTML=function(){var t=this,e=($("#title"+this.m_chart.m_objectid).remove(),document.createElement("div")),o=document.createElement("span"),i=(e.setAttribute("id","title"+this.m_chart.m_objectid),o.innerHTML=this.m_chart.formattedDescription(this.m_chart,this.getDescription()),e.style.height=this.m_chart.fontScaling(t.m_titlebarheight)+"px",IsBoolean(this.m_chart.m_showmaximizebutton)?+t.maxIconWidth:0),i=IsBoolean(this.m_chart.m_showsettingmenubutton)?25+i:0+i;o.setAttribute("style","display: inline-block; vertical-align: middle; line-height: normal;text-decoration:inherit;"),e.setAttribute("style","position: absolute; top:0px; left:0px;height:"+this.m_chart.fontScaling(t.m_titlebarheight)+"px;width:calc(100% - "+i+"px);line-height:"+this.m_chart.fontScaling(t.m_titlebarheight)+"px;padding-left:"+t.m_chartLeftRightMargin+"px;font-family:"+this.getFontFamily()+";font-style:"+this.getFontStyle()+";font-size:"+this.m_chart.fontScaling(this.getFontSize())+"px;font-weight:"+this.getFontWeight()+";color:"+this.m_fontColor+";text-align:"+this.getAlign()+";text-decoration:"+this.getTextDecoration()+";overflow: hidden;white-space: nowrap;text-overflow: ellipsis;"),$(e).append(o),$("#draggableDiv"+t.m_chart.m_objectid).append(e)},svgMApTitle.prototype.drawText=function(){var t;IsBoolean(this.m_chart.m_enablehtmlformate.title)?this.drawTitleTextInHTML():(t=drawSVGText(this.startX,this.startY,"",this.m_fontColor,this.getAlign(),"middle"),wrapSVGText(this,this.startX,this.startY,this.m_formattedDescription,t,this.m_chart.fontScaling(this.m_fontsize),+this.m_chart.m_width-20),t.setAttribute("dominant-baseline","middle"),t.setAttribute("style","font-family:"+this.getFontFamily()+";font-style:"+this.getFontStyle()+";font-size:"+this.m_chart.fontScaling(this.getFontSize())+"px;font-weight:"+this.getFontWeight()+";text-decoration:"+this.getTextDecoration()+";"),$("#"+this.m_chart.svgContainerId).append(t))},svgMapSubTitle.prototype=new SubTitle,svgMapSubTitle.prototype.drawText=function(){var t;IsBoolean(this.m_chart.m_enablehtmlformate.subtitle)?this.drawSubTitleTextInHTML():(t=drawSVGText(this.startX,this.startY,"",this.m_fontColor,this.getAlign(),"middle"),wrapSVGText(this,this.startX,this.startY,this.m_formattedDescription,t,this.m_chart.fontScaling(this.m_fontsize),+this.m_chart.m_width-20),t.setAttribute("dominant-baseline","middle"),t.setAttribute("style","font-family:"+this.getFontFamily()+";font-style:"+this.getFontStyle()+";font-size:"+this.m_chart.fontScaling(this.getFontSize())+"px;font-weight:"+this.getFontWeight()+";text-decoration:"+this.getTextDecoration()+";"),document.documentMode&&t.setAttribute("dy","0.3em"),$("#"+this.m_chart.svgContainerId).append(t))},svgMapSubTitle.prototype.drawSubTitleTextInHTML=function(){var t=this,e=($("#subTitle"+this.m_chart.m_objectid).remove(),document.createElement("div")),o=document.createElement("span"),i=(e.setAttribute("id","subTitle"+this.m_chart.m_objectid),o.innerHTML=this.m_chart.formattedDescription(this.m_chart,this.getDescription()),e.style.height=this.m_chart.fontScaling(t.m_subTitleBarHeight)+"px",IsBoolean(this.m_chart.m_showmaximizebutton)?+t.maxIconWidth:0),i=IsBoolean(this.m_chart.m_showsettingmenubutton)?i+25:i+0,r=0;IsBoolean(this.m_chart.getTitle().m_showtitle)&&(i=0,r=this.m_chart.fontScaling(t.m_chart.getTitle().m_titlebarheight)),o.setAttribute("style","display: inline-block; vertical-align: middle; line-height: normal;text-decoration:inherit;"),e.setAttribute("style","position: absolute; top:"+r+"px;left:0px;height:"+this.m_chart.fontScaling(t.m_subTitleBarHeight)+"px;width:calc(100% - "+i+"px);line-height:"+this.m_chart.fontScaling(t.m_subTitleBarHeight)+"px;padding-left:"+t.m_chartLeftRightMargin+"px;font-family:"+this.getFontFamily()+";font-style:"+this.getFontStyle()+";font-size:"+this.m_chart.fontScaling(this.getFontSize())+"px;font-weight:"+this.getFontWeight()+";color:"+this.m_fontColor+";text-align:"+this.getAlign()+";text-decoration:"+this.getTextDecoration()+";overflow: hidden;white-space: nowrap;text-overflow: ellipsis;"),$(e).append(o),$("#draggableDiv"+t.m_chart.m_objectid).append(e)};
//# sourceMappingURL=WorldMapChart.min.js.map