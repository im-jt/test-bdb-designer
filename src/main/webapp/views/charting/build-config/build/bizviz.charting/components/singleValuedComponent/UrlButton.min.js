/*! BDB Charting Library V10.0.0 (2025-08-14 11:37:12) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
function UrlButton(t,o){this.base=Widget,this.base(),this.m_param=[],this.m_fontsize="",this.m_color="",this.m_height="",this.m_fontfamily="Roboto",this.m_encode="",this.m_width="",this.m_chromecolor="",this.m_url="www.bdbizviz.com",this.m_tooltip="",this.m_fontstyle="",this.m_opendoc="",this.m_fontweight="",this.m_label="",this.m_globalkey="",this.m_fieldvalue="",this.m_borderradius=0,this.m_objectID=[],this.m_componentid="",this.checkToolTipDesc="",this.m_chartContainer=t,this.m_zIndex=o,this.m_cursortype="pointer"}function UrlButtonParam(){this.m_name,this.m_value}UrlButton.prototype=new Widget,UrlButton.prototype.setProperty=function(t){this.ParseJsonAttributes(t.Object,this),this.initCanvas()},UrlButton.prototype.ParseJsonAttributes=function(t,o){for(var e in this.chartJson=t,this.m_param=[],t)if("URLButton"==e)for(var i in t[e])if("Params"==i)for(var n=t[e][i].Param,r=0;r<n.length;r++){var s,a=new UrlButtonParam;for(s in n[r])this.setAttributeValueToNode(s,n[r],a);this.setParam(a)}else this.setAttributeValueToNode(i,t[e],o);else this.setAttributeValueToNode(e,t,o)},UrlButton.prototype.setDataProvider=function(t){this.m_url=t},UrlButton.prototype.getDataProvider=function(){return this.m_url},UrlButton.prototype.setTargetValue=function(t){if("object"==typeof t)for(var o in t){for(var e,i=!0,n=0;n<this.getParam().length;n++)if(o==this.m_param[n].m_name){i=!1,this.m_param[n].m_name=o,this.m_param[n].m_value=t[o];break}i&&((e=new UrlButtonParam).m_name=o,e.m_value=t[o],this.setParam(e))}},UrlButton.prototype.initCanvas=function(){$("#draggableDiv"+this.m_objectid).remove(),this.initializeDraggableDivAndCanvas()},UrlButton.prototype.initializeDraggableDivAndCanvas=function(t,o){this.setDashboardNameAndObjectId(),this.createDraggableDiv(this.m_chartContainer,this.m_zIndex)},UrlButton.prototype.setDashboardNameAndObjectId=function(){this.m_objectId=this.m_objectid,2==this.m_objectid.split(".").length&&(this.m_objectid=this.m_objectid.split(".")[1]),this.m_componentid="urlDiv"+this.m_objectid},UrlButton.prototype.draw=function(){this.drawObject()},UrlButton.prototype.drawObject=function(){this.init(),this.drawChart(),""!=this.m_onafterrendercallback&&onAfterRender(this.m_onafterrendercallback)},UrlButton.prototype.init=function(){this.setUrl(),this.m_chromecolor=convertColorToHex(this.m_chromecolor),this.m_color=convertColorToHex(this.m_color)},UrlButton.prototype.setUrl=function(){this.m_url&&""!==this.m_url&&(-1==(""+this.m_url).indexOf("://")&&0!=(""+this.m_url).indexOf("//")?this.m_url="//"+this.m_url:this.m_url=(""+this.m_url).substr((""+this.m_url).indexOf("://")+1))},UrlButton.prototype.drawChart=function(){IsBoolean(this.m_isActive)&&(this.drawUrlButton(),this.initMouseAndTouchEventSVC("#urlButton"+this.m_objectid))},UrlButton.prototype.removeUrlButtonDiv=function(){$("#urlDiv"+this.m_objectid).remove()},UrlButton.prototype.drawUrlButton=function(){null!=$("#urlDiv"+this.m_objectid)&&$("#urlDiv"+this.m_objectid).remove();var t=document.createElement("div"),o=(t.setAttribute("id","urlDiv"+this.m_objectid),$("#draggableDiv"+this.m_objectid).append(t),t.style.position="absolute",(this.m_height-1.5*this.fontScaling(+this.m_fontsize))/2),e=document.createElement("input");e.type="button",e.setAttribute("id","urlButton"+this.m_objectid),e.setAttribute("class","URLbutton"),e.value=this.formattedDescription(this,this.m_label),t.appendChild(e),$(e).css({width:this.m_width+"px",height:this.m_height+"px","border-radius":this.m_borderradius+"px",border:"0px","font-style":this.m_fontstyle,"font-weight":this.m_fontweight,"font-size":this.fontScaling(this.m_fontsize),"font-family":selectGlobalFont(this.m_fontfamily),"background-color":this.m_chromecolor,color:this.m_color,padding:o+"px 2px "+o+"px 2px"})},UrlButton.prototype.initMouseAndTouchEvent=function(o){var c,e,i;IsBoolean(this.m_designMode)||((c=this).checkToolTipDesc=this.updateToolTipInfo(this.m_tooltip),e=function(t){c.removeToolTipDiv()},i=function(t){if(c.getDataPointAndUpdateGlobalVariable(),c.m_url)try{c.loadURL(c.getURLToCall(c.m_url))}catch(t){}},"ontouchstart"in document.documentElement?$("#draggableDiv"+c.m_objectid).bind("touchstart",function(t){t.stopImmediatePropagation(),($("."+c.m_objecttype+"ToolTipDiv").length?e.bind($(o)):function(t){var o,e,i,n,r,s;t.stopImmediatePropagation(),c.m_designMode||""==c.m_tooltip||" "==c.m_tooltip||(0===$(".draggablesParentDiv").find("#toolTipDiv").length?(o=(e=document.getElementById("draggablesParentDiv"+c.m_dashboard.m_id)).scrollLeft,e=e.scrollTop,n=+(i=t.originalEvent.touches[0].pageY)+ +e+20,t=+(t=t.originalEvent.touches[0].pageX)+ +o-150<0?+t+ +o:+t+ +o-160,(r=document.createElement("div")).innerHTML=c.checkToolTipDesc,r.setAttribute("id","toolTipDiv"),r.setAttribute("class",c.m_objecttype+"ToolTipDiv"),$(".draggablesParentDiv").append(r),s=$.extend(c.getTooltipStyles(),{top:n+"px",left:t+"px"}),$(r).css(s),20+n+ +$(r).height()>c.m_dashboard.m_AbsoluteLayout.m_height+e&&(n=+i-20+ +e-+$(r).height(),$(r).css("top",n)),10+t+ +$(r).width()>c.m_dashboard.m_AbsoluteLayout.m_width+o&&(t=+i-10+ +o-+$(r).width(),$(r).css("left",t))):c.removeToolTipDiv())}.bind(this))(t),i.bind(this)(t)}).bind("touchend",function(t){}):$(o).click(function(t){e.bind(this)(t),i.bind(this)(t)}).hover(function(t){!function(t){$(this).css("cursor",c.m_cursortype)}.bind(this)(t)}).mousemove(function(t){!function(t){var o,e,i,n,r,s,a,l,h,m,u;c.m_designMode||""==c.m_tooltip||" "==c.m_tooltip||(t.stopPropagation(),c.removeToolTipDiv(),o=(r=document.getElementById("draggablesParentDiv"+c.m_dashboard.m_id)).scrollLeft,e=r.scrollTop,i=(n=$(r).offset()).top+$(r)[0].clientTop-$(r)[0].scrollTop,n=n.left+$(r)[0].clientLeft-$(r)[0].scrollLeft,r=$(this)[0].offsetLeft,u=$(this)[0].offsetTop,s=t.pageY-i-u+5,a=t.pageX-n-r+5,(l=document.createElement("div")).innerHTML=c.checkToolTipDesc,l.setAttribute("id","toolTipDiv"),l.setAttribute("class","settingIcon"),l.setAttribute("placement","bottom"),$(".draggablesParentDiv").append(l),h=+c.m_width,m=+c.m_height,m=$.extend(c.getTooltipStyles(),{top:t.pageY-t.offsetY+m-i-u-11+"px",left:t.pageX-t.offsetX-n-r+10+"px"}),$(l).css(m),u=t.pageX-t.offsetX+h/2-n-l.offsetWidth/2-8+"px",$(l).css("left",u),$(l).css("box-shadow","0 5px 15px -5px rgb(0 0 0 / 50%)"),10+s+ +$(l).height()>+c.m_dashboard.m_AbsoluteLayout.m_height+e&&(s=i-10+ +e-+$(l).height(),$(l).css("top",s)),10+a+ +$(l).width()>+c.m_dashboard.m_AbsoluteLayout.m_width+o&&(a-=+$(l).width(),$(l).css("left",a)))}.bind(this)(t)}).mouseout(function(t){e.bind(this)(t)}),$("#draggableDiv"+c.m_objectid).on("swipeleft",function(t){onSwipeLeft(c,t)}).on("swiperight",function(t){onSwipeRight(c,t)}).on("mousewheel",function(t){c.hideToolTip()}),$(".draggablesParentDiv").on("scroll",function(t){c.hideToolTip()}),$("#WatermarkDiv").on("scroll",function(t){c.hideToolTip()}))},UrlButton.prototype.getURLToCall=function(t){for(var o=this.m_param.length,e=0<o?"?":"",i=0;i<o;i++)e+=this.m_param[i].m_name+"="+this.getFormattedValue(this.m_param[i].m_value),i<o-1&&(e+="&amp;");return t+e},UrlButton.prototype.loadURL=function(t){window.open(t)},UrlButton.prototype.getFormattedValue=function(t){for(var o,e=t,i=e,n=/\{(.*?)\}/g,r=n.exec(e);r;r=n.exec(e))""!=this.m_dashboard&&null!=this.m_dashboard&&""!=(o=this.m_dashboard.getGlobalVariable())&&null!=o&&(o=o.getFieldValue(r[1]),i=i.replace(r[0],o));return i},UrlButton.prototype.setParam=function(t){this.m_param.push(t)},UrlButton.prototype.getParam=function(){return this.m_param},UrlButton.prototype.getDataPointAndUpdateGlobalVariable=function(){var t={};t[""==this.m_fieldname||null==this.m_fieldname?"Value":this.m_fieldname]=this.m_fieldvalue,this.updateDataPoints(t)},UrlButtonParam.prototype.getName=function(){return this.m_name},UrlButtonParam.prototype.setName=function(t){this.m_name=t},UrlButtonParam.prototype.getValue=function(){return this.m_value},UrlButtonParam.prototype.setValue=function(t){this.m_value=t};
//# sourceMappingURL=UrlButton.min.js.map