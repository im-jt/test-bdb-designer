/*! BDB Charting Library V10.0.0 (2025-08-14 11:37:12) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
function TextBox(t,e){this.base=Widget,this.base(),this.m_fontstyle="",this.m_fontsize="",this.m_text="",this.m_fontweight="",this.m_contentbackgroundcolor="#fff",this.m_height="",this.m_textdecoration="",this.m_contentbackgroundalpha="",this.isdynamic="",this.m_fontfamily="",this.m_virtualdatafield="",this.m_width="",this.m_datarownumber="",this.m_virtualdataid="",this.m_bordervisible="",this.m_bordercolor="#000000",this.m_borderthickness="1",this.m_color="",this.m_editable="",this.m_textBoxText="",this.m_pretag="",this.m_objectID=[],this.m_componentid="",this.m_globalkey="",this.m_fieldvalue="",this.m_borderradius=0,this.m_borderstyle="solid",this.m_textboxpadding="5",this.m_chartContainer=t,this.m_zIndex=e}TextBox.prototype=new Widget,TextBox.prototype.setProperty=function(t){this.ParseJsonAttributes(t.Object,this),this.initCanvas()},TextBox.prototype.ParseJsonAttributes=function(t,e){for(var i in this.chartJson=t)if("NividhTextBox"==i)for(var o in t[i])this.setAttributeValueToNode(o,t[i],e);else this.setAttributeValueToNode(i,t,e)},TextBox.prototype.setDataProvider=function(t){this.m_text=t},TextBox.prototype.initCanvas=function(){$("#draggableDiv"+this.m_objectid).remove(),this.initializeDraggableDivAndCanvas()},TextBox.prototype.initializeDraggableDivAndCanvas=function(t,e){this.setDashboardNameAndObjectId(),this.createDraggableDiv(this.m_chartContainer,this.m_zIndex)},TextBox.prototype.setDashboardNameAndObjectId=function(){this.m_objectId=this.m_objectid,2===this.m_objectid.split(".").length&&(this.m_objectid=this.m_objectid.split(".")[1]),this.m_componentid="textBoxDiv"+this.m_objectid},TextBox.prototype.draw=function(){this.drawObject()},TextBox.prototype.drawObject=function(){this.init(),this.drawChart(),""!=this.m_onafterrendercallback&&onAfterRender(this.m_onafterrendercallback)},TextBox.prototype.init=function(){IsBoolean(this.m_isdynamic)?""!==this.m_m_virtualdataid&&""!==this.m_virtualdatafield&&""!==this.m_datarownumber||(this.m_labelText=this.getValueFromGlobalVariable(this.m_text,"square")):this.m_labelText=this.m_text},TextBox.prototype.getTextValueFromGlobalVariable=function(){i=t=this.m_text;for(var t,e,i,o=/\[(.*?)\]/g,s=o.exec(t);s;s=o.exec(t))""!==this.m_dashboard&&""!==this.m_dashboard.getGlobalVariable()&&(e=this.m_dashboard.getGlobalVariable().getFieldValue(s[1]),i=i.replace(s[0],e));return i},TextBox.prototype.drawChart=function(){if(IsBoolean(this.m_isActive))try{this.drawTextBox()}catch(t){}},TextBox.prototype.getDataProvider=function(){return this.m_textBoxText},TextBox.prototype.drawTextBox=function(){var t=this,e=(this.m_textBoxText=this.m_labelText,null!==$("#"+t.m_componentid)&&$("#"+t.m_componentid).remove(),document.createElement("div")),i=(e.setAttribute("id",this.m_componentid),e.setAttribute("class","textBoxDiv"),e.style.width=this.m_width+"px",e.style.height=this.m_height+"px",e.style.position="absolute",e.style.backgroundColor=hex2rgb(convertColorToHex(this.m_contentbackgroundcolor),this.m_contentbackgroundalpha),IsBoolean(this.m_bordervisible)&&(e.style.border=this.m_borderthickness+"px "+this.m_borderstyle+convertColorToHex(this.m_bordercolor),e.style.borderRadius=this.m_borderradius+"px"),document.createElement("div")),o=(i.type="box",i.style.overflow="auto",i.style.position="absolute",i.setAttribute("background","transparent"),i.style.font=this.m_fontstyle+" "+this.m_fontweight+" "+this.fontScaling(this.m_fontsize)+"px "+selectGlobalFont(this.m_fontfamily),i.style.color=convertColorToHex(this.m_color),i.style.width=this.m_width+"px",i.style.height=this.m_height+"px",IsBoolean(this.m_bordervisible)&&(i.style.top=+this.m_borderradius/3+"px",i.style.left=+this.m_borderradius/3+"px",i.style.width=this.m_width-2*this.m_borderthickness-2*this.m_borderradius/3+"px",i.style.height=this.m_height-2*this.m_borderthickness-2*this.m_borderradius/3+"px"),i.style.padding=this.m_textboxpadding+"px",i.setAttribute("contentEditable",this.m_editable),""+this.m_textBoxText);if(null==o||null===o||""===o||IsBoolean(this.m_designMode)||-1!==o.search("<html>"))i.innerHTML=this.m_textBoxText;else{i.style.overflowX="hidden";for(var s,a="",r=0;r<o.length;r++)" "===o[r]&&" "===o[r+1]?a+="&nbsp;":a+=o[r];this.m_textBoxText=a,""!==this.m_textBoxText&&("underline"===this.m_textdecoration?(s=document.createElement("u"),i.innerHTML="<u>"+this.m_textBoxText+"</u>",e.appendChild(s)):i.innerHTML=this.m_textBoxText)}e.appendChild(i),IsBoolean(t.m_designMode)||(i.onclick=function(){t.getDataPointAndUpdateGlobalVariable()}),$(i).on("keyup",function(){t.m_textBoxText=$(this).html()}),$("#draggableDiv"+t.m_objectid).append(e)},TextBox.prototype.getDataPointAndUpdateGlobalVariable=function(){var t={};t[""===this.m_fieldname||void 0===this.m_fieldname?"Value":this.m_fieldname]=this.m_fieldvalue,this.updateDataPoints(t)};
//# sourceMappingURL=TextBox.min.js.map