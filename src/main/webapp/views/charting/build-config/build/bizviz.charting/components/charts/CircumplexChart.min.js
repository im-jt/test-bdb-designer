/*! BDB Charting Library V10.0.0 (2025-08-14 11:37:12) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
function CircumplexChart(t,e){this.base=Chart,this.base(),this.m_chartContainer=t,this.m_zIndex=e,this.m_seriesNames=[],this.m_categoryData=[],this.m_seriesData=[],this.m_calculation=new CircumplexChartCalculation,this.m_textUtil=new TextUtil,this.m_xAxis=new Xaxis,this.m_yAxis=new Yaxis,this.m_title=new Title(this),this.m_subTitle=new SubTitle,this.m_useseriescolors="true",this.m_canvastype="svg",this.m_webtype="polygon",this.m_charttype="overlaid",this.m_strokecolor="#FFFFFF",this.m_axiscolor="#999999",this.m_axisstrokecolor="#000000",this.m_strokewidth=1,this.m_showdoughnut=!1,this.m_linewidth=100,this.m_axislinewidth=.5,this.m_categorylinewidth=2,this.m_overlaidspacing=10,this.m_enableanimation="false",this.m_polylinewidth=.3,this.m_animationduration=10}function CircumplexChartCalculation(){this.m_max=0,this.m_armLength=0,this.m_centerX=0,this.m_centerY=0,this.m_numberOfMarkers=5,this.m_categoryData=[],this.m_seriesData=[],this.m_armXCordinates=[],this.m_armYCordinates=[],this.m_markerTextArray=[],this.m_armXCordinatesForLabel=[],this.m_armYCordinatesForLabel=[],this.m_seriesSXCordinates=[],this.m_seriesSXCordinates=[],this.m_seriesEXCordinates=[],this.m_seriesEYCordinates=[]}CircumplexChart.prototype=new Chart,CircumplexChart.prototype.setProperty=function(t){this.ParseJsonAttributes(t.Object,this),this.initCanvas()},CircumplexChart.prototype.updateSvgClassRef=function(){"canvas"==this.m_canvastype?(this.m_title=new Title(this),this.m_subTitle=new SubTitle):(this.m_title=new svgTitle(this),this.m_subTitle=new svgSubTitle)},CircumplexChart.prototype.ParseJsonAttributes=function(t,e){for(var i in this.chartJson=t,this.updateSvgClassRef(),t)if("Chart"==i)for(var s in t[i])switch(s){case"xAxis":for(var a in t[i][s]){var r=this.getNodeAttributeName(a);e.m_xAxis[r]=t[i][s][a]}break;case"yAxis":for(var o in t[i][s]){var r=this.getNodeAttributeName(o);e.m_yAxis[r]=t[i][s][o]}break;case"Title":for(var m in t[i][s]){var r=this.getNodeAttributeName(m);e.m_title[r]=t[i][s][m]}break;case"SubTitle":for(var n in t[i][s]){r=this.getNodeAttributeName(n);e.m_subTitle[r]=t[i][s][n]}break;default:e[r=this.getNodeAttributeName(s)]=t[i][s]}else e[r=this.getNodeAttributeName(i)]=t[i]},CircumplexChart.prototype.initCanvas=function(){$("#draggableDiv"+this.m_objectid).remove(),this.initializeDraggableDivAndCanvas()},CircumplexChart.prototype.initializeDraggableDivAndCanvas=function(){this.setDashboardNameAndObjectId(),this.m_draggableDiv=this.createDraggableDiv(this.m_chartContainer,this.m_zIndex),this.createDraggableCanvas(this.m_draggableDiv),this.setCanvasContext(),"canvas"===this.m_canvastype?(this.removeSVG(),this.initMouseMoveEvent(this.m_chartContainer),this.initMouseClickEvent()):(this.createSVG(),$("#draggableCanvas"+this.m_objectid).hide(),this.initMouseMoveEvent(this.m_chartContainer),this.initMouseClickEventForSVG(this.svgContainerId))},CircumplexChart.prototype.createSVG=function(){this.svgContainerId="svgContainer"+this.m_objectid,this.removeSVG();var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("xlink","http://www.w3.org/1999/xlink"),t.setAttribute("width",this.m_width),t.setAttribute("height",this.m_height),t.setAttribute("id",this.svgContainerId),t.setAttribute("class","svg_chart_container"),$("#draggableDiv"+this.m_objectid).append(t)},CircumplexChart.prototype.removeSVG=function(){$("#"+this.svgContainerId).remove()},CircumplexChart.prototype.getDataProvider=function(){return this.m_dataProvider},CircumplexChart.prototype.setFields=function(t){this.m_fieldsJson=t;for(var e=[],i=[],s=[],a=0;a<t.length;a++)switch(this.getProperAttributeNameValue(t[a],"Type")){case"Category":e.push(t[a]);break;case"SubCategory":i.push(t[a]);break;case"Series":case"CalculatedField":s.push(t[a])}this.setCategory(e),this.setSubCategory(i),this.setSeries(s)},CircumplexChart.prototype.setCategory=function(t){this.m_categoryNames=[],this.m_categoryFieldColor=[],this.m_categoryDisplayNames=[],this.m_allCategoryNames=[],this.m_allCategoryDisplayNames=[],this.m_categoryVisibleArr={};for(var e=0,i=0;i<t.length;i++){var s=this.getProperAttributeNameValue(t[i],"Name"),a=(this.m_allCategoryNames[i]=s,this.getProperAttributeNameValue(t[i],"DisplayName")),r=(this.m_allCategoryDisplayNames[i]=a,this.getProperAttributeNameValue(t[i],"visible"));this.m_categoryVisibleArr[this.m_allCategoryDisplayNames[i]]=r,IsBoolean(r)&&(this.m_categoryNames[e]=s,this.m_categoryDisplayNames[e]=a,this.m_categoryFieldColor[e]=this.getProperAttributeNameValue(t[i],"Color"),e++)}},CircumplexChart.prototype.setSubCategory=function(t){this.m_subCategoryNames=[],this.m_subCategoryFieldColor=[],this.m_subCategoryDisplayNames=[],this.m_allSubCategoryNames=[],this.m_allSubCategoryDisplayNames=[],this.m_subCategoryVisibleArr=[];for(var e=0,i=0;i<t.length;i++){var s=this.getProperAttributeNameValue(t[i],"Name"),a=(this.m_allSubCategoryNames[i]=s,this.getProperAttributeNameValue(t[i],"DisplayName")),r=(this.m_allSubCategoryDisplayNames[i]=a,this.getProperAttributeNameValue(t[i],"visible"));this.m_subCategoryVisibleArr[this.m_subCategoryDisplayNames[i]]=r,IsBoolean(r)&&(this.m_subCategoryNames[e]=s,this.m_subCategoryDisplayNames[e]=a,this.m_subCategoryFieldColor[e]=this.getProperAttributeNameValue(t[i],"Color"),e++)}},CircumplexChart.prototype.setSeries=function(t){this.m_seriesNames=[],this.m_seriesDisplayNames=[],this.m_seriesColors=[],this.m_legendNames=[],this.m_categoryUniqueNames=[],this.m_seriesVisibleArr={},this.m_allSeriesDisplayNames=[],this.m_allSeriesNames=[],this.m_plotTrasparencyArray=[],this.legendMap={};for(var e=0,i=0;i<t.length;i++){var s=this.getProperAttributeNameValue(t[i],"Name"),a=(this.m_allSeriesNames[i]=s,this.getProperAttributeNameValue(t[i],"DisplayName")),r=(this.m_allSeriesDisplayNames[i]=a,this.getProperAttributeNameValue(t[i],"visible"));this.m_seriesVisibleArr[this.m_allSeriesNames[i]]=r,IsBoolean(r)&&(this.m_seriesNames[e]=s,this.m_seriesDisplayNames[e]=a,this.m_legendNames[e]=a,this.m_seriesColors[e]=convertColorToHex(this.getProperAttributeNameValue(t[i],"Color")),r=this.getProperAttributeNameValue(t[i],"PlotTransparency"),this.m_plotTrasparencyArray[e]=null!=r&&null!==r&&""!==r?r:1,a={seriesName:this.m_seriesNames[e],displayName:this.m_seriesDisplayNames[e],color:this.m_seriesColors[e],shape:"point",index:e},this.legendMap[s]=a,e++)}this.setLegendsIntialLoad(this.m_defaultlegendfields)},CircumplexChart.prototype.getLegendInfo=function(){var t;return!IsBoolean(this.m_useseriescolors)||null==(t=this.getLegendComponentObj())||IsBoolean(t.m_legendcheckbox)?this.legendMap:this.legendMapForSeriesColors},CircumplexChart.prototype.getCategoryNames=function(){return this.m_categoryNames},CircumplexChart.prototype.getCategoryDisplayNames=function(){return this.m_categoryDisplayNames},CircumplexChart.prototype.getSubCategoryNames=function(){return this.m_subCategoryNames},CircumplexChart.prototype.getSubCategoryDisplayNames=function(){return this.m_subCategoryDisplayNames},CircumplexChart.prototype.getSeriesNames=function(){return this.m_seriesNames},CircumplexChart.prototype.getSeriesDisplayNames=function(){return this.m_seriesDisplayNames},CircumplexChart.prototype.getSeriesColors=function(){return IsBoolean(this.m_useseriescolors)?this.m_legendSeriesColorsArray&&0<this.m_legendSeriesColorsArray.length?this.m_legendSeriesColorsArray:this.m_seriescolor.split(","):this.m_seriesColors},CircumplexChart.prototype.setSeriesColor=function(t){this.m_seriesColor=t},CircumplexChart.prototype.setLegendNames=function(t){this.m_legendNames=t},CircumplexChart.prototype.getLegendNames=function(){return IsBoolean(this.m_useseriescolors)&&!IsBoolean(this.m_isEmptySeries)?this.m_categoryUniqueNames:this.m_legendNames},CircumplexChart.prototype.getAllSeriesNames=function(){return this.m_allSeriesNames},CircumplexChart.prototype.getAllCategoryNames=function(){return this.m_allCategoryNames},CircumplexChart.prototype.getAllSubCategoryNames=function(){return this.m_allSubCategoryNames},CircumplexChart.prototype.getAllSeriesDisplayNames=function(){return this.m_allSeriesDisplayNames},CircumplexChart.prototype.setAllFieldsName=function(){this.m_allfieldsName=[],this.m_allfieldsName=this.getAllCategoryNames().concat(this.getAllSubCategoryNames()).concat(this.getAllSeriesNames())},CircumplexChart.prototype.getAllFieldsName=function(){return this.m_allfieldsName},CircumplexChart.prototype.setAllFieldsDisplayName=function(){this.m_allfieldsDisplayName=[],this.m_allfieldsDisplayName=this.getCategoryDisplayNames().concat(this.getSubCategoryDisplayNames()).concat(this.getSeriesDisplayNames())},CircumplexChart.prototype.getAllFieldsDisplayName=function(){return this.m_allfieldsDisplayName},CircumplexChart.prototype.setCategoryData=function(){this.m_categoryData=[],this.isEmptyCategory=!0;for(var t=0;t<this.getCategoryNames().length;t++)this.isEmptyCategory=!1,this.m_categoryData[t]=this.getDataFromJSON(this.getCategoryNames()[t])},CircumplexChart.prototype.setSubCategoryData=function(){this.m_subCategoryData=[],this.isEmptySubCategory=!0;for(var t=0;t<this.getSubCategoryNames().length;t++)this.isEmptySubCategory=!1,this.m_subCategoryData[t]=this.getDataFromJSON(this.getSubCategoryNames()[t])},CircumplexChart.prototype.setSeriesData=function(){this.m_seriesData=[];for(var t=0;t<this.getSeriesNames().length;t++)this.m_seriesData[t]=this.getDataFromJSON(this.getSeriesNames()[t])},CircumplexChart.prototype.getCategoryData=function(){return this.m_categoryData},CircumplexChart.prototype.getSubCategoryData=function(){return this.m_subCategoryData},CircumplexChart.prototype.getSeriesData=function(){return this.m_seriesData},CircumplexChart.prototype.getStartX=function(){return this.m_x+0},CircumplexChart.prototype.getStartY=function(){var t=1.5*this.fontScaling(this.m_xAxis.m_labelfontsize);return this.m_y+this.m_height-t},CircumplexChart.prototype.getEndX=function(){return this.m_x+this.m_width},CircumplexChart.prototype.getEndY=function(){return this.m_y+ +this.getMarginForTitle()+ +this.getMarginForSubTitle()},CircumplexChart.prototype.transformSeriesData=function(t){var e=[];if(null!=t&&0!==t.length)for(var i=0;i<t[0].length;i++){e[i]=[];for(var s=0;s<t.length;s++)e[i][s]=t[s][i]}return e},CircumplexChart.prototype.getUniqueFromArray=function(t){return Array.prototype.unique=function(){for(var t={},e=this.length,i=[],s=0;s<e;s+=1)t[this[s]]=this[s];for(s in t)i.push(t[s]);return i},t.unique()},CircumplexChart.prototype.setColorsForSeries=function(){if(this.m_seriesColorsArray=[],this.m_legendSeriesColorsArray=[],IsBoolean(this.m_useseriescolors)){var t=this.transformSeriesData(this.m_categoryData),i=this.m_seriescolor.split(","),e=this.getUniqueFromArray(t);1<=(this.m_categoryUniqueNames=e).length?e&&i.length<e.length&&(i=Array.apply(null,{length:e.length}).map(function(t,e){return i[e%i.length]})):(t=this.transformSeriesData(this.m_subCategoryData),(e=this.getUniqueFromArray(t))&&i.length<e.length&&(i=Array.apply(null,{length:e.length}).map(function(t,e){return i[e%i.length]}))),this.legendMapForSeriesColors={};for(var s=0;s<this.m_seriesNames.length;s++){this.m_seriesColorsArray[s]=[];for(o=0;o<e.length;o++)for(a=0;a<t.length;a++)t[a][0]==e[o][0]&&(this.m_seriesColorsArray[s][a]=convertColorToHex(i[o]),null==this.legendMapForSeriesColors[e[o][0]])&&(this.legendMapForSeriesColors[e[o][0]]={seriesName:e[o][0],displayName:e[o][0],color:hex2rgb(i[o],this.m_plotTrasparencyArray[s]),shape:"point"},this.m_legendSeriesColorsArray.push(i[o]))}}else for(var a=0;a<this.m_seriesData.length;a++){this.m_seriesColorsArray[a]=[];for(var r=IsBoolean(this.m_enablecolorfromdrill)&&IsBoolean(this.m_startDrill)?this.m_drillColor:this.getSeriesColors()[a],o=0;o<this.m_seriesData[a].length;o++)this.m_seriesColorsArray[a][o]=r}},CircumplexChart.prototype.init=function(){"canvas"!==this.m_canvastype&&this.createSVG(),this.setCategoryData(),this.setSubCategoryData(),this.setSeriesData(),this.setAllFieldsName(),this.setAllFieldsDisplayName(),this.setShowSeries(this.getAllFieldsName()),this.isSeriesDataEmpty(),this.visibleSeriesInfo=this.getVisibleSeriesData(this.getSeriesData()),this.m_chartFrame.init(this),this.m_title.init(this),this.m_subTitle.init(this),IsBoolean(this.isEmptyCategory)||IsBoolean(this.isEmptySubCategory)||IsBoolean(this.m_isEmptySeries)||!IsBoolean(this.isVisibleSeries())||(this.setColorsForSeries(),this.initializeCalculation()),this.initializeToolTipProperty(),this.m_tooltip.init(this)},CircumplexChart.prototype.initializeCalculation=function(){this.m_categoryData=this.updateCategoryData(this.m_categoryData),this.m_subCategoryData=this.updateCategoryData(this.m_subCategoryData),this.m_seriesData=this.updateSeriesData(this.m_seriesData),this.m_calculation.init(this,this.m_categoryData,this.m_seriesData),this.m_yAxis.init(this,this.m_calculation)},CircumplexChart.prototype.updateCategoryData=function(t){var e=[];if(null!=t&&0!==t.length)for(var i=0;i<t[0].length;i++){e[i]=[];for(var s=0;s<t.length;s++)e[i][s]=t[s][i]}return e},CircumplexChart.prototype.updateSeriesData=function(t){this.m_displaySeriesDataFlag=[];for(var e=0;e<t.length;e++){this.m_displaySeriesDataFlag[e]=[];for(var i=0;i<t[e].length;i++)this.m_displaySeriesDataFlag[e][i]=!0,isNaN(t[e][i])&&(this.m_displaySeriesDataFlag[e][i]=!1,t[e][i]=getNumericComparableValue(t[e][i]))}return t},CircumplexChart.prototype.drawChart=function(){this.drawChartFrame(),this.drawTitle(),this.drawSubTitle(),this.drawLegends();var t=this.IsDrawingPossible();IsBoolean(t.permission)?(this.drawSpiderWebs(),"canvas"!==this.m_canvastype&&this.initMouseClickEventForSVG(this.svgContainerId)):this.drawMessage(t.message)},CircumplexChart.prototype.drawMessage=function(t){"canvas"===this.m_canvastype?Chart.prototype.drawMessage.call(this,t):(this.getBGGradientColorToContainer(),this.drawMessageOnSvg(t))},CircumplexChart.prototype.drawMessageOnSvg=function(t){var e=+this.m_x+this.m_width/2,i=+this.m_y+this.m_height/2,e=drawSVGText(e,i,t,this.m_statuscolor,"center","middle",0);e.setAttribute("style","font-family:"+this.m_statusfontfamily+";font-style:none;font-size:"+this.m_statusfontsize+"px;font-weight:normal;text-decoration:none;"),$("#"+this.svgContainerId).append(e)},CircumplexChart.prototype.drawChartFrame=function(){"canvas"===this.m_canvastype?this.m_chartFrame.drawFrame():(this.m_chartFrame.drawSVGFrame(),this.getBGGradientColorToContainer())},CircumplexChart.prototype.getBGGradientColorToContainer=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","defs");t.setAttribute("id","defsElement"+this.m_objectid),$("#"+this.svgContainerId).append(t)},CircumplexChart.prototype.drawTitle=function(){this.m_title.draw()},CircumplexChart.prototype.drawSubTitle=function(){this.m_subTitle.draw()},CircumplexChart.prototype.IsDrawingPossible=function(){return IsBoolean(this.isEmptyCategory)?{permission:"false",message:this.m_status.noCategory}:IsBoolean(this.isEmptySubCategory)?{permission:"false",message:this.m_status.noSubCategory}:IsBoolean(this.m_isEmptySeries)?{permission:"false",message:this.m_status.noData}:IsBoolean(this.isVisibleSeries())?{permission:"true",message:this.m_status.success}:{permission:"false",message:this.m_status.noSeries}},CircumplexChart.prototype.drawSpiderWebs=function(){this.drawCategoryMarking(),IsBoolean(this.m_showdoughnut)?(this.drawDSpiderArms(),"polygon"==this.m_webtype?(this.drawDPolygonWeb(),this.drawPolygonSeries()):"circle"==this.m_webtype&&(this.drawDCircularWeb(),this.drawCircleSeries()),this.drawDSeriesMarking(),this.drawDSpiderStrokeArms()):(this.drawSpiderArms(),"polygon"==this.m_webtype?this.drawPolygonWeb():"circle"==this.m_webtype&&this.drawCircularWeb(),this.drawSeries(),this.drawSeriesMarking(),this.drawSpiderStrokeArms())},CircumplexChart.prototype.drawDSpiderArms=function(){if("canvas"===this.m_canvastype){this.ctx.beginPath(),this.ctx.strokeStyle=convertColorToHex(this.m_axiscolor),this.ctx.lineWidth=this.m_axislinewidth;for(var t=0;t<this.m_calculation.m_armSXCordinates.length;t++)for(var e=0;e<this.m_seriesNames.length;e++){var i=this.m_calculation.m_armSXCordinates[t][e],s=this.m_calculation.m_armSYCordinates[t][e],i=(this.ctx.moveTo(i,s),this.m_calculation.m_armXCordinates[t][e]),s=this.m_calculation.m_armYCordinates[t][e];this.ctx.lineTo(i,s)}this.ctx.stroke(),this.ctx.closePath()}else for(var a=this,r=a.svgContainerId,o=convertColorToHex(a.m_axiscolor),t=0;t<a.m_calculation.m_armSXCordinates.length;t++)for(var m,n,e=0;e<a.m_seriesNames.length;e++)void 0!==a.m_calculation.m_armSXCordinates[t][e]&&void 0!==a.m_calculation.m_armSYCordinates[t][e]&&void 0!==a.m_calculation.m_armXCordinates[t][e]&&void 0!==a.m_calculation.m_armYCordinates[t][e]&&(m=["M",a.m_calculation.m_armSXCordinates[t][e],a.m_calculation.m_armSYCordinates[t][e],"L",a.m_calculation.m_armXCordinates[t][e],a.m_calculation.m_armYCordinates[t][e]].join(" "),(n=drawSVGPath()).setAttribute("d",m),n.setAttribute("style","stroke-width:"+a.m_axislinewidth+"px; stroke:"+o+";"),$("#"+r).append(n))},CircumplexChart.prototype.drawSpiderArms=function(){if("canvas"===this.m_canvastype){this.ctx.beginPath(),this.ctx.strokeStyle=convertColorToHex(this.m_axiscolor),this.ctx.lineWidth=this.m_axislinewidth;for(var t=this.m_calculation.getCenterX(),e=this.m_calculation.getCenterY(),i=0;i<this.m_calculation.m_armXCordinates.length;i++)if("clustered"===this.m_charttype)for(var s=0;s<this.m_calculation.m_armXCordinates[i].length;s++){this.ctx.moveTo(t,e);var a=this.m_calculation.m_armXCordinates[i][s],r=this.m_calculation.m_armYCordinates[i][s],o=0===s?1:.5;this.ctx.lineTo(a,r)}else{this.ctx.moveTo(t,e);a=this.m_calculation.m_armXCordinates[i][0],r=this.m_calculation.m_armYCordinates[i][0];this.ctx.lineTo(a,r)}this.ctx.stroke(),this.ctx.closePath()}else for(t=this.m_calculation.getCenterX(),e=this.m_calculation.getCenterY(),i=0;i<this.m_calculation.m_armXCordinates.length;i++)if("clustered"===this.m_charttype)for(s=0;s<this.m_calculation.m_armXCordinates[i].length;s++){a=this.m_calculation.m_armXCordinates[i][s],r=this.m_calculation.m_armYCordinates[i][s],o=0===s?1:.5;$("#"+this.svgContainerId).append(drawSVGLine(t,e,a,r,o,convertColorToHex(this.m_axiscolor)))}else{a=this.m_calculation.m_armXCordinates[i][0],r=this.m_calculation.m_armYCordinates[i][0];$("#"+this.svgContainerId).append(drawSVGLine(t,e,a,r,"0.5",convertColorToHex(this.m_axiscolor)))}},CircumplexChart.prototype.drawSpiderStrokeArms=function(){for(var t=this.getUniqueFromArray(this.m_categoryData),e=this.m_calculation.getCenterX(),i=this.m_calculation.getCenterY(),s=0;s<t.length;s++)for(var a=0;a<this.m_calculation.m_armXCordinates.length;a++)if(this.m_categoryData[a][0]==t[s][0]){var r=this.m_calculation.m_armXCordinates[a][0],o=this.m_calculation.m_armYCordinates[a][0];"canvas"===this.m_canvastype?(this.ctx.beginPath(),this.ctx.strokeStyle=convertColorToHex(this.m_axisstrokecolor),this.ctx.lineWidth=this.m_categorylinewidth,this.ctx.moveTo(e,i),this.ctx.lineTo(r,o),this.ctx.stroke(),this.ctx.closePath()):(r=["M",e,i,"L",r,o].join(" "),(o=drawSVGPath()).setAttribute("d",r),o.setAttribute("style","stroke-width:"+this.m_categorylinewidth+"px; stroke:"+convertColorToHex(this.m_axisstrokecolor)+";"),$("#"+this.svgContainerId).append(o));break}},CircumplexChart.prototype.drawDSpiderStrokeArms=function(){for(var t=this.getUniqueFromArray(this.m_categoryData),e=0;e<t.length;e++)for(var i=0;i<this.m_calculation.m_armXCordinates.length;i++)if(this.m_categoryData[i][0]==t[e][0]){var s=this.m_calculation.m_armSXCordinates[i][0],a=this.m_calculation.m_armSYCordinates[i][0],r=this.m_calculation.m_armXCordinates[i][0],o=this.m_calculation.m_armYCordinates[i][0];"canvas"===this.m_canvastype?(this.ctx.beginPath(),this.ctx.strokeStyle=convertColorToHex(this.m_axisstrokecolor),this.ctx.lineWidth=this.m_categorylinewidth,this.ctx.moveTo(s,a),this.ctx.lineTo(r,o),this.ctx.stroke(),this.ctx.closePath()):(s=["M",s,a,"L",r,o].join(" "),(a=drawSVGPath()).setAttribute("d",s),a.setAttribute("style","stroke-width:"+this.m_categorylinewidth+"px; stroke:"+convertColorToHex(this.m_axisstrokecolor)+";"),$("#"+this.svgContainerId).append(a));break}},CircumplexChart.prototype.drawPolygonWeb=function(){if("canvas"===this.m_canvastype)for(var t=this.m_calculation.m_markerTextArray.length-1;0<=t;t--)if("clustered"===this.m_charttype)for(var e=0;e<this.m_calculation.m_numberOfArms;e++)for(var i=this.m_calculation.m_armMarkerXCordinates[e][t],s=this.m_calculation.m_armMarkerYCordinates[e][t],a=this.m_calculation.getArmLength()/(+this.m_calculation.m_markerTextArray.length-1)*t,r=0;r<this.m_seriesNames.length;r++){var o=IsBoolean(this.m_clockwisedirection)?Math.PI/2*1-this.m_calculation.m_angleBetweenArms*(e+1)+this.m_calculation.m_angleBetweenArms*(this.m_seriesNames.length-1-r)/this.m_seriesNames.length:Math.PI/2*1+this.m_calculation.m_angleBetweenArms*(e+1)-this.m_calculation.m_angleBetweenArms*(this.m_seriesNames.length-r-1)/this.m_seriesNames.length;m=+this.m_calculation.getCenterX()+a*Math.cos(o),n=+this.m_calculation.getCenterY()-a*Math.sin(o),this.ctx.beginPath(),this.ctx.lineWidth=.3,this.ctx.strokeStyle=convertColorToHex(this.m_axiscolor),this.ctx.lineTo(m,n),this.ctx.lineTo(i,s),this.ctx.stroke(),this.ctx.closePath(),i=m,s=n}else{this.ctx.beginPath(),this.ctx.lineWidth=.3,this.ctx.strokeStyle=convertColorToHex(this.m_axiscolor);i=this.m_calculation.m_armMarkerXCordinates[0][t],s=this.m_calculation.m_armMarkerYCordinates[0][t];this.ctx.moveTo(i,s);for(e=1;e<this.m_calculation.m_numberOfArms;e++){var m=this.m_calculation.m_armMarkerXCordinates[e][t],n=this.m_calculation.m_armMarkerYCordinates[e][t];this.ctx.lineTo(m,n)}this.ctx.lineTo(i,s),this.ctx.stroke(),this.ctx.closePath()}else for(t=this.m_calculation.m_markerTextArray.length-1;0<=t;t--)for(e=0;e<this.m_calculation.m_numberOfArms;e++)if("clustered"===this.m_charttype)for(i=this.m_calculation.m_armMarkerXCordinates[e][t],s=this.m_calculation.m_armMarkerYCordinates[e][t],a=this.m_calculation.getArmLength()/(+this.m_calculation.m_markerTextArray.length-1)*t,r=0;r<this.m_seriesNames.length;r++){o=IsBoolean(this.m_clockwisedirection)?Math.PI/2*1-this.m_calculation.m_angleBetweenArms*(e+1)+this.m_calculation.m_angleBetweenArms*(this.m_seriesNames.length-1-r)/this.m_seriesNames.length:Math.PI/2*1+this.m_calculation.m_angleBetweenArms*(e+1)-this.m_calculation.m_angleBetweenArms*(this.m_seriesNames.length-r-1)/this.m_seriesNames.length;m=+this.m_calculation.getCenterX()+a*Math.cos(o),n=+this.m_calculation.getCenterY()-a*Math.sin(o),$("#"+this.svgContainerId).append(drawSVGLine(i,s,m,n,"1",convertColorToHex(this.m_axiscolor))),i=m,s=n}else{var i=this.m_calculation.m_armMarkerXCordinates[e][t],s=this.m_calculation.m_armMarkerYCordinates[e][t],h=e==this.m_calculation.m_numberOfArms-1?0:e+1,m=this.m_calculation.m_armMarkerXCordinates[h][t],n=this.m_calculation.m_armMarkerYCordinates[h][t];$("#"+this.svgContainerId).append(drawSVGLine(i,s,m,n,"1",convertColorToHex(this.m_axiscolor)))}},CircumplexChart.prototype.drawDPolygonWeb=function(){for(var t=this.svgContainerId,e=this.m_calculation.m_markerTextArray.length-1;0<=e;e--)if("clustered"===this.m_charttype)for(var i=0;i<this.m_calculation.m_numberOfArms;i++)for(var s=this.m_calculation.m_armMarkerXCordinates1[i][e],a=this.m_calculation.m_armMarkerYCordinates1[i][e],r=this.m_calculation.m_doughnutWidth/(+this.m_calculation.m_markerTextArray.length-1)*e,o=0;o<this.m_seriesNames.length;o++){var m=IsBoolean(this.m_clockwisedirection)?Math.PI/2*1-this.m_calculation.m_angleBetweenArms*(i+1)+this.m_calculation.m_angleBetweenArms*(this.m_seriesNames.length-1-o)/this.m_seriesNames.length:Math.PI/2*1+this.m_calculation.m_angleBetweenArms*(i+1)-this.m_calculation.m_angleBetweenArms*(this.m_seriesNames.length-o-1)/this.m_seriesNames.length;n=+this.m_calculation.getCenterX()+(r+(this.m_calculation.getArmLength()-this.m_calculation.m_doughnutWidth))*Math.cos(m),h=+this.m_calculation.getCenterY()-(r+(this.m_calculation.getArmLength()-this.m_calculation.m_doughnutWidth))*Math.sin(m),"canvas"===this.m_canvastype?(this.ctx.beginPath(),this.ctx.lineWidth=this.m_polylinewidth,this.ctx.strokeStyle=convertColorToHex(this.m_axiscolor),this.ctx.lineTo(n,h),this.ctx.lineTo(s,a),this.ctx.stroke(),this.ctx.closePath()):(l=["M",s,a,"L",n,h].join(" "),(c=drawSVGPath()).setAttribute("d",l),c.setAttribute("style","stroke-width:"+this.m_polylinewidth+"px; stroke:"+convertColorToHex(this.m_axiscolor)+";"),$("#"+t).append(c)),s=n,a=h}else{s=this.m_calculation.m_armMarkerXCordinates1[0][e],a=this.m_calculation.m_armMarkerYCordinates1[0][e];if("canvas"===this.m_canvastype){this.ctx.beginPath(),this.ctx.lineWidth=this.m_polylinewidth,this.ctx.strokeStyle=convertColorToHex(this.m_axiscolor),this.ctx.moveTo(s,a);for(i=1;i<this.m_calculation.m_numberOfArms;i++){var n=this.m_calculation.m_armMarkerXCordinates1[i][e],h=this.m_calculation.m_armMarkerYCordinates1[i][e];this.ctx.lineTo(n,h)}this.ctx.lineTo(s,a),this.ctx.stroke(),this.ctx.closePath()}else{for(i=1;i<this.m_calculation.m_numberOfArms;i++){var l=["M",s,a,"L",n=this.m_calculation.m_armMarkerXCordinates1[i][e],h=this.m_calculation.m_armMarkerYCordinates1[i][e]].join(" ");(c=drawSVGPath()).setAttribute("d",l),c.setAttribute("style","stroke-width:"+this.m_polylinewidth+"px; stroke:"+convertColorToHex(this.m_axiscolor)+";"),$("#"+t).append(c),s=n,a=h}var c,l=["M",s,a,"L",this.m_calculation.m_armMarkerXCordinates1[0][e],this.m_calculation.m_armMarkerYCordinates1[0][e]].join(" ");(c=drawSVGPath()).setAttribute("d",l),c.setAttribute("style","stroke-width:"+this.m_polylinewidth+"px; stroke:"+convertColorToHex(this.m_axiscolor)+";"),$("#"+t).append(c)}}},CircumplexChart.prototype.drawCircularWeb=function(){var t=this.m_calculation.getCenterX(),e=this.m_calculation.getCenterY(),i=this.m_calculation.getArmLength()/(+this.m_calculation.m_markerTextArray.length-1);if("canvas"===this.m_canvastype)for(var s=this.m_calculation.m_markerTextArray.length-1;0<=s;s--)this.ctx.beginPath(),this.ctx.strokeStyle=convertColorToHex(this.m_axiscolor),this.ctx.lineWidth=.4,this.ctx.arc(t,e,i*s,0,2*Math.PI,!1),this.ctx.stroke(),this.ctx.closePath();else for(s=this.m_calculation.m_markerTextArray.length-1;0<=s;s--)$("#"+this.svgContainerId).append(drawSVGCircle(t,e,i*s,"0.4","none",convertColorToHex(this.m_axiscolor)))},CircumplexChart.prototype.drawDCircularWeb=function(){var t=this.m_calculation.getCenterX(),e=this.m_calculation.getCenterY(),i=this.m_calculation.getArmLength()-this.m_calculation.m_doughnutWidth,s=this.m_calculation.m_doughnutWidth/(+this.m_calculation.m_markerTextArray.length-1);if("canvas"===this.m_canvastype)for(var a=0;a<this.m_calculation.m_markerTextArray.length;a++)this.ctx.beginPath(),this.ctx.strokeStyle=convertColorToHex(this.m_axiscolor),this.ctx.lineWidth=.4,this.ctx.arc(t,e,i+s*a,0,2*Math.PI,!1),this.ctx.stroke(),this.ctx.closePath();else for(a=this.m_calculation.m_markerTextArray.length-1;0<=a;a--)$("#"+this.svgContainerId).append(drawSVGCircle(t,e,i+s*a,"0.4","none",convertColorToHex(this.m_axiscolor)))},CircumplexChart.prototype.drawCategoryMarking=function(){if("canvas"===this.m_canvastype)for(var t=this.m_textUtil.getFontProperties(this.m_xAxis.m_labelfontstyle,this.m_xAxis.m_labelfontweight,this.fontScaling(+this.m_xAxis.m_labelfontsize),selectGlobalFont(this.m_xAxis.m_labelfontfamily)),e=0;e<this.m_calculation.m_numberOfArms;e++){var i=""+this.m_subCategoryData[e],s=this.m_calculation.m_armXCordinatesForLabel[e],a=this.m_calculation.m_armYCordinatesForLabel[e];if(s==this.m_calculation.getCenterX()||s>=+this.m_calculation.getCenterX()-1&&s<=+this.m_calculation.getCenterX()+1){var r=this.m_width-15-15;if(r<this.ctx.measureText(i).width)for(var o=0;o<i.length;o++)if(l=i.substring(0,i.length-o),r>this.ctx.measureText(l).width){i=l.substring(0,l.length-2)+"...";break}s-=this.ctx.measureText(i).width/2}else if(s<this.m_calculation.getCenterX()){var m=s-+this.m_x-15;if(m<this.ctx.measureText(i).width)for(o=0;o<i.length;o++)if(l=i.substring(0,i.length-o),m>this.ctx.measureText(l).width){i=l.substring(0,l.length-2)+"...";break}s-=this.ctx.measureText(i).width}this.ctx.fillStyle=convertColorToHex(this.m_xAxis.m_labelfontcolor),this.m_textUtil.drawText(this.ctx,i,s,a,t,"left")}else for(e=0;e<this.m_calculation.m_numberOfArms;e++){var n,i=""+this.m_subCategoryData[e],s=this.m_calculation.m_armXCordinatesForLabel[e],a=this.m_calculation.m_armYCordinatesForLabel[e],i=""+this.m_subCategoryData[e],h=(s=this.m_calculation.m_armXCordinatesForLabel[e])==this.m_calculation.getCenterX()||s>=+this.m_calculation.getCenterX()-1&&s<=+this.m_calculation.getCenterX()+1?(n="middle",this.m_width-15-15):s<this.m_calculation.getCenterX()?(n="end",s-+this.m_x):(n="start",+this.getEndX()-s),l=i,c=7*this.fontScaling(this.m_xAxis.m_labelfontsize)/10;if(h<i.length*c)for(o=0;o<i.length;o++)if(h>(l=i.substring(0,i.length-o)).length*c){i=l.substring(0,l.length)+"...";break}var a=this.m_calculation.m_armYCordinatesForLabel[e],_=drawSVGText(s,a,i,convertColorToHex(this.m_xAxis.m_labelfontcolor),n,"middle",0);_.setAttribute("style","font-family:"+selectGlobalFont(this.m_xAxis.m_labelfontfamily)+"; font-style:"+this.m_xAxis.m_labelfontstyle+"; font-size:"+this.fontScaling(+this.m_xAxis.m_labelfontsize)+"px; font-weight:"+this.m_xAxis.m_labelfontweight+"; text-decoration:none; text-shadow:none;"),$("#"+this.svgContainerId).append(_)}},CircumplexChart.prototype.drawSeriesMarking=function(){for(var t=parseInt(this.m_calculation.getArmLength()/(+this.m_calculation.m_markerTextArray.length-1)),e=this.m_calculation.m_markerTextArray,i=this.m_calculation.m_markerTextArray.length,s=[],a=0;a<i;a++){var r=e[a];r=this.getFormatterText(r,this.m_yAxis.m_precision),s.push(r)}if(!isUniqueArray(s))for(var o=getDuplicatesFromArray(s),a=0;a<i;a++){var r=e[a],m=this.getFormatterText(r,this.m_yAxis.m_precision);r="default"==this.m_yAxis.m_precision&&"auto"==this.m_yAxis.m_secondaryUnitSymbol&&0<Object.keys(o).length?this.getFormatterText(r,1):m,s[a]=r}if("canvas"===this.m_canvastype)for(var n=this.m_textUtil.getFontProperties(this.m_xAxis.m_labelfontstyle,this.m_xAxis.m_labelfontweight,this.fontScaling(+this.m_yAxis.m_labelfontsize),selectGlobalFont(this.m_xAxis.m_labelfontfamily)),a=0;a<this.m_calculation.m_markerTextArray.length;a++){var h=+this.m_calculation.getCenterY()-t*a*Math.sin(Math.PI/2)+6,l=this.m_calculation.getCenterX()-4;this.ctx.fillStyle=convertColorToHex(this.m_xAxis.m_labelfontcolor),this.m_textUtil.drawText(this.ctx,s[a],l,h,n,"right")}else for(a=0;a<this.m_calculation.m_markerTextArray.length;a++){h=+this.m_calculation.getCenterY()-t*a*Math.sin(Math.PI/2)+6,r=s[a],l=this.m_calculation.getCenterX()-4;(r=drawSVGText(l,h,r,convertColorToHex(this.m_xAxis.m_labelfontcolor),"right","middle",0)).setAttribute("style","font-family:"+selectGlobalFont(this.m_xAxis.m_labelfontfamily)+"; font-style:"+this.m_xAxis.m_labelfontstyle+"; font-size:"+this.fontScaling(+this.m_yAxis.m_labelfontsize)+"px; font-weight:"+this.m_xAxis.m_labelfontweight+"; text-decoration:none; text-shadow:none;"),$("#"+this.svgContainerId).append(r)}},CircumplexChart.prototype.drawDSeriesMarking=function(){for(var t=parseInt(this.m_calculation.m_doughnutWidth/(+this.m_calculation.m_markerTextArray.length-1)),e=this.m_calculation.m_markerTextArray,i=this.m_calculation.m_markerTextArray.length,s=[],a=0;a<i;a++){var r=e[a];r=this.getFormatterText(r,this.m_yAxis.m_precision),s.push(r)}if(!isUniqueArray(s))for(var o=getDuplicatesFromArray(s),a=0;a<i;a++){var r=e[a],m=this.getFormatterText(r,this.m_yAxis.m_precision);r="default"==this.m_yAxis.m_precision&&"auto"==this.m_yAxis.m_secondaryUnitSymbol&&0<Object.keys(o).length?this.getFormatterText(r,1):m,s[a]=r}if("canvas"===this.m_canvastype)for(var n=this.m_textUtil.getFontProperties(this.m_xAxis.m_labelfontstyle,this.m_xAxis.m_labelfontweight,this.fontScaling(+this.m_yAxis.m_labelfontsize),selectGlobalFont(this.m_xAxis.m_labelfontfamily)),a=0;a<this.m_calculation.m_markerTextArray.length;a++){var h=+(y1=this.m_calculation.m_armSYCordinates[0][0])-t*a*Math.sin(Math.PI/2)+6,l=(x1=this.m_calculation.m_armSXCordinates[0][0])-4;this.ctx.fillStyle=convertColorToHex(this.m_xAxis.m_labelfontcolor),this.m_textUtil.drawText(this.ctx,getFormattedNumberWithCommas(s[a],this.m_numberformatter),l,h,n,"right")}else for(a=0;a<this.m_calculation.m_markerTextArray.length;a++){y1=+this.m_calculation.m_armSYCordinates[0][0]-t*a*Math.sin(Math.PI/2)+6;r=s[a];x1=this.m_calculation.m_armSXCordinates[0][0]-4,(r=drawSVGText(x1,y1,r,convertColorToHex(this.m_xAxis.m_labelfontcolor),"right","middle",0)).setAttribute("style","font-family:"+selectGlobalFont(this.m_xAxis.m_labelfontfamily)+"; font-style:"+this.m_xAxis.m_labelfontstyle+"; font-size:"+this.fontScaling(+this.m_yAxis.m_labelfontsize)+"px; font-weight:"+this.m_xAxis.m_labelfontweight+"; text-decoration:none; text-shadow:none;"),$("#"+this.svgContainerId).append(r)}},CircumplexChart.prototype.drawSeries=function(){var t=this.m_calculation.getCenterX(),e=this.m_calculation.getCenterY(),i=this.m_calculation.getArmLength()/this.m_calculation.getMaxValue();if("canvas"===this.m_canvastype){for(var s=0,a=0;a<this.m_seriesNames.length;a++)if(IsBoolean(this.m_seriesVisibleArr[this.m_seriesNames[a]])){this.ctx.lineWidth=this.m_strokewidth,this.ctx.strokeStyle=this.m_strokecolor;for(var r,o,m=0;m<this.m_calculation.m_seriesSXCordinates[s].length;m++)this.ctx.beginPath(),this.ctx.fillStyle=hex2rgb(this.m_seriesColorsArray[a][m],this.m_plotTrasparencyArray[a]),this.ctx.moveTo(t,e),"polygon"==this.m_webtype?(c=this.m_calculation.m_seriesSXCordinates[s][m],_=this.m_calculation.m_seriesSYCordinates[s][m],this.ctx.lineTo(c,_),u=this.m_calculation.m_seriesEXCordinates[s][m],g=this.m_calculation.m_seriesEYCordinates[s][m],this.ctx.lineTo(u,g)):(l=i*this.m_calculation.getAxisSetupDataValue(this.m_seriesData[a][m]),"clustered"==this.m_charttype?IsBoolean(this.m_clockwisedirection)?(r=this.m_calculation.m_angleBetweenArms*m-Math.PI/2*1+this.m_calculation.m_angleBetweenArms/this.m_calculation.m_seriesData.length*s,o=this.m_calculation.m_angleBetweenArms*(m+1)-Math.PI/2*1-this.m_calculation.m_angleBetweenArms*(this.m_calculation.m_seriesData.length-1-s)/this.m_calculation.m_seriesData.length,!isNaN(l)&&0<=l&&this.ctx.arc(t,e,l,r,o,!1)):(r=0-this.m_calculation.m_angleBetweenArms*m-Math.PI/2*1-this.m_calculation.m_angleBetweenArms/this.m_calculation.m_seriesData.length*s,o=0-this.m_calculation.m_angleBetweenArms*(m+1)-Math.PI/2*1+this.m_calculation.m_angleBetweenArms*(this.m_calculation.m_seriesData.length-1-s)/this.m_calculation.m_seriesData.length,!isNaN(l)&&0<=l&&this.ctx.arc(t,e,l,r,o,!0)):IsBoolean(this.m_clockwisedirection)?(r=this.m_calculation.m_angleBetweenArms*m-Math.PI/2*1+this.m_calculation.m_angleBetweenArms/this.m_overlaidspacing*(s+0),o=this.m_calculation.m_angleBetweenArms*(m+1)-Math.PI/2*1-this.m_calculation.m_angleBetweenArms/this.m_overlaidspacing*(s+0),!isNaN(l)&&0<=l&&this.ctx.arc(t,e,l,r,o,!1)):(r=0-this.m_calculation.m_angleBetweenArms*m-Math.PI/2*1-this.m_calculation.m_angleBetweenArms/this.m_overlaidspacing*(s+0),o=0-this.m_calculation.m_angleBetweenArms*(m+1)-Math.PI/2*1+this.m_calculation.m_angleBetweenArms/this.m_overlaidspacing*(s+0),!isNaN(l)&&0<=l&&this.ctx.arc(t,e,l,r,o,!0))),this.ctx.lineTo(t,e),this.ctx.stroke(),this.ctx.fill(),this.ctx.closePath();s++}}else for(var n=this,s=0,a=0;a<this.m_seriesNames.length;a++)if(IsBoolean(this.m_seriesVisibleArr[this.m_seriesNames[a]])){for(m=0;m<this.m_calculation.m_seriesSXCordinates[s].length;m++){var h,l=i*this.m_calculation.getAxisSetupDataValue(this.m_seriesData[a][m]),c=this.m_calculation.m_seriesSXCordinates[s][m],_=this.m_calculation.m_seriesSYCordinates[s][m],u=this.m_calculation.m_seriesEXCordinates[s][m],g=this.m_calculation.m_seriesEYCordinates[s][m],d="M"+t+","+e+" ",C=(d+="L"+c+","+_+" ",C=1==this.m_calculation.m_seriesSXCordinates[s].length?(h=Math.abs(u-c)<1?1:u-c,"clustered"==this.m_charttype||Math.abs(u-c)<1?"1,0 ":"1,1 "):(h=u-c,IsBoolean(this.m_clockwisedirection)?"0,1 ":"0,0 "),d="polygon"==this.m_webtype?d+(u+",")+g+" "+t+","+e+" ":(d=d+"a"+l+","+l+" 0 ")+C+h+","+(g-_)+" ",d+="z",hex2rgb(this.m_seriesColorsArray[a][m],this.m_plotTrasparencyArray[a])),p=[C,"transparent"],x=!!document.documentMode,x=(IsBoolean(n.m_enableanimation)&&0<n.m_animationduration&&!x&&(C=n.circumplexEnableAnimatio(n.m_objectid,m,s,l,n.m_animationduration,p)),drawSVGPath());try{x.setAttribute("d",d)}catch(t){}x.setAttribute("style","stroke-width:"+this.m_strokewidth+"px; stroke:"+hex2rgb(convertColorToHex(this.m_strokecolor),.2)+"; fill:"+C+";"),$("#"+n.svgContainerId).append(x)}s++}},CircumplexChart.prototype.drawCircleSeries=function(){var t=this.m_calculation.getCenterX(),e=this.m_calculation.getCenterY(),i=this.m_calculation.m_doughnutWidth/this.m_calculation.getMaxValue();if("canvas"===this.m_canvastype){for(var s=0,a=0;a<this.m_seriesNames.length;a++)if(IsBoolean(this.m_seriesVisibleArr[this.m_seriesNames[a]])){for(var r=0;r<this.m_calculation.m_seriesSXCordinates[s].length;r++){this.ctx.beginPath(),this.ctx.fillStyle=hex2rgb(this.m_seriesColorsArray[a][r],this.m_plotTrasparencyArray[a]),this.ctx.strokeStyle=this.ctx.fillStyle;var o,m,n=i*this.m_calculation.getAxisSetupDataValue(this.m_seriesData[a][r]);"clustered"==this.m_charttype?IsBoolean(this.m_clockwisedirection)?(o=this.m_calculation.m_angleBetweenArms*r-Math.PI/2*1+this.m_calculation.m_angleBetweenArms/this.m_calculation.m_seriesData.length*s,m=this.m_calculation.m_angleBetweenArms*(r+1)-Math.PI/2*1-this.m_calculation.m_angleBetweenArms*(this.m_calculation.m_seriesData.length-1-s)/this.m_calculation.m_seriesData.length,this.ctx.lineWidth=n,!isNaN(n)&&0<n&&this.ctx.arc(t,e,this.m_calculation.getArmLength()-this.m_calculation.m_doughnutWidth+n/2,o,m,!1)):(this.ctx.lineWidth=n,o=0-this.m_calculation.m_angleBetweenArms*r-Math.PI/2*1-this.m_calculation.m_angleBetweenArms/this.m_calculation.m_seriesData.length*s,m=0-this.m_calculation.m_angleBetweenArms*(r+1)-Math.PI/2*1+this.m_calculation.m_angleBetweenArms*(this.m_calculation.m_seriesData.length-1-s)/this.m_calculation.m_seriesData.length,!isNaN(n)&&0<n&&this.ctx.arc(t,e,this.m_calculation.getArmLength()-this.m_calculation.m_doughnutWidth+n/2,o,m,!0)):IsBoolean(this.m_clockwisedirection)?(o=this.m_calculation.m_angleBetweenArms*r-Math.PI/2*1+this.m_calculation.m_angleBetweenArms/this.m_overlaidspacing*(s+0),m=this.m_calculation.m_angleBetweenArms*(r+1)-Math.PI/2*1-this.m_calculation.m_angleBetweenArms/this.m_overlaidspacing*(s+0),this.ctx.lineWidth=n,!isNaN(n)&&0<n&&this.ctx.arc(t,e,this.m_calculation.getArmLength()-this.m_calculation.m_doughnutWidth+n/2,o,m,!1)):(this.ctx.lineWidth=n,o=0-this.m_calculation.m_angleBetweenArms*r-Math.PI/2*1-this.m_calculation.m_angleBetweenArms/this.m_overlaidspacing*(s+0),m=0-this.m_calculation.m_angleBetweenArms*(r+1)-Math.PI/2*1+this.m_calculation.m_angleBetweenArms/this.m_overlaidspacing*(s+0),!isNaN(n)&&0<n&&this.ctx.arc(t,e,this.m_calculation.getArmLength()-this.m_calculation.m_doughnutWidth+n/2,o,m,!0)),this.ctx.stroke(),this.ctx.closePath()}s++}}else for(var h=this,l=this.m_calculation.getArmLength()-this.m_calculation.m_doughnutWidth,s=0,a=0;a<this.m_seriesNames.length;a++)if(IsBoolean(this.m_seriesVisibleArr[this.m_seriesNames[a]])){for(r=0;r<this.m_calculation.m_seriesSXCordinates[s].length;r++){var c,_,u,g,d,C,p,x,y,f,n=i*this.m_calculation.getAxisSetupDataValue(this.m_seriesData[a][r]),A=(S="clustered"==this.m_charttype?(d=this.m_calculation.m_seriesSDXCordinates[s][r],C=this.m_calculation.m_seriesSDYCordinates[s][r],p=this.m_calculation.m_seriesEDXCordinates[s][r],x=this.m_calculation.m_seriesEDYCordinates[s][r],u=this.m_calculation.m_armSXCordinates[r][s],g=this.m_calculation.m_armSYCordinates[r][s],1==this.m_seriesNames.length?(_=r==this.m_calculation.m_seriesSXCordinates[s].length-1?0:r+1,y=this.m_calculation.m_armSXCordinates[_][s],this.m_calculation.m_armSYCordinates[_][s]):(c=s==this.m_calculation.m_seriesSXCordinates.length-1?0:s+1,_=s==this.m_calculation.m_seriesSXCordinates.length-1?r==this.m_calculation.m_seriesSXCordinates[s].length-1?0:r+1:r,y=this.m_calculation.m_armSXCordinates[_][c],this.m_calculation.m_armSYCordinates[_][c])):1==this.m_seriesNames.length?(u=this.m_calculation.m_armSXCordinates[r][s],g=this.m_calculation.m_armSYCordinates[r][s],d=this.m_calculation.m_seriesSDXCordinates[s][r],C=this.m_calculation.m_seriesSDYCordinates[s][r],p=this.m_calculation.m_seriesEDXCordinates[s][r],x=this.m_calculation.m_seriesEDYCordinates[s][r],_=r==this.m_calculation.m_seriesSXCordinates[s].length-1?0:r+1,y=this.m_calculation.m_armSXCordinates[_][s],this.m_calculation.m_armSYCordinates[_][s]):(u=this.m_calculation.m_armSOXCordinates[r][s],g=this.m_calculation.m_armSOYCordinates[r][s],d=this.m_calculation.m_seriesSDXCordinates[s][r],C=this.m_calculation.m_seriesSDYCordinates[s][r],p=this.m_calculation.m_seriesEDXCordinates[s][r],x=this.m_calculation.m_seriesEDYCordinates[s][r],_=r==this.m_calculation.m_seriesSXCordinates[s].length-1?0:r+1,c=r==this.m_calculation.m_seriesSXCordinates.length-1?s==this.m_calculation.m_seriesSXCordinates[s].length-1?s+1:0:s,y=this.m_calculation.m_armEOXCordinates[_][c],this.m_calculation.m_armEOYCordinates[_][c]),A=v=1==this.m_calculation.m_seriesSXCordinates[s].length?1:0,w=IsBoolean(this.m_clockwisedirection)?(f=1,0):(f=0,1),["M",u,g,"L",d,C,"A",n+l,n+l,0,v,f,p-A,x,"L",y-A,S,"A",l,l,0,v,w,u,g].join(" ")),S=drawSVGPath();try{S.setAttribute("d",A)}catch(t){}var v=hex2rgb(this.m_seriesColorsArray[a][r],this.m_plotTrasparencyArray[a]),w=[v,"transparent"],A=!!document.documentMode;IsBoolean(h.m_enableanimation)&&0<h.m_animationduration&&!A&&(v=h.circumplexEnableAnimatio(h.m_objectid,r,s,n,h.m_animationduration,w)),S.setAttribute("style","stroke-width:"+this.m_strokewidth+"px; stroke:"+hex2rgb(convertColorToHex(this.m_strokecolor),.2)+"; fill:"+v+";"),$("#"+h.svgContainerId).append(S)}s++}},CircumplexChart.prototype.circumplexEnableAnimatio=function(t,e,i,s,a,r){var o=document.createElementNS(NS,"linearGradient");o.setAttribute("id","LinearGradient"+t+e+i);for(var m=0;m<2;m++){var n=document.createElementNS(NS,"stop"),h=(n.setAttribute("offset","0"),n.setAttribute("stop-color",r[m]),drawSVGStackAnimation(0,"offset",s,a));$(n).append(h),$(n).attr("class","pointShapeColorAnimation"),$(o).append(n)}return $("#defsElement"+t).append(o),"url(#LinearGradient"+t+e+i+")"},CircumplexChart.prototype.drawPolygonSeries=function(){var t=this.m_calculation.m_doughnutWidth/this.m_calculation.getMaxValue();if("canvas"===this.m_canvastype){for(var e=0,i=0;i<this.m_seriesNames.length;i++)if(IsBoolean(this.m_seriesVisibleArr[this.m_seriesNames[i]])){for(var s=0;s<this.m_calculation.m_seriesSXCordinates[e].length;s++){this.ctx.beginPath(),this.ctx.fillStyle=hex2rgb(this.m_seriesColorsArray[i][s],this.m_plotTrasparencyArray[i]),this.ctx.strokeStyle=this.ctx.fillStyle;var a=t*this.m_calculation.getAxisSetupDataValue(this.m_seriesData[i][s]);u="clustered"==this.m_charttype?(o=this.m_calculation.m_armSXCordinates[s][e],m=this.m_calculation.m_armSYCordinates[s][e],this.ctx.moveTo(o,m),n=this.m_calculation.m_seriesSDXCordinates[e][s],h=this.m_calculation.m_seriesSDYCordinates[e][s],this.ctx.lineTo(n,h),l=this.m_calculation.m_seriesEDXCordinates[e][s],c=this.m_calculation.m_seriesEDYCordinates[e][s],this.ctx.lineTo(l,c),1==this.m_seriesNames.length?(j1=s==this.m_calculation.m_seriesSXCordinates[e].length-1?0:s+1,_=this.m_calculation.m_armSXCordinates[j1][e],this.m_calculation.m_armSYCordinates[j1][e]):(k1=e==this.m_calculation.m_seriesSXCordinates.length-1?0:e+1,j1=e==this.m_calculation.m_seriesSXCordinates.length-1?s==this.m_calculation.m_seriesSXCordinates[e].length-1?0:s+1:s,_=this.m_calculation.m_armSXCordinates[j1][k1],this.m_calculation.m_armSYCordinates[j1][k1])):1==this.m_seriesNames.length?(o=this.m_calculation.m_armSXCordinates[s][e],m=this.m_calculation.m_armSYCordinates[s][e],this.ctx.moveTo(o,m),n=this.m_calculation.m_seriesSDXCordinates[e][s],h=this.m_calculation.m_seriesSDYCordinates[e][s],this.ctx.lineTo(n,h),l=this.m_calculation.m_seriesEDXCordinates[e][s],c=this.m_calculation.m_seriesEDYCordinates[e][s],this.ctx.lineTo(l,c),j1=s==this.m_calculation.m_seriesSXCordinates[e].length-1?0:s+1,_=this.m_calculation.m_armSXCordinates[j1][e],this.m_calculation.m_armSYCordinates[j1][e]):(o=this.m_calculation.m_armSOXCordinates[s][e],m=this.m_calculation.m_armSOYCordinates[s][e],this.ctx.moveTo(o,m),n=this.m_calculation.m_seriesSDXCordinates[e][s],h=this.m_calculation.m_seriesSDYCordinates[e][s],this.ctx.lineTo(n,h),l=this.m_calculation.m_seriesEDXCordinates[e][s],c=this.m_calculation.m_seriesEDYCordinates[e][s],this.ctx.lineTo(l,c),j1=s==this.m_calculation.m_seriesSXCordinates[e].length-1?0:s+1,k1=s==this.m_calculation.m_seriesSXCordinates.length-1?e==this.m_calculation.m_seriesSXCordinates[e].length-1?e+1:0:e,_=this.m_calculation.m_armEOXCordinates[j1][k1],this.m_calculation.m_armEOYCordinates[j1][k1]),this.ctx.lineTo(_,u),this.ctx.fill(),this.ctx.closePath()}e++}}else for(var r=this.svgContainerId,e=0,i=0;i<this.m_seriesNames.length;i++)if(IsBoolean(this.m_seriesVisibleArr[this.m_seriesNames[i]])){for(s=0;s<this.m_calculation.m_seriesSXCordinates[e].length;s++){var o,m,n,h,l,c,_,u,g,d,C=hex2rgb(this.m_seriesColorsArray[i][s],this.m_plotTrasparencyArray[i]),p=[C,"transparent"],a=t*this.m_calculation.getAxisSetupDataValue(this.m_seriesData[i][s]);d=(g=(u="clustered"==this.m_charttype?(o=this.m_calculation.m_armSXCordinates[s][e],m=this.m_calculation.m_armSYCordinates[s][e],n=this.m_calculation.m_seriesSDXCordinates[e][s],h=this.m_calculation.m_seriesSDYCordinates[e][s],l=this.m_calculation.m_seriesEDXCordinates[e][s],c=this.m_calculation.m_seriesEDYCordinates[e][s],1==this.m_seriesNames.length?(j1=s==this.m_calculation.m_seriesSXCordinates[e].length-1?0:s+1,_=this.m_calculation.m_armSXCordinates[j1][e],this.m_calculation.m_armSYCordinates[j1][e]):(k1=e==this.m_calculation.m_seriesSXCordinates.length-1?0:e+1,j1=e==this.m_calculation.m_seriesSXCordinates.length-1?s==this.m_calculation.m_seriesSXCordinates[e].length-1?0:s+1:s,_=this.m_calculation.m_armSXCordinates[j1][k1],this.m_calculation.m_armSYCordinates[j1][k1])):1==this.m_seriesNames.length?(o=this.m_calculation.m_armSXCordinates[s][e],m=this.m_calculation.m_armSYCordinates[s][e],n=this.m_calculation.m_seriesSDXCordinates[e][s],h=this.m_calculation.m_seriesSDYCordinates[e][s],l=this.m_calculation.m_seriesEDXCordinates[e][s],c=this.m_calculation.m_seriesEDYCordinates[e][s],j1=s==this.m_calculation.m_seriesSXCordinates[e].length-1?0:s+1,_=this.m_calculation.m_armSXCordinates[j1][e],this.m_calculation.m_armSYCordinates[j1][e]):(o=this.m_calculation.m_armSOXCordinates[s][e],m=this.m_calculation.m_armSOYCordinates[s][e],n=this.m_calculation.m_seriesSDXCordinates[e][s],h=this.m_calculation.m_seriesSDYCordinates[e][s],l=this.m_calculation.m_seriesEDXCordinates[e][s],c=this.m_calculation.m_seriesEDYCordinates[e][s],j1=s==this.m_calculation.m_seriesSXCordinates[e].length-1?0:s+1,k1=s==this.m_calculation.m_seriesSXCordinates.length-1?e==this.m_calculation.m_seriesSXCordinates[e].length-1?e+1:0:e,_=this.m_calculation.m_armEOXCordinates[j1][k1],this.m_calculation.m_armEOYCordinates[j1][k1]),["M",o,m,"L",n,h,"L",l,c,"L",_,u].join(" ")),!!document.documentMode),IsBoolean(this.m_enableanimation)&&0<this.m_animationduration&&!d&&(C=this.circumplexEnableAnimatio(this.m_objectid,s,e,a,this.m_animationduration,p)),(d=drawSVGPath()).setAttribute("d",g),d.setAttribute("style","stroke-width:"+this.m_polylinewidth+"px; stroke:"+C+";fill:"+C+";"),$("#"+r).append(d)}e++}},CircumplexChart.prototype.getToolTipData=function(t,e){if(!IsBoolean(this.m_isEmptySeries)&&!IsBoolean(this.isEmptyCategory)&&IsBoolean(this.isVisibleSeries())&&IsBoolean("None"!==this.m_customtextboxfortooltip.dataTipType)){if(IsBoolean("None"!==this.m_customtextboxfortooltip.dataTipType)){var i,s=this.m_calculation.getArmLength(),t=t-this.m_calculation.getCenterX(),e=e-this.m_calculation.getCenterY(),a=(e<0?(0<t&&(i=IsBoolean(this.m_clockwisedirection)?Math.PI/2-Math.atan2(-e,t):3*Math.PI/2+Math.atan2(-e,t)),t<0&&(i=IsBoolean(this.m_clockwisedirection)?5*Math.PI/2+Math.atan2(e,t):-Math.atan2(e,t)-Math.PI/2)):(t<0&&(i=IsBoolean(this.m_clockwisedirection)?3*Math.PI/2-Math.atan2(e,-t):Math.PI+Math.atan2(e,-t)-Math.PI/2),0<t&&(i=IsBoolean(this.m_clockwisedirection)?3*Math.PI/2-Math.atan2(e,-t):2*Math.PI-Math.atan2(e,t)-Math.PI/2)),Math.sqrt(Math.pow(t,2)+Math.pow(e,2)));if(a<=s&&a>=this.m_calculation.getArmLength()-this.m_calculation.m_doughnutWidth)for(var r=0;r<this.m_seriesData[0].length;r++)if(i>=this.m_calculation.m_angleBetweenArms*r&&i<=this.m_calculation.m_angleBetweenArms*(r+1))if(IsBoolean("Default"==this.m_customtextboxfortooltip.dataTipType)){for(var o,m,n,h={cat:"",subCat:"",subCatData:"",data:[]},l=0;l<this.m_seriesData.length;l++)IsBoolean(this.m_seriesVisibleArr[this.m_seriesNames[l]])&&(o=""==this.m_seriesData[l][r]||isNaN(this.m_seriesData[l][r])||null==this.m_seriesData[l][r]||"null"==this.m_seriesData[l][r]?this.m_seriesData[l][r]:(o=+this.m_seriesData[l][r])%1!=0&&"default"!==this.m_tooltipprecision?o.toFixed(this.m_tooltipprecision):+this.m_seriesData[l][r],h.cat=this.m_categoryData[r][0],h.subCat=this.m_subCategoryDisplayNames[0],h.subCatData=this.m_subCategoryData[r][0],m=this.getFormatterForToolTip(o),(n=new Array)[0]=hex2rgb(this.m_seriesColorsArray[l][r],this.m_plotTrasparencyArray[l]),n[1]=this.m_seriesDisplayNames[l],n[2]=m,h.data.push(n));h.highlightIndex=this.getDrillColor(i,a)}else h=this.getDataProvider()[r];else this.hideToolTip();return h}return!1}},CircumplexChart.prototype.getDrillColor=function(t,e){if(!IsBoolean(this.m_isEmptySeries)&&!IsBoolean(this.isEmptyCategory))for(var i=this.m_calculation.getArmLength(),s=0;s<this.visibleSeriesInfo.seriesData[0].length;s++)if("clustered"==this.m_charttype){for(var a=0,r=0;a<this.visibleSeriesInfo.seriesData.length;a++)if(IsBoolean(this.m_seriesVisibleArr[this.visibleSeriesInfo.seriesName[a]])){var o=this.m_calculation.m_doughnutWidth/this.m_calculation.getMaxValue()*this.m_calculation.getAxisSetupDataValue(this.visibleSeriesInfo.seriesData[a][s]);if(e<=i-this.m_calculation.m_doughnutWidth+o&&e>=i-this.m_calculation.m_doughnutWidth&&t>=this.m_calculation.m_angleBetweenArms*s+this.m_calculation.m_angleBetweenArms*r/this.m_calculation.m_seriesData.length&&t<=this.m_calculation.m_angleBetweenArms*s+this.m_calculation.m_angleBetweenArms*(r+1)/this.m_calculation.m_seriesData.length)return r;r++}}else for(var m=0;m<this.visibleSeriesInfo.seriesData[0].length;m++)for(a=this.visibleSeriesInfo.seriesData.length-1;0<=a;a--)if(IsBoolean(this.m_seriesVisibleArr[this.visibleSeriesInfo.seriesName[a]])){o=this.m_calculation.m_doughnutWidth/this.m_calculation.getMaxValue()*this.m_calculation.getAxisSetupDataValue(this.visibleSeriesInfo.seriesData[a][m]);if(e<=i-this.m_calculation.m_doughnutWidth+o&&e>=i-this.m_calculation.m_doughnutWidth&&t>=this.m_calculation.m_angleBetweenArms*m+this.m_calculation.m_angleBetweenArms/(2*this.m_overlaidspacing)*a&&t<=this.m_calculation.m_angleBetweenArms*(m+1)-this.m_calculation.m_angleBetweenArms/(2*this.m_overlaidspacing)*a)return a}},CircumplexChart.prototype.getFormatterText=function(t,e){var i=t;return i=IsBoolean(this.getFixedLabel())?i:this.m_yAxis.getFormattedText(t,e)},CircumplexChart.prototype.getDrillDataPoints=function(t,e){if(!IsBoolean(this.m_isEmptySeries)&&!IsBoolean(this.isEmptyCategory)&&IsBoolean(this.isVisibleSeries())){var i,s=this.m_calculation.getArmLength(),t=t-this.m_calculation.getCenterX(),e=e-this.m_calculation.getCenterY(),a=(e<0?(0<t&&(i=IsBoolean(this.m_clockwisedirection)?Math.PI/2-Math.atan2(-e,t):3*Math.PI/2+Math.atan2(-e,t)),t<0&&(i=IsBoolean(this.m_clockwisedirection)?5*Math.PI/2+Math.atan2(e,t):-Math.atan2(e,t)-Math.PI/2)):(t<0&&(i=IsBoolean(this.m_clockwisedirection)?3*Math.PI/2-Math.atan2(e,-t):Math.PI+Math.atan2(e,-t)-Math.PI/2),0<t&&(i=IsBoolean(this.m_clockwisedirection)?3*Math.PI/2-Math.atan2(e,-t):2*Math.PI-Math.atan2(e,t)-Math.PI/2)),Math.sqrt(Math.pow(t,2)+Math.pow(e,2)));if(a<=s&&a>=this.m_calculation.getArmLength()-this.m_calculation.m_doughnutWidth)for(var r=0;r<this.m_seriesData[0].length;r++)if(i>=this.m_calculation.m_angleBetweenArms*r&&i<=this.m_calculation.m_angleBetweenArms*(r+1)){var o=this.getDrillColor(i,a);if(void 0===o)break;var m=this.m_seriesColorsArray[o][r],n=this.visibleSeriesInfo.seriesName[o],o=this.visibleSeriesInfo.seriesDisplayName[o],h=this.getFieldNameValueMap(r),l=h[n];return h.drillField=n,h.drillDisplayField=o,h.drillValue=l,{drillRecord:h,drillColor:m}}}},CircumplexChart.prototype.getLegendShape=function(t){t=(IsBoolean(this.m_useseriescolors)&&!IsBoolean(this.m_isEmptySeries)?this.legendMapForSeriesColors[this.m_categoryUniqueNames[t][0]]:this.legendMap[this.getSeriesNames()[t]]).shape;return t},CircumplexChartCalculation.prototype.init=function(t,e,i){this.m_chart=t,this.m_categoryData=e,this.m_numberOfArms=e.length,this.m_angleBetweenArms=2*Math.PI/this.m_numberOfArms,this.m_seriesData=this.m_chart.getVisibleSeriesData(i).seriesData,this.m_webtype=this.m_chart.m_webtype,this.setDrawHeight(),this.setDrawWidth(),this.setArmLength(),this.setDoughnutWidth(),this.setCenterX(),this.setCenterY(),this.setArmsStartCoordinates(),this.setArmsEndCoordinates(),this.setArmsEndCoordinatesForCategoryLabel(),this.calculateMinimumMaximum(),this.setArmMarkersCoordinates(),this.setSeriesStartCoordinates(),this.setSeriesEndCoordinates(),IsBoolean(this.m_chart.m_showdoughnut)&&(this.setArmMarkersCoordinates1(),this.setArmsStartOCoordinates(),this.setArmsEndOCoordinates(),this.setSeriesStartDCoordinates(),this.setSeriesEndDCoordinates())},CircumplexChartCalculation.prototype.setDrawHeight=function(){this.drawHeight=+this.m_chart.getStartY()-+this.m_chart.getEndY()},CircumplexChartCalculation.prototype.getDrawHeight=function(){return this.drawHeight},CircumplexChartCalculation.prototype.setDrawWidth=function(){this.drawWidth=+this.m_chart.getEndX()-+this.m_chart.getStartX()},CircumplexChartCalculation.prototype.getDrawWidth=function(){return this.drawWidth},CircumplexChartCalculation.prototype.setArmLength=function(){this.m_armLength=Math.min(this.getDrawHeight()/2,this.getDrawWidth()/2),this.m_armLength=8*this.m_armLength/10},CircumplexChartCalculation.prototype.setDoughnutWidth=function(){this.m_doughnutWidth=this.getArmLength()*this.m_chart.m_linewidth/100,this.m_chart.m_showdoughnut=100!=this.m_chart.m_linewidth,5<this.m_seriesData.length&&(this.m_chart.m_overlaidspacing=2*this.m_seriesData.length+1)},CircumplexChartCalculation.prototype.getArmLength=function(){return this.m_armLength},CircumplexChartCalculation.prototype.setCenterX=function(){this.m_centerX=+this.m_chart.m_x+this.getDrawWidth()/2*1},CircumplexChartCalculation.prototype.getCenterX=function(){return this.m_centerX},CircumplexChartCalculation.prototype.setCenterY=function(){this.m_centerY=+this.m_chart.getEndY()+this.getDrawHeight()/2},CircumplexChartCalculation.prototype.getCenterY=function(){return this.m_centerY},CircumplexChartCalculation.prototype.setArmsStartCoordinates=function(){this.m_armSXCordinates=[],this.m_armSYCordinates=[];for(var t=0;t<this.m_numberOfArms;t++){this.m_armSXCordinates[t]=[],this.m_armSYCordinates[t]=[];for(var e=0;e<this.m_seriesData.length;e++){var i=IsBoolean(this.m_chart.m_clockwisedirection)?Math.PI/2*1-this.m_angleBetweenArms*t:this.m_angleBetweenArms*t+Math.PI/2*1;"clustered"==this.m_chart.m_charttype&&(i=IsBoolean(this.m_chart.m_clockwisedirection)?i-this.m_angleBetweenArms/this.m_seriesData.length*e:i+this.m_angleBetweenArms/this.m_seriesData.length*e),this.m_armSXCordinates[t][e]=+this.getCenterX()+(this.getArmLength()-this.m_doughnutWidth)*Math.cos(i),this.m_armSYCordinates[t][e]=+this.getCenterY()-(this.getArmLength()-this.m_doughnutWidth)*Math.sin(i)}}},CircumplexChartCalculation.prototype.setArmsEndCoordinates=function(){this.m_armXCordinates=[],this.m_armYCordinates=[];for(var t=0;t<this.m_numberOfArms;t++){this.m_armXCordinates[t]=[],this.m_armYCordinates[t]=[];for(var e=0;e<this.m_seriesData.length;e++){var i=IsBoolean(this.m_chart.m_clockwisedirection)?Math.PI/2*1-this.m_angleBetweenArms*t:this.m_angleBetweenArms*t+Math.PI/2*1;"clustered"==this.m_chart.m_charttype&&(i=IsBoolean(this.m_chart.m_clockwisedirection)?i-this.m_angleBetweenArms/this.m_seriesData.length*e:i+this.m_angleBetweenArms/this.m_seriesData.length*e),this.m_armXCordinates[t][e]=+this.getCenterX()+this.getArmLength()*Math.cos(i),this.m_armYCordinates[t][e]=+this.getCenterY()-this.getArmLength()*Math.sin(i)}}},CircumplexChartCalculation.prototype.setArmsStartOCoordinates=function(){this.m_armSOXCordinates=[],this.m_armSOYCordinates=[];for(var t=0;t<this.m_numberOfArms;t++){this.m_armSOXCordinates[t]=[],this.m_armSOYCordinates[t]=[];for(var e=0;e<this.m_seriesData.length;e++){var i=IsBoolean(this.m_chart.m_clockwisedirection)?Math.PI/2*1-this.m_angleBetweenArms*t-this.m_angleBetweenArms*e/(2*this.m_chart.m_overlaidspacing):this.m_angleBetweenArms*t+Math.PI/2*1+this.m_angleBetweenArms*e/(2*this.m_chart.m_overlaidspacing);"clustered"==this.m_chart.m_charttype&&(i=IsBoolean(this.m_chart.m_clockwisedirection)?i-this.m_angleBetweenArms/this.m_seriesData.length*e:i+this.m_angleBetweenArms/this.m_seriesData.length*e),this.m_armSOXCordinates[t][e]=+this.getCenterX()+(this.getArmLength()-this.m_doughnutWidth)*Math.cos(i),this.m_armSOYCordinates[t][e]=+this.getCenterY()-(this.getArmLength()-this.m_doughnutWidth)*Math.sin(i)}}},CircumplexChartCalculation.prototype.setArmsEndOCoordinates=function(){this.m_armEOXCordinates=[],this.m_armEOYCordinates=[];for(var t=0;t<this.m_numberOfArms;t++){this.m_armEOXCordinates[t]=[],this.m_armEOYCordinates[t]=[];for(var e=0;e<this.m_seriesData.length;e++){var i=IsBoolean(this.m_chart.m_clockwisedirection)?Math.PI/2*1-this.m_angleBetweenArms*t+this.m_angleBetweenArms*e/(2*this.m_chart.m_overlaidspacing):this.m_angleBetweenArms*t+Math.PI/2*1-this.m_angleBetweenArms*e/(2*this.m_chart.m_overlaidspacing);"clustered"==this.m_chart.m_charttype&&(i=IsBoolean(this.m_chart.m_clockwisedirection)?i-this.m_angleBetweenArms/this.m_seriesData.length*e:i+this.m_angleBetweenArms/this.m_seriesData.length*e),this.m_armEOXCordinates[t][e]=+this.getCenterX()+(this.getArmLength()-this.m_doughnutWidth)*Math.cos(i),this.m_armEOYCordinates[t][e]=+this.getCenterY()-(this.getArmLength()-this.m_doughnutWidth)*Math.sin(i)}}},CircumplexChartCalculation.prototype.setArmsEndCoordinatesForCategoryLabel=function(){this.m_armXCordinatesForLabel=[],this.m_armYCordinatesForLabel=[];for(var t=+this.getArmLength()+this.m_chart.fontScaling(+this.m_chart.m_xAxis.m_labelfontsize)/2+2,e=1;e<=this.m_numberOfArms;e++){var i=IsBoolean(this.m_chart.m_clockwisedirection)?Math.PI/2*1-this.m_angleBetweenArms*(e-1)-this.m_angleBetweenArms/2:this.m_angleBetweenArms*(e-1)+Math.PI/2*1+this.m_angleBetweenArms/2;this.m_armXCordinatesForLabel[e-1]=+this.getCenterX()+t*Math.cos(i),this.m_armYCordinatesForLabel[e-1]=+this.getCenterY()-t*Math.sin(i)}},CircumplexChartCalculation.prototype.setMaxValue=function(){this.m_max=0;for(var t=this.m_min=0;t<this.m_seriesData.length;t++){var e=this.getMaxMinFromArr(this.m_seriesData[t]);+this.m_max<+e.max&&(this.m_max=+e.max),+this.m_min<+e.min&&(this.m_min=+e.min)}var i=10,s=(this.m_max<10?i=5:this.m_max<100?i=10:this.m_max<500?i=50:this.m_max<1e3?i=100:this.m_max<5e3?i=500:this.m_max<1e4&&(i=1e3),this.m_max%i);0<s&&(this.m_max=+this.m_max+(i-s))},CircumplexChartCalculation.prototype.calculateMinimumMaximum=function(){var t=this.m_chart.calculateMinMaxValue(this.m_seriesData),e=t.min,t=t.max,e=this.m_chart.getCalculateNiceScale(e,t,this.m_chart.m_basezero,this.m_chart.m_autoaxissetup,this.m_chart.m_minimumaxisvalue,this.m_chart.m_maximumaxisvalue,2*this.m_doughnutWidth);this.m_min=e.min,this.m_max=e.max,this.m_markerTextArray=[],this.m_markerTextArray=e.markerArray,this.m_numberOfMarkers=e.markerArray.length},CircumplexChartCalculation.prototype.getMaxMinFromArr=function(t){for(var e=0,i=0,s=0;s<t.length;s++)0==s?(e=t[s],i=t[s]):(+e<=+t[s]&&(e=t[s]),+i>=+t[s]&&(i=t[s]));return{max:e,min:i}},CircumplexChartCalculation.prototype.getMaxValue=function(){return this.m_max-this.m_min},CircumplexChartCalculation.prototype.getAxisSetupDataValue=function(t){return t>this.m_max||t<this.m_min?0:t-this.m_min},CircumplexChartCalculation.prototype.setArmMarkers=function(){this.m_markerTextArray=[];for(var t=0;t<this.m_numberOfMarkers;t++){var e=this.getMaxValue()/this.m_numberOfMarkers*(t+1);e%1!=0&&(e=e.toFixed(1)),this.m_markerTextArray[t]=e}},CircumplexChartCalculation.prototype.setArmMarkersCoordinates=function(){this.m_armMarkerXCordinates=[],this.m_armMarkerYCordinates=[];for(var t=0;t<this.m_numberOfArms;t++){this.m_armMarkerXCordinates[t]=[],this.m_armMarkerYCordinates[t]=[];for(var e=0;e<this.m_markerTextArray.length;e++){var i=this.getArmLength()/(+this.m_markerTextArray.length-1)*e,s=IsBoolean(this.m_chart.m_clockwisedirection)?Math.PI/2*1-this.m_angleBetweenArms*t:this.m_angleBetweenArms*t+Math.PI/2*1;this.m_armMarkerXCordinates[t][e]=+this.getCenterX()+i*Math.cos(s),this.m_armMarkerYCordinates[t][e]=+this.getCenterY()-i*Math.sin(s)}}},CircumplexChartCalculation.prototype.setArmMarkersCoordinates1=function(){this.m_armMarkerXCordinates1=[],this.m_armMarkerYCordinates1=[];for(var t=0;t<this.m_numberOfArms;t++){this.m_armMarkerXCordinates1[t]=[],this.m_armMarkerYCordinates1[t]=[];for(var e=0;e<this.m_markerTextArray.length;e++){var i=this.m_doughnutWidth/(+this.m_markerTextArray.length-1)*e,s=IsBoolean(this.m_chart.m_clockwisedirection)?Math.PI/2*1-this.m_angleBetweenArms*t:this.m_angleBetweenArms*t+Math.PI/2*1;this.m_armMarkerXCordinates1[t][e]=+this.getCenterX()+(i+(this.m_armLength-this.m_doughnutWidth))*Math.cos(s),this.m_armMarkerYCordinates1[t][e]=+this.getCenterY()-(i+(this.m_armLength-this.m_doughnutWidth))*Math.sin(s)}}},CircumplexChartCalculation.prototype.getPolygonSeriesArmLength=function(t){for(var e=this.m_armMarkerXCordinates1[0][0],i=this.m_armMarkerYCordinates1[0][0],s=this.m_armMarkerXCordinates1[1][0],a=this.m_armMarkerYCordinates1[1][0],r=(a-i)/(s-e),o=a-i,m=0;m<this.m_seriesData.length;m++){var n=a-m*(o/this.m_chart.m_overlaidspacing),h=e+(n-i)/r;m,Math.sqrt(Math.pow(this.getCenterY()-n,2)+Math.pow(this.getCenterX()-h,2))}},CircumplexChartCalculation.prototype.setSeriesStartCoordinates=function(){this.m_seriesSXCordinates=[],this.m_seriesSYCordinates=[];for(var t=this.getArmLength()/this.getMaxValue(),e=0;e<this.m_seriesData.length;e++){this.m_seriesSXCordinates[e]=[],this.m_seriesSYCordinates[e]=[];for(var i=0;i<this.m_seriesData[e].length;i++){var s=t*this.getAxisSetupDataValue(this.m_seriesData[e][i]),a="clustered"==this.m_chart.m_charttype?IsBoolean(this.m_chart.m_clockwisedirection)?Math.PI/2*1-this.m_angleBetweenArms*i-this.m_angleBetweenArms/this.m_seriesData.length*e:this.m_angleBetweenArms*i+Math.PI/2*1+this.m_angleBetweenArms/this.m_seriesData.length*e:IsBoolean(this.m_chart.m_clockwisedirection)?Math.PI/2*1-this.m_angleBetweenArms*i-this.m_angleBetweenArms/this.m_chart.m_overlaidspacing*e:this.m_angleBetweenArms*i+Math.PI/2*1+this.m_angleBetweenArms/this.m_chart.m_overlaidspacing*e;this.m_seriesSXCordinates[e][i]=+this.getCenterX()+s*Math.cos(a),this.m_seriesSYCordinates[e][i]=+this.getCenterY()-s*Math.sin(a)}}},CircumplexChartCalculation.prototype.setSeriesEndCoordinates=function(){this.m_seriesEXCordinates=[],this.m_seriesEYCordinates=[];for(var t=this.getArmLength()/this.getMaxValue(),e=0;e<this.m_seriesData.length;e++){this.m_seriesEXCordinates[e]=[],this.m_seriesEYCordinates[e]=[];for(var i=0;i<this.m_seriesData[e].length;i++){var s=t*this.getAxisSetupDataValue(this.m_seriesData[e][i]),a="clustered"==this.m_chart.m_charttype?IsBoolean(this.m_chart.m_clockwisedirection)?Math.PI/2*1-this.m_angleBetweenArms*(i+1)+this.m_angleBetweenArms*(this.m_seriesData.length-1-e)/this.m_seriesData.length:Math.PI/2*1+this.m_angleBetweenArms*(i+1)-this.m_angleBetweenArms*(this.m_seriesData.length-e-1)/this.m_seriesData.length:IsBoolean(this.m_chart.m_clockwisedirection)?Math.PI/2*1-this.m_angleBetweenArms*(i+1)+this.m_angleBetweenArms/this.m_chart.m_overlaidspacing*e:this.m_angleBetweenArms*(i+1)+Math.PI/2*1-this.m_angleBetweenArms/this.m_chart.m_overlaidspacing*e;this.m_seriesEXCordinates[e][i]=+this.getCenterX()+s*Math.cos(a),this.m_seriesEYCordinates[e][i]=+this.getCenterY()-s*Math.sin(a)}}},CircumplexChartCalculation.prototype.setSeriesStartDCoordinates=function(){this.m_seriesSDXCordinates=[],this.m_seriesSDYCordinates=[];for(var t=this.m_doughnutWidth/this.getMaxValue(),e=0;e<this.m_seriesData.length;e++){this.m_seriesSDXCordinates[e]=[],this.m_seriesSDYCordinates[e]=[];for(var i=0;i<this.m_seriesData[e].length;i++){var s=t*this.getAxisSetupDataValue(this.m_seriesData[e][i])+(this.m_armLength-this.m_doughnutWidth),a="clustered"==this.m_chart.m_charttype?IsBoolean(this.m_chart.m_clockwisedirection)?Math.PI/2*1-this.m_angleBetweenArms*i-this.m_angleBetweenArms/this.m_seriesData.length*e:this.m_angleBetweenArms*i+Math.PI/2*1+this.m_angleBetweenArms/this.m_seriesData.length*e:IsBoolean(this.m_chart.m_clockwisedirection)?Math.PI/2*1-this.m_angleBetweenArms*i-this.m_angleBetweenArms/(2*this.m_chart.m_overlaidspacing)*e:this.m_angleBetweenArms*i+Math.PI/2*1+this.m_angleBetweenArms/(2*this.m_chart.m_overlaidspacing)*e;this.m_seriesSDXCordinates[e][i]=+this.getCenterX()+s*Math.cos(a),this.m_seriesSDYCordinates[e][i]=+this.getCenterY()-s*Math.sin(a)}}},CircumplexChartCalculation.prototype.setSeriesEndDCoordinates=function(){this.m_seriesEDXCordinates=[],this.m_seriesEDYCordinates=[];for(var t=this.m_doughnutWidth/this.getMaxValue(),e=0;e<this.m_seriesData.length;e++){this.m_seriesEDXCordinates[e]=[],this.m_seriesEDYCordinates[e]=[];for(var i=0;i<this.m_seriesData[e].length;i++){var s=t*this.getAxisSetupDataValue(this.m_seriesData[e][i])+(this.m_armLength-this.m_doughnutWidth),a="clustered"==this.m_chart.m_charttype?IsBoolean(this.m_chart.m_clockwisedirection)?Math.PI/2*1-this.m_angleBetweenArms*(i+1)+this.m_angleBetweenArms*(this.m_seriesData.length-1-e)/this.m_seriesData.length:Math.PI/2*1+this.m_angleBetweenArms*(i+1)-this.m_angleBetweenArms*(this.m_seriesData.length-e-1)/this.m_seriesData.length:IsBoolean(this.m_chart.m_clockwisedirection)?Math.PI/2*1-this.m_angleBetweenArms*(i+1)+this.m_angleBetweenArms/(2*this.m_chart.m_overlaidspacing)*e:this.m_angleBetweenArms*(i+1)+Math.PI/2*1-this.m_angleBetweenArms/(2*this.m_chart.m_overlaidspacing)*e;this.m_seriesEDXCordinates[e][i]=+this.getCenterX()+s*Math.cos(a),this.m_seriesEDYCordinates[e][i]=+this.getCenterY()-s*Math.sin(a)}}},CircumplexChartCalculation.prototype.getYAxisText=function(){return this.m_categoryData},CircumplexChartCalculation.prototype.getYAxisMarkersArray=function(){return this.yAxisData};
//# sourceMappingURL=CircumplexChart.min.js.map