/*! BDB Dashboard Designer V10.0.0 (2025-08-14 11:38:13) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
angular.module("dndLists",[]).directive("dndDraggable",["$parse","$timeout","dndDropEffectWorkaround","dndDragTypeWorkaround",function(i,t,a,l){return function(r,n,o){n.attr("draggable","true"),o.dndDisableIf&&r.$watch(o.dndDisableIf,function(e){n.attr("draggable",!e)}),n.on("dragstart",function(e){(e=e.originalEvent||e).dataTransfer.setData("Text",angular.toJson(r.$eval(o.dndDraggable))),e.dataTransfer.effectAllowed=o.dndEffectAllowed||"move",n.addClass("dndDragging"),t(function(){n.addClass("dndDraggingSource")},0),a.dropEffect="none",l.isDragging=!0,l.dragType=o.dndType?r.$eval(o.dndType):void 0,i(o.dndDragstart)(r,{event:e}),e.stopPropagation()}),n.on("dragend",function(e){e=e.originalEvent||e;var t=a.dropEffect;r.$apply(function(){switch(t){case"move":i(o.dndMoved)(r,{event:e});break;case"copy":i(o.dndCopied)(r,{event:e})}}),n.removeClass("dndDragging"),n.removeClass("dndDraggingSource"),l.isDragging=!1,e.stopPropagation()}),n.on("click",function(e){e=e.originalEvent||e,r.$apply(function(){i(o.dndSelected)(r,{event:e})}),e.stopPropagation()}),n.on("selectstart",function(){return this.dragDrop&&this.dragDrop(),!1})}}]).directive("dndList",["$parse","$timeout","dndDropEffectWorkaround","dndDragTypeWorkaround",function(p,v,m,h){return function(o,r,i){var n=angular.element("<li class='dndPlaceholder'></li>"),a=n[0],l=r[0],c=i.dndHorizontalList&&o.$eval(i.dndHorizontalList),t=i.dndExternalSources&&o.$eval(i.dndExternalSources);function d(e,t,r){var e=c?e.offsetX||e.layerX:e.offsetY||e.layerY,n=c?t.offsetWidth:t.offsetHeight,t=c?t.offsetLeft:t.offsetTop;return e<(r?t:0)+n/2}function s(){return Array.prototype.indexOf.call(l.children,a)}function u(e){if((h.isDragging||t)&&function(e){if(!e)return 1;for(var t=0;t<e.length;t++)if("Text"===e[t]||"text/plain"===e[t])return 1;return}(e.dataTransfer.types)){if(i.dndAllowedTypes&&h.isDragging){e=o.$eval(i.dndAllowedTypes);if(angular.isArray(e)&&-1===e.indexOf(h.dragType))return}return i.dndDisableIf&&o.$eval(i.dndDisableIf)?void 0:1}}function f(){return n.remove(),r.removeClass("dndDragover"),!0}function g(e,t,r){return p(e)(o,{event:t,index:s(),item:r||void 0,external:!h.isDragging,type:h.isDragging?h.dragType:void 0})}r.on("dragover",function(e){if(!u(e=e.originalEvent||e))return!0;if(a.parentNode!=l&&r.append(n),e.target!==l){for(var t=e.target;t.parentNode!==l&&t.parentNode;)t=t.parentNode;t.parentNode===l&&t!==a&&(d(e,t)?l.insertBefore(a,t):l.insertBefore(a,t.nextSibling))}else if(d(e,a,!0))for(;a.previousElementSibling&&(d(e,a.previousElementSibling,!0)||0===a.previousElementSibling.offsetHeight);)l.insertBefore(a,a.previousElementSibling);else for(;a.nextElementSibling&&!d(e,a.nextElementSibling,!0);)l.insertBefore(a,a.nextElementSibling.nextElementSibling);return i.dndDragover&&!g(i.dndDragover,e)?f():(r.addClass("dndDragover"),e.preventDefault(),e.stopPropagation(),!1)}),r.on("drop",function(e){if(!u(e=e.originalEvent||e))return!0;e.preventDefault();var t,r,n=e.dataTransfer.getData("Text")||e.dataTransfer.getData("text/plain");try{t=JSON.parse(n)}catch(e){return f()}return i.dndDrop&&!(t=g(i.dndDrop,e,t))?f():(r=o.$eval(i.dndList),o.$apply(function(){r.splice(s(),0,t)}),"none"===e.dataTransfer.dropEffect?"copy"===e.dataTransfer.effectAllowed||"move"===e.dataTransfer.effectAllowed?m.dropEffect=e.dataTransfer.effectAllowed:m.dropEffect=e.ctrlKey?"copy":"move":m.dropEffect=e.dataTransfer.dropEffect,f(),e.stopPropagation(),!1)}),r.on("dragleave",function(e){e=e.originalEvent||e,r.removeClass("dndDragover"),v(function(){r.hasClass("dndDragover")||n.remove()},100)})}}]).factory("dndDragTypeWorkaround",function(){return{}}).factory("dndDropEffectWorkaround",function(){return{}}),angular.module(designerModules.module.DataSourceManager).directive("bizDataSourceContainer",function(){return{restrict:"E",templateUrl:"./views/dashboardTabs/dataConnection/DataConnectionMainPage.html",controller:"DPController"}}).directive("csvConnection",function(){return{restrict:"E",templateUrl:"./views/dashboardTabs/dataConnection/CSVConnectionPage.html",controller:"CSVController"}}).directive("excelConnection",function(){return{restrict:"E",templateUrl:"./views/dashboardTabs/dataConnection/ExcelConnectionPage.html",controller:"ExcelController"}}).directive("webserviceConnection",function(){return{restrict:"E",templateUrl:"./views/dashboardTabs/dataConnection/WebserviceConnectionPage.html",controller:"WebserviceController"}}).directive("paConnection",function(){return{restrict:"E",templateUrl:"./views/dashboardTabs/dataConnection/PAConnectionPage.html",controller:"PAController"}}).directive("dsConnection",function(){return{restrict:"E",templateUrl:"./views/dashboardTabs/dataConnection/DSConnectionPage.html",controller:"DSController"}}).directive("wsConnection",function(){return{restrict:"E",templateUrl:"./views/dashboardTabs/dataConnection/WSConnectionPage.html",controller:"WSController"}}).directive("datasheetConnection",function(){return{restrict:"E",templateUrl:"./views/dashboardTabs/dataConnection/DataSheetConnectionPage.html",controller:"DataSheetController"}}).directive("ddataConnection",function(){return{restrict:"E",templateUrl:"./views/dashboardTabs/dataConnection/DdataConnectionPage.html",controller:"DdataController"}}).directive("onReadFile",["$parse","ServiceFactory",function(i,a){return{restrict:"A",scope:!1,link:function(r,e,t){var n=i(t.onReadFile),o=new FileReader;e.on("change",function(e){var t;0<(e.srcElement||e.target).files.length&&(-1!=(t=(e.srcElement||e.target).files[0]).name.toLowerCase().indexOf(".gif")||-1!=t.name.toLowerCase().indexOf(".png")||-1!=t.name.toLowerCase().indexOf(".jpg")||-1!=t.name.toLowerCase().indexOf(".jpeg")?t.size<r.modal.userPreference.defaultLimitConfigs.imgFile?o.readAsDataURL(t):a.showNotification("File size should not exceed 3MB","alert-warning",2e3):t.size<r.modal.userPreference.defaultLimitConfigs.bvzxFile?o.readAsText(t):a.showNotification("File size should not exceed 3MB","alert-warning",2e3)),o.onload=function(e){r.$apply(function(){n(r,{$file:{fileData:e.target.result,fileName:t.name}})})}})}}}]),angular.module("designer").directive("bizMainmenu",function(){return{restrict:"A",controller:"MainMenuController",templateUrl:"./views/designerToggleMenu/MainMenu.html"}}).directive("bizDsncontainer",function(){return{restrict:"A",controller:"DashboardDesignerController",templateUrl:"./views/designArea/DesignerContainer.html"}}).directive("designHomeView",function(){return{restrict:"E",controller:"DesignerController",templateUrl:"./views/designArea/DesignHomeView.html"}}).directive("bizMaintab",function(){return{restrict:"A",controller:"DesignerPropertyController",templateUrl:"./views/dashboardTabs/MainTab.html"}}).directive("bvzSearchObjects",function(){return{restrict:"AE",controller:"DesignerController",templateUrl:"./views/SearchObjects.html"}}).directive("gvarSearchTool",function(){return{restrict:"AE",controller:"DesignerController",templateUrl:"./views/SearchGvarAttributes.html"}}).directive("fnSearchTool",function(){return{restrict:"AE",controller:"UserScriptController",templateUrl:"./views/SearchFunctions.html"}}).directive("bizvizWorkspaceManagement",function(){return{restrict:"E",controller:"MainMenuController",templateUrl:"./views/designerToggleMenu/manageWorkspace.html"}}).directive("bizvizTemplates",function(){return{restrict:"E",controller:"MainMenuController",templateUrl:"./views/designerToggleMenu/Templates.html"}}).directive("bizvizTemplateList",function(){return{restrict:"E",controller:"MainMenuController",templateUrl:"./views/designerToggleMenu/TemplateList.html"}}).directive("bizvizSampleDashboard",function(){return{restrict:"E",controller:"MainMenuController",templateUrl:"./views/designerToggleMenu/SampleDashboard.html"}}).directive("bizvizOpenDashboard",function(){return{restrict:"E",controller:"MainMenuController",templateUrl:"./views/designerToggleMenu/OpenDashboard.html"}}).directive("bizvizExportDashboard",function(){return{restrict:"E",controller:"MainMenuController",templateUrl:"./views/designerToggleMenu/ExportDashboard.html"}}).directive("bizvizUserPreferencesDashboard",function(){return{restrict:"E",controller:"MainMenuController",templateUrl:"./views/designerToggleMenu/UserPreferencesDashboard.html"}}).directive("bizvizPublishDashboard",function(){return{restrict:"E",controller:"MainMenuController",templateUrl:"./views/designerToggleMenu/PublishDashboard.html"}}).directive("bizvizWelcomeNote",function(){return{restrict:"E",controller:"MainMenuController",templateUrl:"./views/designerToggleMenu/WelcomePage.html"}}).directive("bizvizFileExplorer",function(){return{restrict:"EA",controller:"FileExplorerController",templateUrl:"./views/FileExplorer.html"}}).directive("bizvizDesignerHelp",function(){return{restrict:"E",controller:"HelpController",templateUrl:"./views/helpIndex.html"}}).directive("matTooltip",function(){return{link:function(e,t,r){tippy(t[0],{content:r.matTooltip||"",placement:r.placement||"bottom",allowHTML:!0})}}}).directive("repeatEnd",function(){return{restrict:"A",link:function(e,t,r){e.$last&&e.$eval(r.repeatEnd)}}}).directive("bvzResponsive",["$compile",function(i){var a=function(e,t){for(var r,n,o=$(".draggablesParentDiv").height(),i=0;i<t.length;i++){r=$("<div></div>").attr("id",t[i].id),c=void 0;var a=r,l=t[i].attr;if(l)for(var c in l)l.hasOwnProperty(c)&&a.attr(c,l[c]);(t[i].parent.trim()?((n=+t[i].pheight)&&(n=Math.floor(o*n/100)-2,r.height(n)),$("#"+t[i].parent)):e).append(r)}},l=function(r){var e=$("#templeteContainer div");$.each(e,function(e,t){-1==$(t).attr("id").indexOf("dashboard")&&$(t).attr("id",r.modal.selectedDashboard.id+"-"+$(t).attr("id"))})};return{restrict:"A",controller:"MainMenuController",template:"",link:function(e,t){var r,n=e.modal.selectedDashboard.json.Dashboard.Containers.Container,o=(n=n,o=e,a($("#templeteContainer"),n),l(o),n=$("#templeteContainer").find(".bv-col-bs"),r="",$.each(n,function(e,t){0==$(t).children().length?((r=$("<div></div>")).addClass("vDiv"),$(this).attr("data-drop","true").attr("ng-drop","true").attr("ng-drop-success","onDropComplete( $data, $event, element )").append(r)):$(t).removeClass("bv-col-bs")}),$("#templeteContainer").html());t.empty(),t.append(o),i(t.contents())(e),$("#templeteContainer").empty()}}}]).directive("sglclick",["$parse",function(a){return{restrict:"A",link:function(t,e,r){var n=a(r.sglclick),o=0,i=null;e.on("click",function(e){1===++o?i=setTimeout(function(){t.$apply(function(){n(t,{$event:e})}),o=0},300):(clearTimeout(i),o=0)})}}}]).directive("jqSortable",["$timeout",function(r){return{restrict:"A",scope:{sortCfg:"="},link:function(e,t){r(function(){$(t).sortable(e.sortCfg)},0)}}}]).directive("jqResizable",["$parse",function(n){return{link:function(e,t,r){r=n(r.jqResizable)(e);t.resizable(r)}}}]).directive("jqSelectable",["$parse",function(n){return{link:function(e,t,r){r=n(r.jqSelectable)(e);t.selectable(r)}}}]).filter("advSearch",function(){return function(e,t,r){var n,o,i,a;return t?(n=t.toLowerCase(),o=[],angular.forEach(e,function(e,t){"object"==typeof e?e.hasOwnProperty(r)&&(i=e[r].toString().toLowerCase(),a=void 0!==e.referenceID?e.referenceID.toString().toLowerCase():"",-1==i.indexOf(n)&&-1==a.indexOf(n)||o.push(e)):-1!=(i=e.toString().toLowerCase()).indexOf(n)&&o.push(e)}),o):e}}).filter("scriptSearch",function(){return function(e,t,r){var n,o,i;return t?(n=t.toLowerCase(),o=[],angular.forEach(e,function(e,t){"object"==typeof e?(i=e.variable.userScript[r].toString().toLowerCase(),void 0!==e.referenceID&&e.referenceID.toString().toLowerCase(),-1!=i.indexOf(n)&&o.push(e)):-1!=(i=e.toString().toLowerCase()).indexOf(n)&&o.push(e)}),o):e}}).filter("titlecase",function(){return function(t){var n=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;try{return(""+t).toLowerCase().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(e,t,r){return 0<t&&t+e.length!==r.length&&-1<e.search(n)&&":"!==r.charAt(t-2)&&("-"!==r.charAt(t+e.length)||"-"===r.charAt(t-1))&&r.charAt(t-1).search(/[^\s-]/)<0?e.toLowerCase():-1<e.substr(1).search(/[A-Z]|\../)?e:e.charAt(0).toUpperCase()+e.substr(1)})}catch(e){return t}}}),angular.module(designerModules.module.ComponentManager).directive("bizCompContainer",function(){return{templateUrl:"./views/dashboardTabs/WidgetExplorer.html",controller:"WidgetController"}}),angular.module(designerModules.module.DesignerPropertyManager).directive("bizObjectBrowserContainer",function(){return{templateUrl:"./views/dashboardTabs/ObjectBrowserManagement.html",controller:"ObjectBrowserController"}}),angular.module(designerModules.module.DesignerPropertyManager).directive("ngPatternRestrict",[function(){"use strict";return{restrict:"A",require:"?ngModel",compile:function(){return function(e,n,r,t){var o,i,a,l,c,d,s,u=!1,f=!1;function g(){return n[0].selectionStart}function p(){var e=document.selection.createRange();return e.moveStart("character",-n.val().length),e.text.length}function v(){for(var e,t,r,n=window.getSelection(),o=String(n).length,i=!1;e=String(n).length,n.modify("extend","backward","character"),0===String(n).length&&(i=!0),e!==String(n).length;);for(t=i?e:e-o,n.collapseToStart(),r=t;0<r--;)n.modify("move","forward","character");for(;0<o--;)n.modify("extend","forward","character");return t}function m(e){n[0].setSelectionRange(e,e)}function h(e){var t=n[0].createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",e),t.select()}function b(e){for(var t,r=window.getSelection();t=String(r).length,r.modify("extend","backward","line"),t!==String(r).length;);for(r.collapseToStart();e--;)r.modify("move","forward","character")}function C(){t&&e.$apply(function(){t.$setViewValue(i)}),n.val(i),angular.isUndefined(a)||c(a)}function D(e){var t=n.val(),r=n.prop("validity");(""!==t||"text"===n.attr("type")||!r||!r.badInput)&&(""!==t||0===(r=n[0],/Opera/i.test(navigator.userAgent)&&(r.focus(),document.execCommand("selectAll"),(window.getSelection().focusNode||{}).selectionStart)||0))&&o.test(t)?(i=t,a=l()):(e.preventDefault(),C())}function w(){var t=r.ngPatternRestrict||r.pattern;try{o=new RegExp(t)}catch(e){throw"Invalid RegEx string parsed for ngPatternRestrict: "+t}}function E(e,t){try{return e()||!t}catch(e){}}r.$observe("ngPatternRestrict",w),r.$observe("pattern",w),e.$on("$destroy",function(){f&&(n.unbind("input",D),n.unbind("keyup",D),n.unbind("click",D),f=!1)}),u||(w(),i=(i=n.val())||"",f||n.bind("input keyup click",D),d=n[0],l=E(function(){return d.selectionStart})?g:E(function(){return document.selection},!0)?p:v,s=n[0],c="function"==typeof s.setSelectionRange?m:"function"==typeof s.createTextRange?h:b,u=!0)}}}}]),angular.module(designerModules.module.PropertyManager).directive("bizDatasetContainer",function(){return{templateUrl:"./views/dashboardTabs/DatasetPalette.html",controller:"DatasetController"}}).directive("bizFnContainer",function(){return{templateUrl:"./views/dashboardTabs/variableManagement/FnWindow.html",controller:"UserScriptController"}}).directive("bizPropertyPalette",function(){return{templateUrl:"./views/dashboardTabs/DashboardProperties.html",controller:"PropertyController"}}).directive("bizScriptContainer",function(){return{templateUrl:"./views/dashboardTabs/variableManagement/ComponentAttributes.html",controller:"ComponentAttributeController"}});
//# sourceMappingURL=designer.dir.min.js.map